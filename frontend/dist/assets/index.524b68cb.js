var kx=Object.defineProperty;var Cx=(e,t,n)=>t in e?kx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ix=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Y=(e,t,n)=>(Cx(e,typeof t!="symbol"?t+"":t,n),n);var Wq=Ix((Gq,xx)=>{const Dx=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}};Dx();function jf(e,t){const n=Object.create(null),s=e.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function Ra(e){if(ct(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=fe(s)?Ox(s):Ra(s);if(i)for(const r in i)t[r]=i[r]}return t}else{if(fe(e))return e;if(Vt(e))return e}}const Rx=/;(?![^(]*\))/g,Mx=/:([^]+)/,Ax=/\/\*.*?\*\//gs;function Ox(e){const t={};return e.replace(Ax,"").split(Rx).forEach(n=>{if(n){const s=n.split(Mx);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Vn(e){let t="";if(fe(e))t=e;else if(ct(e))for(let n=0;n<e.length;n++){const s=Vn(e[n]);s&&(t+=s+" ")}else if(Vt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Px="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lx=jf(Px);function Sv(e){return!!e||e===""}function Nx(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Ki(e[s],t[s]);return n}function Ki(e,t){if(e===t)return!0;let n=nm(e),s=nm(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Qo(e),s=Qo(t),n||s)return e===t;if(n=ct(e),s=ct(t),n||s)return n&&s?Nx(e,t):!1;if(n=Vt(e),s=Vt(t),n||s){if(!n||!s)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),c=t.hasOwnProperty(o);if(a&&!c||!a&&c||!Ki(e[o],t[o]))return!1}}return String(e)===String(t)}function Vf(e,t){return e.findIndex(n=>Ki(n,t))}const re=e=>fe(e)?e:e==null?"":ct(e)||Vt(e)&&(e.toString===xv||!yt(e.toString))?JSON.stringify(e,Ev,2):String(e),Ev=(e,t)=>t&&t.__v_isRef?Ev(e,t.value):wr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:qr(t)?{[`Set(${t.size})`]:[...t.values()]}:Vt(t)&&!ct(t)&&!kv(t)?String(t):t,Kt={},vr=[],_n=()=>{},Fx=()=>!1,$x=/^on[^a-z]/,su=e=>$x.test(e),zf=e=>e.startsWith("onUpdate:"),ke=Object.assign,Wf=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Bx=Object.prototype.hasOwnProperty,Dt=(e,t)=>Bx.call(e,t),ct=Array.isArray,wr=e=>Ma(e)==="[object Map]",qr=e=>Ma(e)==="[object Set]",nm=e=>Ma(e)==="[object Date]",yt=e=>typeof e=="function",fe=e=>typeof e=="string",Qo=e=>typeof e=="symbol",Vt=e=>e!==null&&typeof e=="object",Tv=e=>Vt(e)&&yt(e.then)&&yt(e.catch),xv=Object.prototype.toString,Ma=e=>xv.call(e),Ux=e=>Ma(e).slice(8,-1),kv=e=>Ma(e)==="[object Object]",qf=e=>fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Uc=jf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),iu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Hx=/-(\w)/g,zn=iu(e=>e.replace(Hx,(t,n)=>n?n.toUpperCase():"")),jx=/\B([A-Z])/g,er=iu(e=>e.replace(jx,"-$1").toLowerCase()),ru=iu(e=>e.charAt(0).toUpperCase()+e.slice(1)),mh=iu(e=>e?`on${ru(e)}`:""),Zo=(e,t)=>!Object.is(e,t),Hc=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ll=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ul=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Vx=e=>{const t=fe(e)?Number(e):NaN;return isNaN(t)?e:t};let sm;const zx=()=>sm||(sm=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Je;class Cv{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Je,!t&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Je;try{return Je=this,t()}finally{Je=n}}}on(){Je=this}off(){Je=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Iv(e){return new Cv(e)}function Wx(e,t=Je){t&&t.active&&t.effects.push(e)}function Dv(){return Je}function qx(e){Je&&Je.cleanups.push(e)}const Gf=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Rv=e=>(e.w&si)>0,Mv=e=>(e.n&si)>0,Gx=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=si},Kx=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const i=t[s];Rv(i)&&!Mv(i)?i.delete(e):t[n++]=i,i.w&=~si,i.n&=~si}t.length=n}},hl=new WeakMap;let wo=0,si=1;const fd=30;let dn;const ji=Symbol(""),pd=Symbol("");class Kf{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Wx(this,s)}run(){if(!this.active)return this.fn();let t=dn,n=Gs;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=dn,dn=this,Gs=!0,si=1<<++wo,wo<=fd?Gx(this):im(this),this.fn()}finally{wo<=fd&&Kx(this),si=1<<--wo,dn=this.parent,Gs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){dn===this?this.deferStop=!0:this.active&&(im(this),this.onStop&&this.onStop(),this.active=!1)}}function im(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Gs=!0;const Av=[];function Gr(){Av.push(Gs),Gs=!1}function Kr(){const e=Av.pop();Gs=e===void 0?!0:e}function Ke(e,t,n){if(Gs&&dn){let s=hl.get(e);s||hl.set(e,s=new Map);let i=s.get(n);i||s.set(n,i=Gf()),Ov(i)}}function Ov(e,t){let n=!1;wo<=fd?Mv(e)||(e.n|=si,n=!Rv(e)):n=!e.has(dn),n&&(e.add(dn),dn.deps.push(e))}function bs(e,t,n,s,i,r){const o=hl.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&ct(e)){const c=Number(s);o.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":ct(e)?qf(n)&&a.push(o.get("length")):(a.push(o.get(ji)),wr(e)&&a.push(o.get(pd)));break;case"delete":ct(e)||(a.push(o.get(ji)),wr(e)&&a.push(o.get(pd)));break;case"set":wr(e)&&a.push(o.get(ji));break}if(a.length===1)a[0]&&gd(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);gd(Gf(c))}}function gd(e,t){const n=ct(e)?e:[...e];for(const s of n)s.computed&&rm(s);for(const s of n)s.computed||rm(s)}function rm(e,t){(e!==dn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Yx(e,t){var n;return(n=hl.get(e))===null||n===void 0?void 0:n.get(t)}const Xx=jf("__proto__,__v_isRef,__isVue"),Pv=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Qo)),Jx=Yf(),Qx=Yf(!1,!0),Zx=Yf(!0),om=tk();function tk(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=xt(this);for(let r=0,o=this.length;r<o;r++)Ke(s,"get",r+"");const i=s[t](...n);return i===-1||i===!1?s[t](...n.map(xt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Gr();const s=xt(this)[t].apply(this,n);return Kr(),s}}),e}function ek(e){const t=xt(this);return Ke(t,"has",e),t.hasOwnProperty(e)}function Yf(e=!1,t=!1){return function(s,i,r){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&r===(e?t?_k:Bv:t?$v:Fv).get(s))return s;const o=ct(s);if(!e){if(o&&Dt(om,i))return Reflect.get(om,i,r);if(i==="hasOwnProperty")return ek}const a=Reflect.get(s,i,r);return(Qo(i)?Pv.has(i):Xx(i))||(e||Ke(s,"get",i),t)?a:ne(a)?o&&qf(i)?a:a.value:Vt(a)?e?Uv(a):Yr(a):a}}const nk=Lv(),sk=Lv(!0);function Lv(e=!1){return function(n,s,i,r){let o=n[s];if(Dr(o)&&ne(o)&&!ne(i))return!1;if(!e&&(!dl(i)&&!Dr(i)&&(o=xt(o),i=xt(i)),!ct(n)&&ne(o)&&!ne(i)))return o.value=i,!0;const a=ct(n)&&qf(s)?Number(s)<n.length:Dt(n,s),c=Reflect.set(n,s,i,r);return n===xt(r)&&(a?Zo(i,o)&&bs(n,"set",s,i):bs(n,"add",s,i)),c}}function ik(e,t){const n=Dt(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&bs(e,"delete",t,void 0),s}function rk(e,t){const n=Reflect.has(e,t);return(!Qo(t)||!Pv.has(t))&&Ke(e,"has",t),n}function ok(e){return Ke(e,"iterate",ct(e)?"length":ji),Reflect.ownKeys(e)}const Nv={get:Jx,set:nk,deleteProperty:ik,has:rk,ownKeys:ok},ak={get:Zx,set(e,t){return!0},deleteProperty(e,t){return!0}},ck=ke({},Nv,{get:Qx,set:sk}),Xf=e=>e,ou=e=>Reflect.getPrototypeOf(e);function rc(e,t,n=!1,s=!1){e=e.__v_raw;const i=xt(e),r=xt(t);n||(t!==r&&Ke(i,"get",t),Ke(i,"get",r));const{has:o}=ou(i),a=s?Xf:n?Zf:ta;if(o.call(i,t))return a(e.get(t));if(o.call(i,r))return a(e.get(r));e!==i&&e.get(t)}function oc(e,t=!1){const n=this.__v_raw,s=xt(n),i=xt(e);return t||(e!==i&&Ke(s,"has",e),Ke(s,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function ac(e,t=!1){return e=e.__v_raw,!t&&Ke(xt(e),"iterate",ji),Reflect.get(e,"size",e)}function am(e){e=xt(e);const t=xt(this);return ou(t).has.call(t,e)||(t.add(e),bs(t,"add",e,e)),this}function cm(e,t){t=xt(t);const n=xt(this),{has:s,get:i}=ou(n);let r=s.call(n,e);r||(e=xt(e),r=s.call(n,e));const o=i.call(n,e);return n.set(e,t),r?Zo(t,o)&&bs(n,"set",e,t):bs(n,"add",e,t),this}function lm(e){const t=xt(this),{has:n,get:s}=ou(t);let i=n.call(t,e);i||(e=xt(e),i=n.call(t,e)),s&&s.call(t,e);const r=t.delete(e);return i&&bs(t,"delete",e,void 0),r}function um(){const e=xt(this),t=e.size!==0,n=e.clear();return t&&bs(e,"clear",void 0,void 0),n}function cc(e,t){return function(s,i){const r=this,o=r.__v_raw,a=xt(o),c=t?Xf:e?Zf:ta;return!e&&Ke(a,"iterate",ji),o.forEach((l,u)=>s.call(i,c(l),c(u),r))}}function lc(e,t,n){return function(...s){const i=this.__v_raw,r=xt(i),o=wr(r),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=i[e](...s),u=n?Xf:t?Zf:ta;return!t&&Ke(r,"iterate",c?pd:ji),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function ks(e){return function(...t){return e==="delete"?!1:this}}function lk(){const e={get(r){return rc(this,r)},get size(){return ac(this)},has:oc,add:am,set:cm,delete:lm,clear:um,forEach:cc(!1,!1)},t={get(r){return rc(this,r,!1,!0)},get size(){return ac(this)},has:oc,add:am,set:cm,delete:lm,clear:um,forEach:cc(!1,!0)},n={get(r){return rc(this,r,!0)},get size(){return ac(this,!0)},has(r){return oc.call(this,r,!0)},add:ks("add"),set:ks("set"),delete:ks("delete"),clear:ks("clear"),forEach:cc(!0,!1)},s={get(r){return rc(this,r,!0,!0)},get size(){return ac(this,!0)},has(r){return oc.call(this,r,!0)},add:ks("add"),set:ks("set"),delete:ks("delete"),clear:ks("clear"),forEach:cc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=lc(r,!1,!1),n[r]=lc(r,!0,!1),t[r]=lc(r,!1,!0),s[r]=lc(r,!0,!0)}),[e,n,t,s]}const[uk,hk,dk,fk]=lk();function Jf(e,t){const n=t?e?fk:dk:e?hk:uk;return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(Dt(n,i)&&i in s?n:s,i,r)}const pk={get:Jf(!1,!1)},gk={get:Jf(!1,!0)},mk={get:Jf(!0,!1)},Fv=new WeakMap,$v=new WeakMap,Bv=new WeakMap,_k=new WeakMap;function yk(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bk(e){return e.__v_skip||!Object.isExtensible(e)?0:yk(Ux(e))}function Yr(e){return Dr(e)?e:Qf(e,!1,Nv,pk,Fv)}function vk(e){return Qf(e,!1,ck,gk,$v)}function Uv(e){return Qf(e,!0,ak,mk,Bv)}function Qf(e,t,n,s,i){if(!Vt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const o=bk(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return i.set(e,a),a}function _s(e){return Dr(e)?_s(e.__v_raw):!!(e&&e.__v_isReactive)}function Dr(e){return!!(e&&e.__v_isReadonly)}function dl(e){return!!(e&&e.__v_isShallow)}function Hv(e){return _s(e)||Dr(e)}function xt(e){const t=e&&e.__v_raw;return t?xt(t):e}function Rr(e){return ll(e,"__v_skip",!0),e}const ta=e=>Vt(e)?Yr(e):e,Zf=e=>Vt(e)?Uv(e):e;function jv(e){Gs&&dn&&(e=xt(e),Ov(e.dep||(e.dep=Gf())))}function Vv(e,t){e=xt(e);const n=e.dep;n&&gd(n)}function ne(e){return!!(e&&e.__v_isRef===!0)}function oe(e){return zv(e,!1)}function wk(e){return zv(e,!0)}function zv(e,t){return ne(e)?e:new Sk(e,t)}class Sk{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:xt(t),this._value=n?t:ta(t)}get value(){return jv(this),this._value}set value(t){const n=this.__v_isShallow||dl(t)||Dr(t);t=n?t:xt(t),Zo(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ta(t),Vv(this))}}function rt(e){return ne(e)?e.value:e}const Ek={get:(e,t,n)=>rt(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return ne(i)&&!ne(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function Wv(e){return _s(e)?e:new Proxy(e,Ek)}function Tk(e){const t=ct(e)?new Array(e.length):{};for(const n in e)t[n]=qv(e,n);return t}class xk{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Yx(xt(this._object),this._key)}}function qv(e,t,n){const s=e[t];return ne(s)?s:new xk(e,t,n)}var Gv;class kk{constructor(t,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Gv]=!1,this._dirty=!0,this.effect=new Kf(t,()=>{this._dirty||(this._dirty=!0,Vv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=xt(this);return jv(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Gv="__v_isReadonly";function Ck(e,t,n=!1){let s,i;const r=yt(e);return r?(s=e,i=_n):(s=e.get,i=e.set),new kk(s,i,r||!i,n)}function Ks(e,t,n,s){let i;try{i=s?e(...s):e()}catch(r){au(r,t,n)}return i}function an(e,t,n,s){if(yt(e)){const r=Ks(e,t,n,s);return r&&Tv(r)&&r.catch(o=>{au(o,t,n)}),r}const i=[];for(let r=0;r<e.length;r++)i.push(an(e[r],t,n,s));return i}function au(e,t,n,s=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=n;for(;r;){const l=r.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](e,o,a)===!1)return}r=r.parent}const c=t.appContext.config.errorHandler;if(c){Ks(c,null,10,[e,o,a]);return}}Ik(e,n,i,s)}function Ik(e,t,n,s=!0){console.error(e)}let ea=!1,md=!1;const Me=[];let On=0;const Sr=[];let ns=null,Ai=0;const Kv=Promise.resolve();let tp=null;function ep(e){const t=tp||Kv;return e?t.then(this?e.bind(this):e):t}function Dk(e){let t=On+1,n=Me.length;for(;t<n;){const s=t+n>>>1;na(Me[s])<e?t=s+1:n=s}return t}function np(e){(!Me.length||!Me.includes(e,ea&&e.allowRecurse?On+1:On))&&(e.id==null?Me.push(e):Me.splice(Dk(e.id),0,e),Yv())}function Yv(){!ea&&!md&&(md=!0,tp=Kv.then(Jv))}function Rk(e){const t=Me.indexOf(e);t>On&&Me.splice(t,1)}function Mk(e){ct(e)?Sr.push(...e):(!ns||!ns.includes(e,e.allowRecurse?Ai+1:Ai))&&Sr.push(e),Yv()}function hm(e,t=ea?On+1:0){for(;t<Me.length;t++){const n=Me[t];n&&n.pre&&(Me.splice(t,1),t--,n())}}function Xv(e){if(Sr.length){const t=[...new Set(Sr)];if(Sr.length=0,ns){ns.push(...t);return}for(ns=t,ns.sort((n,s)=>na(n)-na(s)),Ai=0;Ai<ns.length;Ai++)ns[Ai]();ns=null,Ai=0}}const na=e=>e.id==null?1/0:e.id,Ak=(e,t)=>{const n=na(e)-na(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Jv(e){md=!1,ea=!0,Me.sort(Ak);const t=_n;try{for(On=0;On<Me.length;On++){const n=Me[On];n&&n.active!==!1&&Ks(n,null,14)}}finally{On=0,Me.length=0,Xv(),ea=!1,tp=null,(Me.length||Sr.length)&&Jv()}}function Ok(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Kt;let i=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=s[u]||Kt;d&&(i=n.map(f=>fe(f)?f.trim():f)),h&&(i=n.map(ul))}let a,c=s[a=mh(t)]||s[a=mh(zn(t))];!c&&r&&(c=s[a=mh(er(t))]),c&&an(c,e,6,i);const l=s[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,an(l,e,6,i)}}function Qv(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!yt(e)){const c=l=>{const u=Qv(l,t,!0);u&&(a=!0,ke(o,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!a?(Vt(e)&&s.set(e,null),null):(ct(r)?r.forEach(c=>o[c]=null):ke(o,r),Vt(e)&&s.set(e,o),o)}function cu(e,t){return!e||!su(t)?!1:(t=t.slice(2).replace(/Once$/,""),Dt(e,t[0].toLowerCase()+t.slice(1))||Dt(e,er(t))||Dt(e,t))}let Te=null,lu=null;function fl(e){const t=Te;return Te=e,lu=e&&e.type.__scopeId||null,t}function Xr(e){lu=e}function Jr(){lu=null}function Ys(e,t=Te,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&wm(-1);const r=fl(t);let o;try{o=e(...i)}finally{fl(r),s._d&&wm(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function _h(e){const{type:t,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:d,setupState:f,ctx:m,inheritAttrs:_}=e;let b,E;const x=fl(e);try{if(n.shapeFlag&4){const C=i||s;b=Rn(u.call(C,C,h,r,f,d,m)),E=c}else{const C=t;b=Rn(C.length>1?C(r,{attrs:c,slots:a,emit:l}):C(r,null)),E=t.props?c:Pk(c)}}catch(C){Lo.length=0,au(C,e,1),b=dt(cn)}let k=b;if(E&&_!==!1){const C=Object.keys(E),{shapeFlag:R}=k;C.length&&R&7&&(o&&C.some(zf)&&(E=Lk(E,o)),k=ii(k,E))}return n.dirs&&(k=ii(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),b=k,fl(x),b}const Pk=e=>{let t;for(const n in e)(n==="class"||n==="style"||su(n))&&((t||(t={}))[n]=e[n]);return t},Lk=(e,t)=>{const n={};for(const s in e)(!zf(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Nk(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:a,patchFlag:c}=t,l=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?dm(s,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!cu(l,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?dm(s,o,l):!0:!!o;return!1}function dm(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!cu(n,r))return!0}return!1}function Fk({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const $k=e=>e.__isSuspense;function Bk(e,t){t&&t.pendingBranch?ct(e)?t.effects.push(...e):t.effects.push(e):Mk(e)}function jc(e,t){if(ue){let n=ue.provides;const s=ue.parent&&ue.parent.provides;s===n&&(n=ue.provides=Object.create(s)),n[e]=t}}function Nn(e,t,n=!1){const s=ue||Te;if(s){const i=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&yt(t)?t.call(s.proxy):t}}const uc={};function Xs(e,t,n){return Zv(e,t,n)}function Zv(e,t,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=Kt){const a=Dv()===(ue==null?void 0:ue.scope)?ue:null;let c,l=!1,u=!1;if(ne(e)?(c=()=>e.value,l=dl(e)):_s(e)?(c=()=>e,s=!0):ct(e)?(u=!0,l=e.some(k=>_s(k)||dl(k)),c=()=>e.map(k=>{if(ne(k))return k.value;if(_s(k))return Ni(k);if(yt(k))return Ks(k,a,2)})):yt(e)?t?c=()=>Ks(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),an(e,a,3,[d])}:c=_n,t&&s){const k=c;c=()=>Ni(k())}let h,d=k=>{h=E.onStop=()=>{Ks(k,a,4)}},f;if(ia)if(d=_n,t?n&&an(t,a,3,[c(),u?[]:void 0,d]):c(),i==="sync"){const k=OC();f=k.__watcherHandles||(k.__watcherHandles=[])}else return _n;let m=u?new Array(e.length).fill(uc):uc;const _=()=>{if(!!E.active)if(t){const k=E.run();(s||l||(u?k.some((C,R)=>Zo(C,m[R])):Zo(k,m)))&&(h&&h(),an(t,a,3,[k,m===uc?void 0:u&&m[0]===uc?[]:m,d]),m=k)}else E.run()};_.allowRecurse=!!t;let b;i==="sync"?b=_:i==="post"?b=()=>We(_,a&&a.suspense):(_.pre=!0,a&&(_.id=a.uid),b=()=>np(_));const E=new Kf(c,b);t?n?_():m=E.run():i==="post"?We(E.run.bind(E),a&&a.suspense):E.run();const x=()=>{E.stop(),a&&a.scope&&Wf(a.scope.effects,E)};return f&&f.push(x),x}function Uk(e,t,n){const s=this.proxy,i=fe(e)?e.includes(".")?t0(s,e):()=>s[e]:e.bind(s,s);let r;yt(t)?r=t:(r=t.handler,n=t);const o=ue;Mr(this);const a=Zv(i,r.bind(s),n);return o?Mr(o):Vi(),a}function t0(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function Ni(e,t){if(!Vt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ne(e))Ni(e.value,t);else if(ct(e))for(let n=0;n<e.length;n++)Ni(e[n],t);else if(qr(e)||wr(e))e.forEach(n=>{Ni(n,t)});else if(kv(e))for(const n in e)Ni(e[n],t);return e}function Hk(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Oa(()=>{e.isMounted=!0}),du(()=>{e.isUnmounting=!0}),e}const sn=[Function,Array],jk={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:sn,onEnter:sn,onAfterEnter:sn,onEnterCancelled:sn,onBeforeLeave:sn,onLeave:sn,onAfterLeave:sn,onLeaveCancelled:sn,onBeforeAppear:sn,onAppear:sn,onAfterAppear:sn,onAppearCancelled:sn},setup(e,{slots:t}){const n=v0(),s=Hk();let i;return()=>{const r=t.default&&s0(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const _ of r)if(_.type!==cn){o=_;break}}const a=xt(e),{mode:c}=a;if(s.isLeaving)return yh(o);const l=fm(o);if(!l)return yh(o);const u=_d(l,a,s,n);yd(l,u);const h=n.subTree,d=h&&fm(h);let f=!1;const{getTransitionKey:m}=l.type;if(m){const _=m();i===void 0?i=_:_!==i&&(i=_,f=!0)}if(d&&d.type!==cn&&(!Oi(l,d)||f)){const _=_d(d,a,s,n);if(yd(d,_),c==="out-in")return s.isLeaving=!0,_.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},yh(o);c==="in-out"&&l.type!==cn&&(_.delayLeave=(b,E,x)=>{const k=n0(s,d);k[String(d.key)]=d,b._leaveCb=()=>{E(),b._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=x})}return o}}},e0=jk;function n0(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function _d(e,t,n,s){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:_,onAppear:b,onAfterAppear:E,onAppearCancelled:x}=t,k=String(e.key),C=n0(n,e),R=(M,H)=>{M&&an(M,s,9,H)},A=(M,H)=>{const F=H[1];R(M,H),ct(M)?M.every(j=>j.length<=1)&&F():M.length<=1&&F()},D={mode:r,persisted:o,beforeEnter(M){let H=a;if(!n.isMounted)if(i)H=_||a;else return;M._leaveCb&&M._leaveCb(!0);const F=C[k];F&&Oi(e,F)&&F.el._leaveCb&&F.el._leaveCb(),R(H,[M])},enter(M){let H=c,F=l,j=u;if(!n.isMounted)if(i)H=b||c,F=E||l,j=x||u;else return;let $=!1;const J=M._enterCb=et=>{$||($=!0,et?R(j,[M]):R(F,[M]),D.delayedLeave&&D.delayedLeave(),M._enterCb=void 0)};H?A(H,[M,J]):J()},leave(M,H){const F=String(e.key);if(M._enterCb&&M._enterCb(!0),n.isUnmounting)return H();R(h,[M]);let j=!1;const $=M._leaveCb=J=>{j||(j=!0,H(),J?R(m,[M]):R(f,[M]),M._leaveCb=void 0,C[F]===e&&delete C[F])};C[F]=e,d?A(d,[M,$]):$()},clone(M){return _d(M,t,n,s)}};return D}function yh(e){if(uu(e))return e=ii(e),e.children=null,e}function fm(e){return uu(e)?e.children?e.children[0]:void 0:e}function yd(e,t){e.shapeFlag&6&&e.component?yd(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function s0(e,t=!1,n){let s=[],i=0;for(let r=0;r<e.length;r++){let o=e[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Gt?(o.patchFlag&128&&i++,s=s.concat(s0(o.children,t,a))):(t||o.type!==cn)&&s.push(a!=null?ii(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function i0(e){return yt(e)?{setup:e,name:e.name}:e}const Oo=e=>!!e.type.__asyncLoader,uu=e=>e.type.__isKeepAlive;function Vk(e,t){r0(e,"a",t)}function zk(e,t){r0(e,"da",t)}function r0(e,t,n=ue){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(hu(t,s,n),n){let i=n.parent;for(;i&&i.parent;)uu(i.parent.vnode)&&Wk(s,t,n,i),i=i.parent}}function Wk(e,t,n,s){const i=hu(t,e,s,!0);o0(()=>{Wf(s[t],i)},n)}function hu(e,t,n=ue,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Gr(),Mr(n);const a=an(t,n,e,o);return Vi(),Kr(),a});return s?i.unshift(r):i.push(r),r}}const xs=e=>(t,n=ue)=>(!ia||e==="sp")&&hu(e,(...s)=>t(...s),n),Aa=xs("bm"),Oa=xs("m"),qk=xs("bu"),Gk=xs("u"),du=xs("bum"),o0=xs("um"),Kk=xs("sp"),Yk=xs("rtg"),Xk=xs("rtc");function Jk(e,t=ue){hu("ec",e,t)}function je(e,t){const n=Te;if(n===null)return e;const s=gu(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,c,l=Kt]=t[r];o&&(yt(o)&&(o={mounted:o,updated:o}),o.deep&&Ni(a),i.push({dir:o,instance:s,value:a,oldValue:void 0,arg:c,modifiers:l}))}return e}function bi(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let c=a.dir[s];c&&(Gr(),an(c,n,8,[e.el,a,e,t]),Kr())}}const a0="components";function Gn(e,t){return Zk(a0,e,!0,t)||e}const Qk=Symbol();function Zk(e,t,n=!0,s=!1){const i=Te||ue;if(i){const r=i.type;if(e===a0){const a=RC(r,!1);if(a&&(a===t||a===zn(t)||a===ru(zn(t))))return r}const o=pm(i[e]||r[e],t)||pm(i.appContext[e],t);return!o&&s?r:o}}function pm(e,t){return e&&(e[t]||e[zn(t)]||e[ru(zn(t))])}function Ge(e,t,n,s){let i;const r=n&&n[s];if(ct(e)||fe(e)){i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,r&&r[o])}else if(Vt(e))if(e[Symbol.iterator])i=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);i=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];i[a]=t(e[l],l,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}function c0(e,t,n={},s,i){if(Te.isCE||Te.parent&&Oo(Te.parent)&&Te.parent.isCE)return t!=="default"&&(n.name=t),dt("slot",n,s&&s());let r=e[t];r&&r._c&&(r._d=!1),q();const o=r&&l0(r(n)),a=_e(Gt,{key:n.key||o&&o.key||`_${t}`},o||(s?s():[]),o&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function l0(e){return e.some(t=>gl(t)?!(t.type===cn||t.type===Gt&&!l0(t.children)):!0)?e:null}const bd=e=>e?w0(e)?gu(e)||e.proxy:bd(e.parent):null,Po=ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>bd(e.parent),$root:e=>bd(e.root),$emit:e=>e.emit,$options:e=>sp(e),$forceUpdate:e=>e.f||(e.f=()=>np(e.update)),$nextTick:e=>e.n||(e.n=ep.bind(e.proxy)),$watch:e=>Uk.bind(e)}),bh=(e,t)=>e!==Kt&&!e.__isScriptSetup&&Dt(e,t),tC={get({_:e},t){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(bh(s,t))return o[t]=1,s[t];if(i!==Kt&&Dt(i,t))return o[t]=2,i[t];if((l=e.propsOptions[0])&&Dt(l,t))return o[t]=3,r[t];if(n!==Kt&&Dt(n,t))return o[t]=4,n[t];vd&&(o[t]=0)}}const u=Po[t];let h,d;if(u)return t==="$attrs"&&Ke(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Kt&&Dt(n,t))return o[t]=4,n[t];if(d=c.config.globalProperties,Dt(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return bh(i,t)?(i[t]=n,!0):s!==Kt&&Dt(s,t)?(s[t]=n,!0):Dt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||e!==Kt&&Dt(e,o)||bh(t,o)||(a=r[0])&&Dt(a,o)||Dt(s,o)||Dt(Po,o)||Dt(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Dt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let vd=!0;function eC(e){const t=sp(e),n=e.proxy,s=e.ctx;vd=!1,t.beforeCreate&&gm(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:m,activated:_,deactivated:b,beforeDestroy:E,beforeUnmount:x,destroyed:k,unmounted:C,render:R,renderTracked:A,renderTriggered:D,errorCaptured:M,serverPrefetch:H,expose:F,inheritAttrs:j,components:$,directives:J,filters:et}=t;if(l&&nC(l,s,null,e.appContext.config.unwrapInjectedRef),o)for(const it in o){const nt=o[it];yt(nt)&&(s[it]=nt.bind(n))}if(i){const it=i.call(n,n);Vt(it)&&(e.data=Yr(it))}if(vd=!0,r)for(const it in r){const nt=r[it],lt=yt(nt)?nt.bind(n,n):yt(nt.get)?nt.get.bind(n,n):_n,Ft=!yt(nt)&&yt(nt.set)?nt.set.bind(n):_n,Ot=Qt({get:lt,set:Ft});Object.defineProperty(s,it,{enumerable:!0,configurable:!0,get:()=>Ot.value,set:Pt=>Ot.value=Pt})}if(a)for(const it in a)u0(a[it],s,n,it);if(c){const it=yt(c)?c.call(n):c;Reflect.ownKeys(it).forEach(nt=>{jc(nt,it[nt])})}u&&gm(u,e,"c");function X(it,nt){ct(nt)?nt.forEach(lt=>it(lt.bind(n))):nt&&it(nt.bind(n))}if(X(Aa,h),X(Oa,d),X(qk,f),X(Gk,m),X(Vk,_),X(zk,b),X(Jk,M),X(Xk,A),X(Yk,D),X(du,x),X(o0,C),X(Kk,H),ct(F))if(F.length){const it=e.exposed||(e.exposed={});F.forEach(nt=>{Object.defineProperty(it,nt,{get:()=>n[nt],set:lt=>n[nt]=lt})})}else e.exposed||(e.exposed={});R&&e.render===_n&&(e.render=R),j!=null&&(e.inheritAttrs=j),$&&(e.components=$),J&&(e.directives=J)}function nC(e,t,n=_n,s=!1){ct(e)&&(e=wd(e));for(const i in e){const r=e[i];let o;Vt(r)?"default"in r?o=Nn(r.from||i,r.default,!0):o=Nn(r.from||i):o=Nn(r),ne(o)&&s?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[i]=o}}function gm(e,t,n){an(ct(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function u0(e,t,n,s){const i=s.includes(".")?t0(n,s):()=>n[s];if(fe(e)){const r=t[e];yt(r)&&Xs(i,r)}else if(yt(e))Xs(i,e.bind(n));else if(Vt(e))if(ct(e))e.forEach(r=>u0(r,t,n,s));else{const r=yt(e.handler)?e.handler.bind(n):t[e.handler];yt(r)&&Xs(i,r,e)}}function sp(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let c;return a?c=a:!i.length&&!n&&!s?c=t:(c={},i.length&&i.forEach(l=>pl(c,l,o,!0)),pl(c,t,o)),Vt(t)&&r.set(t,c),c}function pl(e,t,n,s=!1){const{mixins:i,extends:r}=t;r&&pl(e,r,n,!0),i&&i.forEach(o=>pl(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=sC[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const sC={data:mm,props:Ii,emits:Ii,methods:Ii,computed:Ii,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:Ii,directives:Ii,watch:rC,provide:mm,inject:iC};function mm(e,t){return t?e?function(){return ke(yt(e)?e.call(this,this):e,yt(t)?t.call(this,this):t)}:t:e}function iC(e,t){return Ii(wd(e),wd(t))}function wd(e){if(ct(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function $e(e,t){return e?[...new Set([].concat(e,t))]:t}function Ii(e,t){return e?ke(ke(Object.create(null),e),t):t}function rC(e,t){if(!e)return t;if(!t)return e;const n=ke(Object.create(null),e);for(const s in t)n[s]=$e(e[s],t[s]);return n}function oC(e,t,n,s=!1){const i={},r={};ll(r,pu,1),e.propsDefaults=Object.create(null),h0(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=s?i:vk(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function aC(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=xt(i),[c]=e.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(cu(e.emitsOptions,d))continue;const f=t[d];if(c)if(Dt(r,d))f!==r[d]&&(r[d]=f,l=!0);else{const m=zn(d);i[m]=Sd(c,a,m,f,e,!1)}else f!==r[d]&&(r[d]=f,l=!0)}}}else{h0(e,t,i,r)&&(l=!0);let u;for(const h in a)(!t||!Dt(t,h)&&((u=er(h))===h||!Dt(t,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=Sd(c,a,h,void 0,e,!0)):delete i[h]);if(r!==a)for(const h in r)(!t||!Dt(t,h)&&!0)&&(delete r[h],l=!0)}l&&bs(e,"set","$attrs")}function h0(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(Uc(c))continue;const l=t[c];let u;i&&Dt(i,u=zn(c))?!r||!r.includes(u)?n[u]=l:(a||(a={}))[u]=l:cu(e.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(r){const c=xt(n),l=a||Kt;for(let u=0;u<r.length;u++){const h=r[u];n[h]=Sd(i,c,h,l[h],e,!Dt(l,h))}}return o}function Sd(e,t,n,s,i,r){const o=e[n];if(o!=null){const a=Dt(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&yt(c)){const{propsDefaults:l}=i;n in l?s=l[n]:(Mr(i),s=l[n]=c.call(null,t),Vi())}else s=c}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===er(n))&&(s=!0))}return s}function d0(e,t,n=!1){const s=t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},a=[];let c=!1;if(!yt(e)){const u=h=>{c=!0;const[d,f]=d0(h,t,!0);ke(o,d),f&&a.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!c)return Vt(e)&&s.set(e,vr),vr;if(ct(r))for(let u=0;u<r.length;u++){const h=zn(r[u]);_m(h)&&(o[h]=Kt)}else if(r)for(const u in r){const h=zn(u);if(_m(h)){const d=r[u],f=o[h]=ct(d)||yt(d)?{type:d}:Object.assign({},d);if(f){const m=vm(Boolean,f.type),_=vm(String,f.type);f[0]=m>-1,f[1]=_<0||m<_,(m>-1||Dt(f,"default"))&&a.push(h)}}}const l=[o,a];return Vt(e)&&s.set(e,l),l}function _m(e){return e[0]!=="$"}function ym(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function bm(e,t){return ym(e)===ym(t)}function vm(e,t){return ct(t)?t.findIndex(n=>bm(n,e)):yt(t)&&bm(t,e)?0:-1}const f0=e=>e[0]==="_"||e==="$stable",ip=e=>ct(e)?e.map(Rn):[Rn(e)],cC=(e,t,n)=>{if(t._n)return t;const s=Ys((...i)=>ip(t(...i)),n);return s._c=!1,s},p0=(e,t,n)=>{const s=e._ctx;for(const i in e){if(f0(i))continue;const r=e[i];if(yt(r))t[i]=cC(i,r,s);else if(r!=null){const o=ip(r);t[i]=()=>o}}},g0=(e,t)=>{const n=ip(t);e.slots.default=()=>n},lC=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=xt(t),ll(t,"_",n)):p0(t,e.slots={})}else e.slots={},t&&g0(e,t);ll(e.slots,pu,1)},uC=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=Kt;if(s.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:(ke(i,t),!n&&a===1&&delete i._):(r=!t.$stable,p0(t,i)),o=t}else t&&(g0(e,t),o={default:1});if(r)for(const a in i)!f0(a)&&!(a in o)&&delete i[a]};function m0(){return{app:null,config:{isNativeTag:Fx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hC=0;function dC(e,t){return function(s,i=null){yt(s)||(s=Object.assign({},s)),i!=null&&!Vt(i)&&(i=null);const r=m0(),o=new Set;let a=!1;const c=r.app={_uid:hC++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:PC,get config(){return r.config},set config(l){},use(l,...u){return o.has(l)||(l&&yt(l.install)?(o.add(l),l.install(c,...u)):yt(l)&&(o.add(l),l(c,...u))),c},mixin(l){return r.mixins.includes(l)||r.mixins.push(l),c},component(l,u){return u?(r.components[l]=u,c):r.components[l]},directive(l,u){return u?(r.directives[l]=u,c):r.directives[l]},mount(l,u,h){if(!a){const d=dt(s,i);return d.appContext=r,u&&t?t(d,l):e(d,l,h),a=!0,c._container=l,l.__vue_app__=c,gu(d.component)||d.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,u){return r.provides[l]=u,c}};return c}}function Ed(e,t,n,s,i=!1){if(ct(e)){e.forEach((d,f)=>Ed(d,t&&(ct(t)?t[f]:t),n,s,i));return}if(Oo(s)&&!i)return;const r=s.shapeFlag&4?gu(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:c}=e,l=t&&t.r,u=a.refs===Kt?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(fe(l)?(u[l]=null,Dt(h,l)&&(h[l]=null)):ne(l)&&(l.value=null)),yt(c))Ks(c,a,12,[o,u]);else{const d=fe(c),f=ne(c);if(d||f){const m=()=>{if(e.f){const _=d?Dt(h,c)?h[c]:u[c]:c.value;i?ct(_)&&Wf(_,r):ct(_)?_.includes(r)||_.push(r):d?(u[c]=[r],Dt(h,c)&&(h[c]=u[c])):(c.value=[r],e.k&&(u[e.k]=c.value))}else d?(u[c]=o,Dt(h,c)&&(h[c]=o)):f&&(c.value=o,e.k&&(u[e.k]=o))};o?(m.id=-1,We(m,n)):m()}}}const We=Bk;function fC(e){return pC(e)}function pC(e,t){const n=zx();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=_n,insertStaticContent:m}=e,_=(p,g,v,w=null,S=null,T=null,I=!1,L=null,P=!!g.dynamicChildren)=>{if(p===g)return;p&&!Oi(p,g)&&(w=W(p),Pt(p,S,T,!0),p=null),g.patchFlag===-2&&(P=!1,g.dynamicChildren=null);const{type:N,ref:U,shapeFlag:K}=g;switch(N){case fu:b(p,g,v,w);break;case cn:E(p,g,v,w);break;case Vc:p==null&&x(g,v,w,I);break;case Gt:$(p,g,v,w,S,T,I,L,P);break;default:K&1?R(p,g,v,w,S,T,I,L,P):K&6?J(p,g,v,w,S,T,I,L,P):(K&64||K&128)&&N.process(p,g,v,w,S,T,I,L,P,bt)}U!=null&&S&&Ed(U,p&&p.ref,T,g||p,!g)},b=(p,g,v,w)=>{if(p==null)s(g.el=a(g.children),v,w);else{const S=g.el=p.el;g.children!==p.children&&l(S,g.children)}},E=(p,g,v,w)=>{p==null?s(g.el=c(g.children||""),v,w):g.el=p.el},x=(p,g,v,w)=>{[p.el,p.anchor]=m(p.children,g,v,w,p.el,p.anchor)},k=({el:p,anchor:g},v,w)=>{let S;for(;p&&p!==g;)S=d(p),s(p,v,w),p=S;s(g,v,w)},C=({el:p,anchor:g})=>{let v;for(;p&&p!==g;)v=d(p),i(p),p=v;i(g)},R=(p,g,v,w,S,T,I,L,P)=>{I=I||g.type==="svg",p==null?A(g,v,w,S,T,I,L,P):H(p,g,S,T,I,L,P)},A=(p,g,v,w,S,T,I,L)=>{let P,N;const{type:U,props:K,shapeFlag:st,transition:at,dirs:_t}=p;if(P=p.el=o(p.type,T,K&&K.is,K),st&8?u(P,p.children):st&16&&M(p.children,P,null,w,S,T&&U!=="foreignObject",I,L),_t&&bi(p,null,w,"created"),D(P,p,p.scopeId,I,w),K){for(const Tt in K)Tt!=="value"&&!Uc(Tt)&&r(P,Tt,null,K[Tt],T,p.children,w,S,G);"value"in K&&r(P,"value",null,K.value),(N=K.onVnodeBeforeMount)&&xn(N,w,p)}_t&&bi(p,null,w,"beforeMount");const kt=(!S||S&&!S.pendingBranch)&&at&&!at.persisted;kt&&at.beforeEnter(P),s(P,g,v),((N=K&&K.onVnodeMounted)||kt||_t)&&We(()=>{N&&xn(N,w,p),kt&&at.enter(P),_t&&bi(p,null,w,"mounted")},S)},D=(p,g,v,w,S)=>{if(v&&f(p,v),w)for(let T=0;T<w.length;T++)f(p,w[T]);if(S){let T=S.subTree;if(g===T){const I=S.vnode;D(p,I,I.scopeId,I.slotScopeIds,S.parent)}}},M=(p,g,v,w,S,T,I,L,P=0)=>{for(let N=P;N<p.length;N++){const U=p[N]=L?As(p[N]):Rn(p[N]);_(null,U,g,v,w,S,T,I,L)}},H=(p,g,v,w,S,T,I)=>{const L=g.el=p.el;let{patchFlag:P,dynamicChildren:N,dirs:U}=g;P|=p.patchFlag&16;const K=p.props||Kt,st=g.props||Kt;let at;v&&vi(v,!1),(at=st.onVnodeBeforeUpdate)&&xn(at,v,g,p),U&&bi(g,p,v,"beforeUpdate"),v&&vi(v,!0);const _t=S&&g.type!=="foreignObject";if(N?F(p.dynamicChildren,N,L,v,w,_t,T):I||nt(p,g,L,null,v,w,_t,T,!1),P>0){if(P&16)j(L,g,K,st,v,w,S);else if(P&2&&K.class!==st.class&&r(L,"class",null,st.class,S),P&4&&r(L,"style",K.style,st.style,S),P&8){const kt=g.dynamicProps;for(let Tt=0;Tt<kt.length;Tt++){const Lt=kt[Tt],Ie=K[Lt],En=st[Lt];(En!==Ie||Lt==="value")&&r(L,Lt,Ie,En,S,p.children,v,w,G)}}P&1&&p.children!==g.children&&u(L,g.children)}else!I&&N==null&&j(L,g,K,st,v,w,S);((at=st.onVnodeUpdated)||U)&&We(()=>{at&&xn(at,v,g,p),U&&bi(g,p,v,"updated")},w)},F=(p,g,v,w,S,T,I)=>{for(let L=0;L<g.length;L++){const P=p[L],N=g[L],U=P.el&&(P.type===Gt||!Oi(P,N)||P.shapeFlag&70)?h(P.el):v;_(P,N,U,null,w,S,T,I,!0)}},j=(p,g,v,w,S,T,I)=>{if(v!==w){if(v!==Kt)for(const L in v)!Uc(L)&&!(L in w)&&r(p,L,v[L],null,I,g.children,S,T,G);for(const L in w){if(Uc(L))continue;const P=w[L],N=v[L];P!==N&&L!=="value"&&r(p,L,N,P,I,g.children,S,T,G)}"value"in w&&r(p,"value",v.value,w.value)}},$=(p,g,v,w,S,T,I,L,P)=>{const N=g.el=p?p.el:a(""),U=g.anchor=p?p.anchor:a("");let{patchFlag:K,dynamicChildren:st,slotScopeIds:at}=g;at&&(L=L?L.concat(at):at),p==null?(s(N,v,w),s(U,v,w),M(g.children,v,U,S,T,I,L,P)):K>0&&K&64&&st&&p.dynamicChildren?(F(p.dynamicChildren,st,v,S,T,I,L),(g.key!=null||S&&g===S.subTree)&&_0(p,g,!0)):nt(p,g,v,U,S,T,I,L,P)},J=(p,g,v,w,S,T,I,L,P)=>{g.slotScopeIds=L,p==null?g.shapeFlag&512?S.ctx.activate(g,v,w,I,P):et(g,v,w,S,T,I,P):Q(p,g,P)},et=(p,g,v,w,S,T,I)=>{const L=p.component=xC(p,w,S);if(uu(p)&&(L.ctx.renderer=bt),kC(L),L.asyncDep){if(S&&S.registerDep(L,X),!p.el){const P=L.subTree=dt(cn);E(null,P,g,v)}return}X(L,p,g,v,S,T,I)},Q=(p,g,v)=>{const w=g.component=p.component;if(Nk(p,g,v))if(w.asyncDep&&!w.asyncResolved){it(w,g,v);return}else w.next=g,Rk(w.update),w.update();else g.el=p.el,w.vnode=g},X=(p,g,v,w,S,T,I)=>{const L=()=>{if(p.isMounted){let{next:U,bu:K,u:st,parent:at,vnode:_t}=p,kt=U,Tt;vi(p,!1),U?(U.el=_t.el,it(p,U,I)):U=_t,K&&Hc(K),(Tt=U.props&&U.props.onVnodeBeforeUpdate)&&xn(Tt,at,U,_t),vi(p,!0);const Lt=_h(p),Ie=p.subTree;p.subTree=Lt,_(Ie,Lt,h(Ie.el),W(Ie),p,S,T),U.el=Lt.el,kt===null&&Fk(p,Lt.el),st&&We(st,S),(Tt=U.props&&U.props.onVnodeUpdated)&&We(()=>xn(Tt,at,U,_t),S)}else{let U;const{el:K,props:st}=g,{bm:at,m:_t,parent:kt}=p,Tt=Oo(g);if(vi(p,!1),at&&Hc(at),!Tt&&(U=st&&st.onVnodeBeforeMount)&&xn(U,kt,g),vi(p,!0),K&&y){const Lt=()=>{p.subTree=_h(p),y(K,p.subTree,p,S,null)};Tt?g.type.__asyncLoader().then(()=>!p.isUnmounted&&Lt()):Lt()}else{const Lt=p.subTree=_h(p);_(null,Lt,v,w,p,S,T),g.el=Lt.el}if(_t&&We(_t,S),!Tt&&(U=st&&st.onVnodeMounted)){const Lt=g;We(()=>xn(U,kt,Lt),S)}(g.shapeFlag&256||kt&&Oo(kt.vnode)&&kt.vnode.shapeFlag&256)&&p.a&&We(p.a,S),p.isMounted=!0,g=v=w=null}},P=p.effect=new Kf(L,()=>np(N),p.scope),N=p.update=()=>P.run();N.id=p.uid,vi(p,!0),N()},it=(p,g,v)=>{g.component=p;const w=p.vnode.props;p.vnode=g,p.next=null,aC(p,g.props,w,v),uC(p,g.children,v),Gr(),hm(),Kr()},nt=(p,g,v,w,S,T,I,L,P=!1)=>{const N=p&&p.children,U=p?p.shapeFlag:0,K=g.children,{patchFlag:st,shapeFlag:at}=g;if(st>0){if(st&128){Ft(N,K,v,w,S,T,I,L,P);return}else if(st&256){lt(N,K,v,w,S,T,I,L,P);return}}at&8?(U&16&&G(N,S,T),K!==N&&u(v,K)):U&16?at&16?Ft(N,K,v,w,S,T,I,L,P):G(N,S,T,!0):(U&8&&u(v,""),at&16&&M(K,v,w,S,T,I,L,P))},lt=(p,g,v,w,S,T,I,L,P)=>{p=p||vr,g=g||vr;const N=p.length,U=g.length,K=Math.min(N,U);let st;for(st=0;st<K;st++){const at=g[st]=P?As(g[st]):Rn(g[st]);_(p[st],at,v,null,S,T,I,L,P)}N>U?G(p,S,T,!0,!1,K):M(g,v,w,S,T,I,L,P,K)},Ft=(p,g,v,w,S,T,I,L,P)=>{let N=0;const U=g.length;let K=p.length-1,st=U-1;for(;N<=K&&N<=st;){const at=p[N],_t=g[N]=P?As(g[N]):Rn(g[N]);if(Oi(at,_t))_(at,_t,v,null,S,T,I,L,P);else break;N++}for(;N<=K&&N<=st;){const at=p[K],_t=g[st]=P?As(g[st]):Rn(g[st]);if(Oi(at,_t))_(at,_t,v,null,S,T,I,L,P);else break;K--,st--}if(N>K){if(N<=st){const at=st+1,_t=at<U?g[at].el:w;for(;N<=st;)_(null,g[N]=P?As(g[N]):Rn(g[N]),v,_t,S,T,I,L,P),N++}}else if(N>st)for(;N<=K;)Pt(p[N],S,T,!0),N++;else{const at=N,_t=N,kt=new Map;for(N=_t;N<=st;N++){const Ye=g[N]=P?As(g[N]):Rn(g[N]);Ye.key!=null&&kt.set(Ye.key,N)}let Tt,Lt=0;const Ie=st-_t+1;let En=!1,_i=0;const yi=new Array(Ie);for(N=0;N<Ie;N++)yi[N]=0;for(N=at;N<=K;N++){const Ye=p[N];if(Lt>=Ie){Pt(Ye,S,T,!0);continue}let Tn;if(Ye.key!=null)Tn=kt.get(Ye.key);else for(Tt=_t;Tt<=st;Tt++)if(yi[Tt-_t]===0&&Oi(Ye,g[Tt])){Tn=Tt;break}Tn===void 0?Pt(Ye,S,T,!0):(yi[Tn-_t]=N+1,Tn>=_i?_i=Tn:En=!0,_(Ye,g[Tn],v,null,S,T,I,L,P),Lt++)}const tm=En?gC(yi):vr;for(Tt=tm.length-1,N=Ie-1;N>=0;N--){const Ye=_t+N,Tn=g[Ye],em=Ye+1<U?g[Ye+1].el:w;yi[N]===0?_(null,Tn,v,em,S,T,I,L,P):En&&(Tt<0||N!==tm[Tt]?Ot(Tn,v,em,2):Tt--)}}},Ot=(p,g,v,w,S=null)=>{const{el:T,type:I,transition:L,children:P,shapeFlag:N}=p;if(N&6){Ot(p.component.subTree,g,v,w);return}if(N&128){p.suspense.move(g,v,w);return}if(N&64){I.move(p,g,v,bt);return}if(I===Gt){s(T,g,v);for(let K=0;K<P.length;K++)Ot(P[K],g,v,w);s(p.anchor,g,v);return}if(I===Vc){k(p,g,v);return}if(w!==2&&N&1&&L)if(w===0)L.beforeEnter(T),s(T,g,v),We(()=>L.enter(T),S);else{const{leave:K,delayLeave:st,afterLeave:at}=L,_t=()=>s(T,g,v),kt=()=>{K(T,()=>{_t(),at&&at()})};st?st(T,_t,kt):kt()}else s(T,g,v)},Pt=(p,g,v,w=!1,S=!1)=>{const{type:T,props:I,ref:L,children:P,dynamicChildren:N,shapeFlag:U,patchFlag:K,dirs:st}=p;if(L!=null&&Ed(L,null,v,p,!0),U&256){g.ctx.deactivate(p);return}const at=U&1&&st,_t=!Oo(p);let kt;if(_t&&(kt=I&&I.onVnodeBeforeUnmount)&&xn(kt,g,p),U&6)B(p.component,v,w);else{if(U&128){p.suspense.unmount(v,w);return}at&&bi(p,null,g,"beforeUnmount"),U&64?p.type.remove(p,g,v,S,bt,w):N&&(T!==Gt||K>0&&K&64)?G(N,g,v,!1,!0):(T===Gt&&K&384||!S&&U&16)&&G(P,g,v),w&&se(p)}(_t&&(kt=I&&I.onVnodeUnmounted)||at)&&We(()=>{kt&&xn(kt,g,p),at&&bi(p,null,g,"unmounted")},v)},se=p=>{const{type:g,el:v,anchor:w,transition:S}=p;if(g===Gt){ut(v,w);return}if(g===Vc){C(p);return}const T=()=>{i(v),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(p.shapeFlag&1&&S&&!S.persisted){const{leave:I,delayLeave:L}=S,P=()=>I(v,T);L?L(p.el,T,P):P()}else T()},ut=(p,g)=>{let v;for(;p!==g;)v=d(p),i(p),p=v;i(g)},B=(p,g,v)=>{const{bum:w,scope:S,update:T,subTree:I,um:L}=p;w&&Hc(w),S.stop(),T&&(T.active=!1,Pt(I,p,g,v)),L&&We(L,g),We(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},G=(p,g,v,w=!1,S=!1,T=0)=>{for(let I=T;I<p.length;I++)Pt(p[I],g,v,w,S)},W=p=>p.shapeFlag&6?W(p.component.subTree):p.shapeFlag&128?p.suspense.next():d(p.anchor||p.el),tt=(p,g,v)=>{p==null?g._vnode&&Pt(g._vnode,null,null,!0):_(g._vnode||null,p,g,null,null,null,v),hm(),Xv(),g._vnode=p},bt={p:_,um:Pt,m:Ot,r:se,mt:et,mc:M,pc:nt,pbc:F,n:W,o:e};let O,y;return t&&([O,y]=t(bt)),{render:tt,hydrate:O,createApp:dC(tt,O)}}function vi({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function _0(e,t,n=!1){const s=e.children,i=t.children;if(ct(s)&&ct(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=As(i[r]),a.el=o.el),n||_0(o,a)),a.type===fu&&(a.el=o.el)}}function gC(e){const t=e.slice(),n=[0];let s,i,r,o,a;const c=e.length;for(s=0;s<c;s++){const l=e[s];if(l!==0){if(i=n[n.length-1],e[i]<l){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<l?r=a+1:o=a;l<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const mC=e=>e.__isTeleport,Gt=Symbol(void 0),fu=Symbol(void 0),cn=Symbol(void 0),Vc=Symbol(void 0),Lo=[];let pn=null;function q(e=!1){Lo.push(pn=e?null:[])}function _C(){Lo.pop(),pn=Lo[Lo.length-1]||null}let sa=1;function wm(e){sa+=e}function y0(e){return e.dynamicChildren=sa>0?pn||vr:null,_C(),sa>0&&pn&&pn.push(e),e}function Z(e,t,n,s,i,r){return y0(z(e,t,n,s,i,r,!0))}function _e(e,t,n,s,i){return y0(dt(e,t,n,s,i,!0))}function gl(e){return e?e.__v_isVNode===!0:!1}function Oi(e,t){return e.type===t.type&&e.key===t.key}const pu="__vInternal",b0=({key:e})=>e!=null?e:null,zc=({ref:e,ref_key:t,ref_for:n})=>e!=null?fe(e)||ne(e)||yt(e)?{i:Te,r:e,k:t,f:!!n}:e:null;function z(e,t=null,n=null,s=0,i=null,r=e===Gt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&b0(t),ref:t&&zc(t),scopeId:lu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Te};return a?(rp(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=fe(n)?8:16),sa>0&&!o&&pn&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&pn.push(c),c}const dt=yC;function yC(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===Qk)&&(e=cn),gl(e)){const a=ii(e,t,!0);return n&&rp(a,n),sa>0&&!r&&pn&&(a.shapeFlag&6?pn[pn.indexOf(e)]=a:pn.push(a)),a.patchFlag|=-2,a}if(MC(e)&&(e=e.__vccOpts),t){t=bC(t);let{class:a,style:c}=t;a&&!fe(a)&&(t.class=Vn(a)),Vt(c)&&(Hv(c)&&!ct(c)&&(c=ke({},c)),t.style=Ra(c))}const o=fe(e)?1:$k(e)?128:mC(e)?64:Vt(e)?4:yt(e)?2:0;return z(e,t,n,s,i,o,r,!0)}function bC(e){return e?Hv(e)||pu in e?ke({},e):e:null}function ii(e,t,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=e,a=t?SC(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&b0(a),ref:t&&t.ref?n&&i?ct(i)?i.concat(zc(t)):[i,zc(t)]:zc(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Gt?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ii(e.ssContent),ssFallback:e.ssFallback&&ii(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function vC(e=" ",t=0){return dt(fu,null,e,t)}function wC(e,t){const n=dt(Vc,null,e);return n.staticCount=t,n}function Rt(e="",t=!1){return t?(q(),_e(cn,null,e)):dt(cn,null,e)}function Rn(e){return e==null||typeof e=="boolean"?dt(cn):ct(e)?dt(Gt,null,e.slice()):typeof e=="object"?As(e):dt(fu,null,String(e))}function As(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ii(e)}function rp(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ct(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),rp(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(pu in t)?t._ctx=Te:i===3&&Te&&(Te.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else yt(t)?(t={default:t,_ctx:Te},n=32):(t=String(t),s&64?(n=16,t=[vC(t)]):n=8);e.children=t,e.shapeFlag|=n}function SC(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=Vn([t.class,s.class]));else if(i==="style")t.style=Ra([t.style,s.style]);else if(su(i)){const r=t[i],o=s[i];o&&r!==o&&!(ct(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function xn(e,t,n,s=null){an(e,t,7,[n,s])}const EC=m0();let TC=0;function xC(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||EC,r={uid:TC++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Cv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:d0(s,i),emitsOptions:Qv(s,i),emit:null,emitted:null,propsDefaults:Kt,inheritAttrs:s.inheritAttrs,ctx:Kt,data:Kt,props:Kt,attrs:Kt,slots:Kt,refs:Kt,setupState:Kt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Ok.bind(null,r),e.ce&&e.ce(r),r}let ue=null;const v0=()=>ue||Te,Mr=e=>{ue=e,e.scope.on()},Vi=()=>{ue&&ue.scope.off(),ue=null};function w0(e){return e.vnode.shapeFlag&4}let ia=!1;function kC(e,t=!1){ia=t;const{props:n,children:s}=e.vnode,i=w0(e);oC(e,n,i,t),lC(e,s);const r=i?CC(e,t):void 0;return ia=!1,r}function CC(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Rr(new Proxy(e.ctx,tC));const{setup:s}=n;if(s){const i=e.setupContext=s.length>1?DC(e):null;Mr(e),Gr();const r=Ks(s,e,0,[e.props,i]);if(Kr(),Vi(),Tv(r)){if(r.then(Vi,Vi),t)return r.then(o=>{Sm(e,o,t)}).catch(o=>{au(o,e,0)});e.asyncDep=r}else Sm(e,r,t)}else S0(e,t)}function Sm(e,t,n){yt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Vt(t)&&(e.setupState=Wv(t)),S0(e,n)}let Em;function S0(e,t,n){const s=e.type;if(!e.render){if(!t&&Em&&!s.render){const i=s.template||sp(e).template;if(i){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:c}=s,l=ke(ke({isCustomElement:r,delimiters:a},o),c);s.render=Em(i,l)}}e.render=s.render||_n}Mr(e),Gr(),eC(e),Kr(),Vi()}function IC(e){return new Proxy(e.attrs,{get(t,n){return Ke(e,"get","$attrs"),t[n]}})}function DC(e){const t=s=>{e.exposed=s||{}};let n;return{get attrs(){return n||(n=IC(e))},slots:e.slots,emit:e.emit,expose:t}}function gu(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Wv(Rr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Po)return Po[n](e)},has(t,n){return n in t||n in Po}}))}function RC(e,t=!0){return yt(e)?e.displayName||e.name:e.name||t&&e.__name}function MC(e){return yt(e)&&"__vccOpts"in e}const Qt=(e,t)=>Ck(e,t,ia);function op(e,t,n){const s=arguments.length;return s===2?Vt(t)&&!ct(t)?gl(t)?dt(e,null,[t]):dt(e,t):dt(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&gl(n)&&(n=[n]),dt(e,t,n))}const AC=Symbol(""),OC=()=>Nn(AC),PC="3.2.47",LC="http://www.w3.org/2000/svg",Pi=typeof document!="undefined"?document:null,Tm=Pi&&Pi.createElement("template"),NC={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t?Pi.createElementNS(LC,e):Pi.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>Pi.createTextNode(e),createComment:e=>Pi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Tm.innerHTML=s?`<svg>${e}</svg>`:e;const a=Tm.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function FC(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function $C(e,t,n){const s=e.style,i=fe(n);if(n&&!i){if(t&&!fe(t))for(const r in t)n[r]==null&&Td(s,r,"");for(const r in n)Td(s,r,n[r])}else{const r=s.display;i?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=r)}}const xm=/\s*!important$/;function Td(e,t,n){if(ct(n))n.forEach(s=>Td(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=BC(e,t);xm.test(n)?e.setProperty(er(s),n.replace(xm,""),"important"):e[s]=n}}const km=["Webkit","Moz","ms"],vh={};function BC(e,t){const n=vh[t];if(n)return n;let s=zn(t);if(s!=="filter"&&s in e)return vh[t]=s;s=ru(s);for(let i=0;i<km.length;i++){const r=km[i]+s;if(r in e)return vh[t]=r}return t}const Cm="http://www.w3.org/1999/xlink";function UC(e,t,n,s,i){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Cm,t.slice(6,t.length)):e.setAttributeNS(Cm,t,n);else{const r=Lx(t);n==null||r&&!Sv(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function HC(e,t,n,s,i,r,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,i,r),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n==null?"":n;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Sv(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function os(e,t,n,s){e.addEventListener(t,n,s)}function jC(e,t,n,s){e.removeEventListener(t,n,s)}function VC(e,t,n,s,i=null){const r=e._vei||(e._vei={}),o=r[t];if(s&&o)o.value=s;else{const[a,c]=zC(t);if(s){const l=r[t]=GC(s,i);os(e,a,l,c)}else o&&(jC(e,a,o,c),r[t]=void 0)}}const Im=/(?:Once|Passive|Capture)$/;function zC(e){let t;if(Im.test(e)){t={};let s;for(;s=e.match(Im);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):er(e.slice(2)),t]}let wh=0;const WC=Promise.resolve(),qC=()=>wh||(WC.then(()=>wh=0),wh=Date.now());function GC(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;an(KC(s,n.value),t,5,[s])};return n.value=e,n.attached=qC(),n}function KC(e,t){if(ct(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const Dm=/^on[a-z]/,YC=(e,t,n,s,i=!1,r,o,a,c)=>{t==="class"?FC(e,s,i):t==="style"?$C(e,n,s):su(t)?zf(t)||VC(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):XC(e,t,s,i))?HC(e,t,s,r,o,a,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),UC(e,t,s,i))};function XC(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&Dm.test(t)&&yt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Dm.test(t)&&fe(n)?!1:t in e}const Cs="transition",lo="animation",ap=(e,{slots:t})=>op(e0,JC(e),t);ap.displayName="Transition";const E0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};ap.props=ke({},e0.props,E0);const wi=(e,t=[])=>{ct(e)?e.forEach(n=>n(...t)):e&&e(...t)},Rm=e=>e?ct(e)?e.some(t=>t.length>1):e.length>1:!1;function JC(e){const t={};for(const $ in e)$ in E0||(t[$]=e[$]);if(e.css===!1)return t;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=QC(i),_=m&&m[0],b=m&&m[1],{onBeforeEnter:E,onEnter:x,onEnterCancelled:k,onLeave:C,onLeaveCancelled:R,onBeforeAppear:A=E,onAppear:D=x,onAppearCancelled:M=k}=t,H=($,J,et)=>{Si($,J?u:a),Si($,J?l:o),et&&et()},F=($,J)=>{$._isLeaving=!1,Si($,h),Si($,f),Si($,d),J&&J()},j=$=>(J,et)=>{const Q=$?D:x,X=()=>H(J,$,et);wi(Q,[J,X]),Mm(()=>{Si(J,$?c:r),Is(J,$?u:a),Rm(Q)||Am(J,s,_,X)})};return ke(t,{onBeforeEnter($){wi(E,[$]),Is($,r),Is($,o)},onBeforeAppear($){wi(A,[$]),Is($,c),Is($,l)},onEnter:j(!1),onAppear:j(!0),onLeave($,J){$._isLeaving=!0;const et=()=>F($,J);Is($,h),eI(),Is($,d),Mm(()=>{!$._isLeaving||(Si($,h),Is($,f),Rm(C)||Am($,s,b,et))}),wi(C,[$,et])},onEnterCancelled($){H($,!1),wi(k,[$])},onAppearCancelled($){H($,!0),wi(M,[$])},onLeaveCancelled($){F($),wi(R,[$])}})}function QC(e){if(e==null)return null;if(Vt(e))return[Sh(e.enter),Sh(e.leave)];{const t=Sh(e);return[t,t]}}function Sh(e){return Vx(e)}function Is(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Si(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Mm(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ZC=0;function Am(e,t,n,s){const i=e._endId=++ZC,r=()=>{i===e._endId&&s()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:c}=tI(e,t);if(!o)return s();const l=o+"end";let u=0;const h=()=>{e.removeEventListener(l,d),r()},d=f=>{f.target===e&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},a+1),e.addEventListener(l,d)}function tI(e,t){const n=window.getComputedStyle(e),s=m=>(n[m]||"").split(", "),i=s(`${Cs}Delay`),r=s(`${Cs}Duration`),o=Om(i,r),a=s(`${lo}Delay`),c=s(`${lo}Duration`),l=Om(a,c);let u=null,h=0,d=0;t===Cs?o>0&&(u=Cs,h=o,d=r.length):t===lo?l>0&&(u=lo,h=l,d=c.length):(h=Math.max(o,l),u=h>0?o>l?Cs:lo:null,d=u?u===Cs?r.length:c.length:0);const f=u===Cs&&/\b(transform|all)(,|$)/.test(s(`${Cs}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:f}}function Om(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Pm(n)+Pm(e[s])))}function Pm(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function eI(){return document.body.offsetHeight}const ri=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ct(t)?n=>Hc(t,n):t};function nI(e){e.target.composing=!0}function Lm(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ys={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e._assign=ri(i);const r=s||i.props&&i.props.type==="number";os(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=ul(a)),e._assign(a)}),n&&os(e,"change",()=>{e.value=e.value.trim()}),t||(os(e,"compositionstart",nI),os(e,"compositionend",Lm),os(e,"change",Lm))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:i}},r){if(e._assign=ri(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(i||e.type==="number")&&ul(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},sI={deep:!0,created(e,t,n){e._assign=ri(n),os(e,"change",()=>{const s=e._modelValue,i=Ar(e),r=e.checked,o=e._assign;if(ct(s)){const a=Vf(s,i),c=a!==-1;if(r&&!c)o(s.concat(i));else if(!r&&c){const l=[...s];l.splice(a,1),o(l)}}else if(qr(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(T0(e,r))})},mounted:Nm,beforeUpdate(e,t,n){e._assign=ri(n),Nm(e,t,n)}};function Nm(e,{value:t,oldValue:n},s){e._modelValue=t,ct(t)?e.checked=Vf(t,s.props.value)>-1:qr(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=Ki(t,T0(e,!0)))}const iI={created(e,{value:t},n){e.checked=Ki(t,n.props.value),e._assign=ri(n),os(e,"change",()=>{e._assign(Ar(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e._assign=ri(s),t!==n&&(e.checked=Ki(t,s.props.value))}},Wc={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const i=qr(t);os(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?ul(Ar(o)):Ar(o));e._assign(e.multiple?i?new Set(r):r:r[0])}),e._assign=ri(s)},mounted(e,{value:t}){Fm(e,t)},beforeUpdate(e,t,n){e._assign=ri(n)},updated(e,{value:t}){Fm(e,t)}};function Fm(e,t){const n=e.multiple;if(!(n&&!ct(t)&&!qr(t))){for(let s=0,i=e.options.length;s<i;s++){const r=e.options[s],o=Ar(r);if(n)ct(t)?r.selected=Vf(t,o)>-1:r.selected=t.has(o);else if(Ki(Ar(r),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ar(e){return"_value"in e?e._value:e.value}function T0(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const rI=["ctrl","shift","alt","meta"],oI={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>rI.some(n=>e[`${n}Key`]&&!t.includes(n))},cp=(e,t)=>(n,...s)=>{for(let i=0;i<t.length;i++){const r=oI[t[i]];if(r&&r(n,t))return}return e(n,...s)},aI={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},cI=(e,t)=>n=>{if(!("key"in n))return;const s=er(n.key);if(t.some(i=>i===s||aI[i]===s))return e(n)},lI=ke({patchProp:YC},NC);let $m;function uI(){return $m||($m=fC(lI))}const hI=(...e)=>{const t=uI().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=dI(s);if(!i)return;const r=t._component;!yt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function dI(e){return fe(e)?document.querySelector(e):e}var fI=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let x0;const mu=e=>x0=e,k0=Symbol();function xd(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var No;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(No||(No={}));function pI(){const e=Iv(!0),t=e.run(()=>oe({}));let n=[],s=[];const i=Rr({install(r){mu(i),i._a=r,r.provide(k0,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!fI?s.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const C0=()=>{};function Bm(e,t,n,s=C0){e.push(t);const i=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&Dv()&&qx(i),i}function or(e,...t){e.slice().forEach(n=>{n(...t)})}function kd(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],i=e[n];xd(i)&&xd(s)&&e.hasOwnProperty(n)&&!ne(s)&&!_s(s)?e[n]=kd(i,s):e[n]=s}return e}const gI=Symbol();function mI(e){return!xd(e)||!e.hasOwnProperty(gI)}const{assign:Os}=Object;function _I(e){return!!(ne(e)&&e.effect)}function yI(e,t,n,s){const{state:i,actions:r,getters:o}=t,a=n.state.value[e];let c;function l(){a||(n.state.value[e]=i?i():{});const u=Tk(n.state.value[e]);return Os(u,r,Object.keys(o||{}).reduce((h,d)=>(h[d]=Rr(Qt(()=>{mu(n);const f=n._s.get(e);return o[d].call(f,f)})),h),{}))}return c=I0(e,l,t,n,s,!0),c.$reset=function(){const h=i?i():{};this.$patch(d=>{Os(d,h)})},c}function I0(e,t,n={},s,i,r){let o;const a=Os({actions:{}},n),c={deep:!0};let l,u,h=Rr([]),d=Rr([]),f;const m=s.state.value[e];!r&&!m&&(s.state.value[e]={}),oe({});let _;function b(D){let M;l=u=!1,typeof D=="function"?(D(s.state.value[e]),M={type:No.patchFunction,storeId:e,events:f}):(kd(s.state.value[e],D),M={type:No.patchObject,payload:D,storeId:e,events:f});const H=_=Symbol();ep().then(()=>{_===H&&(l=!0)}),u=!0,or(h,M,s.state.value[e])}const E=C0;function x(){o.stop(),h=[],d=[],s._s.delete(e)}function k(D,M){return function(){mu(s);const H=Array.from(arguments),F=[],j=[];function $(Q){F.push(Q)}function J(Q){j.push(Q)}or(d,{args:H,name:D,store:R,after:$,onError:J});let et;try{et=M.apply(this&&this.$id===e?this:R,H)}catch(Q){throw or(j,Q),Q}return et instanceof Promise?et.then(Q=>(or(F,Q),Q)).catch(Q=>(or(j,Q),Promise.reject(Q))):(or(F,et),et)}}const C={_p:s,$id:e,$onAction:Bm.bind(null,d),$patch:b,$reset:E,$subscribe(D,M={}){const H=Bm(h,D,M.detached,()=>F()),F=o.run(()=>Xs(()=>s.state.value[e],j=>{(M.flush==="sync"?u:l)&&D({storeId:e,type:No.direct,events:f},j)},Os({},c,M)));return H},$dispose:x},R=Yr(C);s._s.set(e,R);const A=s._e.run(()=>(o=Iv(),o.run(()=>t())));for(const D in A){const M=A[D];if(ne(M)&&!_I(M)||_s(M))r||(m&&mI(M)&&(ne(M)?M.value=m[D]:kd(M,m[D])),s.state.value[e][D]=M);else if(typeof M=="function"){const H=k(D,M);A[D]=H,a.actions[D]=M}}return Os(R,A),Os(xt(R),A),Object.defineProperty(R,"$state",{get:()=>s.state.value[e],set:D=>{b(M=>{Os(M,D)})}}),s._p.forEach(D=>{Os(R,o.run(()=>D({store:R,app:s._a,pinia:s,options:a})))}),m&&r&&n.hydrate&&n.hydrate(R.$state,m),l=!0,u=!0,R}function Qr(e,t,n){let s,i;const r=typeof t=="function";typeof e=="string"?(s=e,i=r?n:t):(i=e,s=e.id);function o(a,c){const l=v0();return a=a||l&&Nn(k0,null),a&&mu(a),a=x0,a._s.has(s)||(r?I0(s,t,i,a):yI(s,i,a)),a._s.get(s)}return o.$id=s,o}function lp(e){{e=xt(e);const t={};for(const n in e){const s=e[n];(ne(s)||_s(s))&&(t[n]=qv(e,n))}return t}}const D0=Object.prototype.toString;function R0(e){switch(D0.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return vs(e,Error)}}function Zr(e,t){return D0.call(e)===`[object ${t}]`}function up(e){return Zr(e,"ErrorEvent")}function Um(e){return Zr(e,"DOMError")}function bI(e){return Zr(e,"DOMException")}function Fn(e){return Zr(e,"String")}function hp(e){return e===null||typeof e!="object"&&typeof e!="function"}function Or(e){return Zr(e,"Object")}function _u(e){return typeof Event!="undefined"&&vs(e,Event)}function vI(e){return typeof Element!="undefined"&&vs(e,Element)}function wI(e){return Zr(e,"RegExp")}function dp(e){return Boolean(e&&e.then&&typeof e.then=="function")}function SI(e){return Or(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function M0(e){return typeof e=="number"&&e!==e}function vs(e,t){try{return e instanceof t}catch{return!1}}function A0(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Er(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Hm(e,t){if(!Array.isArray(e))return"";const n=[];for(let s=0;s<e.length;s++){const i=e[s];try{A0(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function EI(e,t,n=!1){return Fn(e)?wI(t)?t.test(e):Fn(t)?n?e===t:e.includes(t):!1:!1}function to(e,t=[],n=!1){return t.some(s=>EI(e,s,n))}function TI(e,t,n=250,s,i,r,o){if(!r.exception||!r.exception.values||!o||!vs(o.originalException,Error))return;const a=r.exception.values.length>0?r.exception.values[r.exception.values.length-1]:void 0;a&&(r.exception.values=xI(Cd(e,t,i,o.originalException,s,r.exception.values,a,0),n))}function Cd(e,t,n,s,i,r,o,a){if(r.length>=n+1)return r;let c=[...r];if(vs(s[i],Error)){jm(o,a);const l=e(t,s[i]),u=c.length;Vm(l,i,u,a),c=Cd(e,t,n,s[i],i,[l,...c],l,u)}return Array.isArray(s.errors)&&s.errors.forEach((l,u)=>{if(vs(l,Error)){jm(o,a);const h=e(t,l),d=c.length;Vm(h,`errors[${u}]`,d,a),c=Cd(e,t,n,l,i,[h,...c],h,d)}}),c}function jm(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function Vm(e,t,n,s){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:s}}function xI(e,t){return e.map(n=>(n.value&&(n.value=Er(n.value,t)),n))}function hc(e){return e&&e.Math==Math?e:void 0}const At=typeof globalThis=="object"&&hc(globalThis)||typeof window=="object"&&hc(window)||typeof self=="object"&&hc(self)||typeof global=="object"&&hc(global)||function(){return this}()||{};function yu(){return At}function O0(e,t,n){const s=n||At,i=s.__SENTRY__=s.__SENTRY__||{};return i[e]||(i[e]=t())}const qc=yu(),kI=80;function oi(e,t={}){if(!e)return"<unknown>";try{let n=e;const s=5,i=[];let r=0,o=0;const a=" > ",c=a.length;let l;const u=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||kI;for(;n&&r++<s&&(l=CI(n,u),!(l==="html"||r>1&&o+i.length*c+l.length>=h));)i.push(l),o+=l.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function CI(e,t){const n=e,s=[];let i,r,o,a,c;if(!n||!n.tagName)return"";s.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter(h=>n.getAttribute(h)).map(h=>[h,n.getAttribute(h)]):null;if(l&&l.length)l.forEach(h=>{s.push(`[${h[0]}="${h[1]}"]`)});else if(n.id&&s.push(`#${n.id}`),i=n.className,i&&Fn(i))for(r=i.split(/\s+/),c=0;c<r.length;c++)s.push(`.${r[c]}`);const u=["aria-label","type","name","title","alt"];for(c=0;c<u.length;c++)o=u[c],a=n.getAttribute(o),a&&s.push(`[${o}="${a}"]`);return s.join("")}function II(){try{return qc.document.location.href}catch{return""}}function DI(e){return qc.document&&qc.document.querySelector?qc.document.querySelector(e):null}const eo=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,RI="Sentry Logger ",Id=["debug","info","warn","error","log","assert","trace"],ml={};function Wn(e){if(!("console"in At))return e();const t=At.console,n={},s=Object.keys(ml);s.forEach(i=>{const r=ml[i];n[i]=t[i],t[i]=r});try{return e()}finally{s.forEach(i=>{t[i]=n[i]})}}function MI(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return eo?Id.forEach(n=>{t[n]=(...s)=>{e&&Wn(()=>{At.console[n](`${RI}[${n}]:`,...s)})}}):Id.forEach(n=>{t[n]=()=>{}}),t}const V=MI(),AI=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function OI(e){return e==="http"||e==="https"}function bu(e,t=!1){const{host:n,path:s,pass:i,port:r,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${n}${r?`:${r}`:""}/${s&&`${s}/`}${o}`}function PI(e){const t=AI.exec(e);if(!t){Wn(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,s,i="",r,o="",a]=t.slice(1);let c="",l=a;const u=l.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),l=u.pop()),l){const h=l.match(/^\d+/);h&&(l=h[0])}return P0({host:r,pass:i,path:c,projectId:l,port:o,protocol:n,publicKey:s})}function P0(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function LI(e){if(!eo)return!0;const{port:t,projectId:n,protocol:s}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(V.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?OI(s)?t&&isNaN(parseInt(t,10))?(V.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(V.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),!1):(V.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function NI(e){const t=typeof e=="string"?PI(e):P0(e);if(!(!t||!LI(t)))return t}class Pn extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function ve(e,t,n){if(!(t in e))return;const s=e[t],i=n(s);typeof i=="function"&&L0(i,s),e[t]=i}function ra(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{eo&&V.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function L0(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,ra(e,"__sentry_original__",t)}catch{}}function fp(e){return e.__sentry_original__}function FI(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function N0(e){if(R0(e))return{message:e.message,name:e.name,stack:e.stack,...Wm(e)};if(_u(e)){const t={type:e.type,target:zm(e.target),currentTarget:zm(e.currentTarget),...Wm(e)};return typeof CustomEvent!="undefined"&&vs(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function zm(e){try{return vI(e)?oi(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Wm(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function $I(e,t=40){const n=Object.keys(N0(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Er(n[0],t);for(let s=n.length;s>0;s--){const i=n.slice(0,s).join(", ");if(!(i.length>t))return s===n.length?i:Er(i,t)}return""}function $n(e){return Dd(e,new Map)}function Dd(e,t){if(Or(e)){const n=t.get(e);if(n!==void 0)return n;const s={};t.set(e,s);for(const i of Object.keys(e))typeof e[i]!="undefined"&&(s[i]=Dd(e[i],t));return s}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const s=[];return t.set(e,s),e.forEach(i=>{s.push(Dd(i,t))}),s}return e}const F0=50,qm=/\(error: (.*)\)/,Gm=/captureMessage|captureException/;function $0(...e){const t=e.sort((n,s)=>n[0]-s[0]).map(n=>n[1]);return(n,s=0)=>{const i=[],r=n.split(`
`);for(let o=s;o<r.length;o++){const a=r[o];if(a.length>1024)continue;const c=qm.test(a)?a.replace(qm,"$1"):a;if(!c.match(/\S*Error: /)){for(const l of t){const u=l(c);if(u){i.push(u);break}}if(i.length>=F0)break}}return UI(i)}}function BI(e){return Array.isArray(e)?$0(...e):e}function UI(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),Gm.test(t[t.length-1].function||"")&&(t.pop(),Gm.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,F0).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const Eh="<anonymous>";function ws(e){try{return!e||typeof e!="function"?Eh:e.name||Eh}catch{return Eh}}const Gc={},Km={};function nr(e,t){Gc[e]=Gc[e]||[],Gc[e].push(t)}function sr(e,t){Km[e]||(t(),Km[e]=!0)}function yn(e,t){const n=e&&Gc[e];if(!!n)for(const s of n)try{s(t)}catch(i){eo&&V.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ws(s)}
Error:`,i)}}function HI(e){const t="console";nr(t,e),sr(t,jI)}function jI(){"console"in At&&Id.forEach(function(e){e in At.console&&ve(At.console,e,function(t){return ml[e]=t,function(...n){yn("console",{args:n,level:e});const i=ml[e];i&&i.apply(At.console,n)}})})}function Oe(){const e=At,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>t.getRandomValues(new Uint8Array(1))[0])}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,s=>(s^(n()&15)>>s/4).toString(16))}function B0(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function $s(e){const{message:t,event_id:n}=e;if(t)return t;const s=B0(e);return s?s.type&&s.value?`${s.type}: ${s.value}`:s.type||s.value||n||"<unknown>":n||"<unknown>"}function Rd(e,t,n){const s=e.exception=e.exception||{},i=s.values=s.values||[],r=i[0]=i[0]||{};r.value||(r.value=t||""),r.type||(r.type=n||"Error")}function oa(e,t){const n=B0(e);if(!n)return;const s={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...s,...i,...t},t&&"data"in t){const r={...i&&i.data,...t.data};n.mechanism.data=r}}function Ym(e){if(e&&e.__sentry_captured__)return!0;try{ra(e,"__sentry_captured__",!0)}catch{}return!1}function pp(e){return Array.isArray(e)?e:[e]}const dr=At,VI=1e3;let Xm,Md,Ad;function U0(e){const t="dom";nr(t,e),sr(t,zI)}function zI(){if(!dr.document)return;const e=yn.bind(null,"dom"),t=Jm(e,!0);dr.document.addEventListener("click",t,!1),dr.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=dr[n]&&dr[n].prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(ve(s,"addEventListener",function(i){return function(r,o,a){if(r==="click"||r=="keypress")try{const c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},u=l[r]=l[r]||{refCount:0};if(!u.handler){const h=Jm(e);u.handler=h,i.call(this,r,h,a)}u.refCount++}catch{}return i.call(this,r,o,a)}}),ve(s,"removeEventListener",function(i){return function(r,o,a){if(r==="click"||r=="keypress")try{const c=this,l=c.__sentry_instrumentation_handlers__||{},u=l[r];u&&(u.refCount--,u.refCount<=0&&(i.call(this,r,u.handler,a),u.handler=void 0,delete l[r]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return i.call(this,r,o,a)}}))})}function WI(e){if(e.type!==Md)return!1;try{if(!e.target||e.target._sentryId!==Ad)return!1}catch{}return!0}function qI(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Jm(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const s=GI(n);if(qI(n.type,s))return;ra(n,"_sentryCaptured",!0),s&&!s._sentryId&&ra(s,"_sentryId",Oe());const i=n.type==="keypress"?"input":n.type;WI(n)||(e({event:n,name:i,global:t}),Md=n.type,Ad=s?s._sentryId:void 0),clearTimeout(Xm),Xm=dr.setTimeout(()=>{Ad=void 0,Md=void 0},VI)}}function GI(e){try{return e.target}catch{return null}}const Od=yu();function H0(){if(!("fetch"in Od))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Pd(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function KI(){if(typeof EdgeRuntime=="string")return!0;if(!H0())return!1;if(Pd(Od.fetch))return!0;let e=!1;const t=Od.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Pd(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){eo&&V.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function gp(e){const t="fetch";nr(t,e),sr(t,YI)}function YI(){!KI()||ve(At,"fetch",function(e){return function(...t){const{method:n,url:s}=XI(t),i={args:t,fetchData:{method:n,url:s},startTimestamp:Date.now()};return yn("fetch",{...i}),e.apply(At,t).then(r=>{const o={...i,endTimestamp:Date.now(),response:r};return yn("fetch",o),r},r=>{const o={...i,endTimestamp:Date.now(),error:r};throw yn("fetch",o),r})}})}function Ld(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Qm(e){return typeof e=="string"?e:e?Ld(e,"url")?e.url:e.toString?e.toString():"":""}function XI(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,s]=e;return{url:Qm(n),method:Ld(s,"method")?String(s.method).toUpperCase():"GET"}}const t=e[0];return{url:Qm(t),method:Ld(t,"method")?String(t.method).toUpperCase():"GET"}}let dc=null;function j0(e){const t="error";nr(t,e),sr(t,JI)}function JI(){dc=At.onerror,At.onerror=function(e,t,n,s,i){return yn("error",{column:s,error:i,line:n,msg:e,url:t}),dc&&!dc.__SENTRY_LOADER__?dc.apply(this,arguments):!1},At.onerror.__SENTRY_INSTRUMENTED__=!0}let fc=null;function V0(e){const t="unhandledrejection";nr(t,e),sr(t,QI)}function QI(){fc=At.onunhandledrejection,At.onunhandledrejection=function(e){return yn("unhandledrejection",e),fc&&!fc.__SENTRY_LOADER__?fc.apply(this,arguments):!0},At.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const pc=yu();function ZI(){const e=pc.chrome,t=e&&e.app&&e.app.runtime,n="history"in pc&&!!pc.history.pushState&&!!pc.history.replaceState;return!t&&n}const uo=At;let gc;function vu(e){const t="history";nr(t,e),sr(t,tD)}function tD(){if(!ZI())return;const e=uo.onpopstate;uo.onpopstate=function(...n){const s=uo.location.href,i=gc;if(gc=s,yn("history",{from:i,to:s}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...s){const i=s.length>2?s[2]:void 0;if(i){const r=gc,o=String(i);gc=o,yn("history",{from:r,to:o})}return n.apply(this,s)}}ve(uo.history,"pushState",t),ve(uo.history,"replaceState",t)}const eD=At,js="__sentry_xhr_v3__";function mp(e){const t="xhr";nr(t,e),sr(t,nD)}function nD(){if(!eD.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;ve(e,"open",function(t){return function(...n){const s=Date.now(),i=Fn(n[0])?n[0].toUpperCase():void 0,r=sD(n[1]);if(!i||!r)return;this[js]={method:i,url:r,request_headers:{}},i==="POST"&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[js];if(!!a&&this.readyState===4){try{a.status_code=this.status}catch{}const c={args:[i,r],endTimestamp:Date.now(),startTimestamp:s,xhr:this};yn("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?ve(this,"onreadystatechange",function(a){return function(...c){return o(),a.apply(this,c)}}):this.addEventListener("readystatechange",o),ve(this,"setRequestHeader",function(a){return function(...c){const[l,u]=c,h=this[js];return h&&Fn(l)&&Fn(u)&&(h.request_headers[l.toLowerCase()]=u),a.apply(this,c)}}),t.apply(this,n)}}),ve(e,"send",function(t){return function(...n){const s=this[js];if(!s)return;n[0]!==void 0&&(s.body=n[0]);const i={args:[s.method,s.url],startTimestamp:Date.now(),xhr:this};return yn("xhr",i),t.apply(this,n)}})}function sD(e){if(Fn(e))return e;try{return e.toString()}catch{}}function iD(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function rD(){return"npm"}function z0(){return!iD()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function oD(e,t){return e.require(t)}function Zm(){return typeof window!="undefined"&&(!z0()||aD())}function aD(){return At.process!==void 0&&At.process.type==="renderer"}function cD(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let r=0;r<t.length;r++)if(t[r]===i)return!0;return t.push(i),!1}function s(i){if(e)t.delete(i);else for(let r=0;r<t.length;r++)if(t[r]===i){t.splice(r,1);break}}return[n,s]}function Mn(e,t=100,n=1/0){try{return Nd("",e,t,n)}catch(s){return{ERROR:`**non-serializable** (${s})`}}}function W0(e,t=3,n=100*1024){const s=Mn(e,t);return dD(s)>n?W0(e,t-1,n):s}function Nd(e,t,n=1/0,s=1/0,i=cD()){const[r,o]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!M0(t))return t;const a=lD(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(r(t))return"[Circular ~]";const l=t;if(l&&typeof l.toJSON=="function")try{const f=l.toJSON();return Nd("",f,c-1,s,i)}catch{}const u=Array.isArray(t)?[]:{};let h=0;const d=N0(t);for(const f in d){if(!Object.prototype.hasOwnProperty.call(d,f))continue;if(h>=s){u[f]="[MaxProperties ~]";break}const m=d[f];u[f]=Nd(f,m,c-1,s,i),h++}return o(t),u}function lD(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global!="undefined"&&t===global)return"[Global]";if(typeof window!="undefined"&&t===window)return"[Window]";if(typeof document!="undefined"&&t===document)return"[Document]";if(A0(t))return"[VueViewModel]";if(SI(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${ws(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=uD(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function uD(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function hD(e){return~-encodeURI(e).split(/%..|./).length}function dD(e){return hD(JSON.stringify(e))}var ss;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const s=2;e[e.REJECTED=s]="REJECTED"})(ss||(ss={}));function Yi(e){return new Ze(t=>{t(e)})}function _p(e){return new Ze((t,n)=>{n(e)})}class Ze{constructor(t){Ze.prototype.__init.call(this),Ze.prototype.__init2.call(this),Ze.prototype.__init3.call(this),Ze.prototype.__init4.call(this),this._state=ss.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Ze((s,i)=>{this._handlers.push([!1,r=>{if(!t)s(r);else try{s(t(r))}catch(o){i(o)}},r=>{if(!n)i(r);else try{s(n(r))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Ze((n,s)=>{let i,r;return this.then(o=>{r=!1,i=o,t&&t()},o=>{r=!0,i=o,t&&t()}).then(()=>{if(r){s(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(ss.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ss.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ss.PENDING){if(dp(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ss.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ss.RESOLVED&&n[1](this._value),this._state===ss.REJECTED&&n[2](this._value),n[0]=!0)})}}}function fD(e){const t=[];function n(){return e===void 0||t.length<e}function s(o){return t.splice(t.indexOf(o),1)[0]}function i(o){if(!n())return _p(new Pn("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>s(a)).then(null,()=>s(a).then(null,()=>{})),a}function r(o){return new Ze((a,c)=>{let l=t.length;if(!l)return a(!0);const u=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(h=>{Yi(h).then(()=>{--l||(clearTimeout(u),a(!0))},c)})})}return{$:t,add:i,drain:r}}function Th(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",s=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:s,relative:t[5]+n+s}}const pD=["fatal","error","warning","log","info","debug"];function gD(e){return e==="warn"?"warning":pD.includes(e)?e:"log"}const q0=yu(),Fd={nowSeconds:()=>Date.now()/1e3};function mD(){const{performance:e}=q0;if(!e||!e.now)return;const t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function _D(){try{return oD(xx,"perf_hooks").performance}catch{return}}const xh=z0()?_D():mD(),t_=xh===void 0?Fd:{nowSeconds:()=>(xh.timeOrigin+xh.now())/1e3},wu=Fd.nowSeconds.bind(Fd),ai=t_.nowSeconds.bind(t_),vn=(()=>{const{performance:e}=q0;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),s=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-s):t,r=i<t,o=e.timing&&e.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-s):t,l=c<t;return r||l?i<=c?e.timeOrigin:o:s})(),$d="baggage",G0="sentry-",yD=/^sentry-/,bD=8192;function vD(e){if(!Fn(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((s,i)=>{const r=e_(i);return{...s,...r}},{});else{if(!e)return;t=e_(e)}const n=Object.entries(t).reduce((s,[i,r])=>{if(i.match(yD)){const o=i.slice(G0.length);s[o]=r}return s},{});if(Object.keys(n).length>0)return n}function Bd(e){if(!e)return;const t=Object.entries(e).reduce((n,[s,i])=>(i&&(n[`${G0}${s}`]=i),n),{});return wD(t)}function e_(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,s])=>(t[n]=s,t),{})}function wD(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,s],i)=>{const r=`${encodeURIComponent(n)}=${encodeURIComponent(s)}`,o=i===0?r:`${t},${r}`;return o.length>bD?(eo&&V.warn(`Not adding key: ${n} with val: ${s} to baggage header due to exceeding baggage size limits.`),t):o},"")}const SD=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ED(e){if(!e)return;const t=e.match(SD);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function TD(e,t){const n=ED(e),s=vD(t),{traceId:i,parentSpanId:r,parentSampled:o}=n||{},a={traceId:i||Oe(),spanId:Oe().substring(16),sampled:o};return r&&(a.parentSpanId=r),s&&(a.dsc=s),{traceparentData:n,dynamicSamplingContext:s,propagationContext:a}}function yp(e=Oe(),t=Oe().substring(16),n){let s="";return n!==void 0&&(s=n?"-1":"-0"),`${e}-${t}${s}`}function no(e,t=[]){return[e,t]}function xD(e,t){const[n,s]=e;return[n,[...s,t]]}function n_(e,t){const n=e[1];for(const s of n){const i=s[0].type;if(t(s,i))return!0}return!1}function Ud(e,t){return(t||new TextEncoder).encode(e)}function kD(e,t){const[n,s]=e;let i=JSON.stringify(n);function r(o){typeof i=="string"?i=typeof o=="string"?i+o:[Ud(i,t),o]:i.push(typeof o=="string"?Ud(o,t):o)}for(const o of s){const[a,c]=o;if(r(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)r(c);else{let l;try{l=JSON.stringify(c)}catch{l=JSON.stringify(Mn(c))}r(l)}}return typeof i=="string"?i:CD(i)}function CD(e){const t=e.reduce((i,r)=>i+r.length,0),n=new Uint8Array(t);let s=0;for(const i of e)n.set(i,s),s+=i.length;return n}function ID(e,t){const n=typeof e.data=="string"?Ud(e.data,t):e.data;return[$n({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const DD={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function s_(e){return DD[e]}function bp(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function K0(e,t,n,s){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&s&&{dsn:bu(s)},...i&&{trace:$n({...i})}}}function RD(e,t,n){const s=[{type:"client_report"},{timestamp:n||wu(),discarded_events:e}];return no(t?{dsn:t}:{},[s])}const MD=60*1e3;function AD(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const s=Date.parse(`${e}`);return isNaN(s)?MD:s-t}function OD(e,t){return e[t]||e.all||0}function Y0(e,t,n=Date.now()){return OD(e,t)>n}function X0(e,{statusCode:t,headers:n},s=Date.now()){const i={...e},r=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(r)for(const a of r.trim().split(",")){const[c,l]=a.split(":",2),u=parseInt(c,10),h=(isNaN(u)?60:u)*1e3;if(!l)i.all=s+h;else for(const d of l.split(";"))i[d]=s+h}else o?i.all=s+AD(o,s):t===429&&(i.all=s+60*1e3);return i}const ht=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,vp="production";function wp(){return O0("globalEventProcessors",()=>[])}function J0(e){wp().push(e)}function _l(e,t,n,s=0){return new Ze((i,r)=>{const o=e[s];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);ht&&o.id&&a===null&&V.log(`Event processor "${o.id}" dropped event`),dp(a)?a.then(c=>_l(e,c,n,s+1).then(i)).then(null,r):_l(e,a,n,s+1).then(i).then(null,r)}})}function PD(e){const t=ai(),n={sid:Oe(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>ND(n)};return e&&Pr(n,e),n}function Pr(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ai(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Oe()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function LD(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Pr(e,n)}function ND(e){return $n({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const FD=100;class Js{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=i_()}static clone(t){const n=new Js;return t&&(n._breadcrumbs=[...t._breadcrumbs],n._tags={...t._tags},n._extra={...t._extra},n._contexts={...t._contexts},n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=[...t._eventProcessors],n._requestSession=t._requestSession,n._attachments=[...t._attachments],n._sdkProcessingMetadata={...t._sdkProcessingMetadata},n._propagationContext={...t._propagationContext}),n}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&Pr(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const n=t(this);return n instanceof Js?n:this}return t instanceof Js?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):Or(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=i_(),this}addBreadcrumb(t,n){const s=typeof n=="number"?n:FD;if(s<=0)return this;const i={timestamp:wu(),...t},r=this._breadcrumbs;return r.push(i),this._breadcrumbs=r.length>s?r.slice(-s):r,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,n={},s){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const o=this._span.transaction;if(o){t.sdkProcessingMetadata={dynamicSamplingContext:o.getDynamicSamplingContext(),...t.sdkProcessingMetadata};const a=o.name;a&&(t.tags={transaction:a,...t.tags})}}this._applyFingerprint(t);const i=this._getBreadcrumbs(),r=[...t.breadcrumbs||[],...i];return t.breadcrumbs=r.length>0?r:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},_l([...s||[],...wp(),...this._eventProcessors],t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?pp(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function i_(){return{traceId:Oe(),spanId:Oe().substring(16)}}const Q0=4,$D=100;class Z0{constructor(t,n=new Js,s=Q0){this._version=s,this._stack=[{scope:n}],t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=Js.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();try{t(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const s=this._lastEventId=n&&n.event_id?n.event_id:Oe(),i=new Error("Sentry syntheticException");return this._withClient((r,o)=>{r.captureException(t,{originalException:t,syntheticException:i,...n,event_id:s},o)}),s}captureMessage(t,n,s){const i=this._lastEventId=s&&s.event_id?s.event_id:Oe(),r=new Error(t);return this._withClient((o,a)=>{o.captureMessage(t,n,{originalException:t,syntheticException:r,...s,event_id:i},a)}),i}captureEvent(t,n){const s=n&&n.event_id?n.event_id:Oe();return t.type||(this._lastEventId=s),this._withClient((i,r)=>{i.captureEvent(t,{...n,event_id:s},r)}),s}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:s,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:o=$D}=i.getOptions&&i.getOptions()||{};if(o<=0)return;const c={timestamp:wu(),...t},l=r?Wn(()=>r(c,n)):c;l!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",l,n),s.addBreadcrumb(l,o))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n)}configureScope(t){const{scope:n,client:s}=this.getStackTop();s&&t(n)}run(t){const n=r_(this);try{t(this)}finally{r_(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return ht&&V.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const s=this._callExtensionMethod("startTransaction",t,n);return ht&&!s&&(this.getClient()?V.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):V.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),s}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,s=n.getSession();s&&LD(s),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:s}=this.getStackTop(),{release:i,environment:r=vp}=s&&s.getOptions()||{},{userAgent:o}=At.navigator||{},a=PD({release:i,environment:r,user:n.getUser(),...o&&{userAgent:o},...t}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&Pr(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return Boolean(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),s=t.getSession();s&&n&&n.captureSession&&n.captureSession(s)}_withClient(t){const{scope:n,client:s}=this.getStackTop();s&&t(s,n)}_callExtensionMethod(t,...n){const i=Pa().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,n);ht&&V.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function Pa(){return At.__SENTRY__=At.__SENTRY__||{extensions:{},hub:void 0},At}function r_(e){const t=Pa(),n=Hd(t);return tw(t,e),n}function Ht(){const e=Pa();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return BD(e)}function BD(e=Pa()){return(!UD(e)||Hd(e).isOlderThan(Q0))&&tw(e,new Z0),Hd(e)}function UD(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Hd(e){return O0("hub",()=>new Z0,e)}function tw(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function La(e){return(e||Ht()).getScope().getTransaction()}let o_=!1;function HD(){o_||(o_=!0,j0(jd),V0(jd))}function jd(){const e=La();if(e){const t="internal_error";ht&&V.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}jd.tag="sentry_tracingErrorCallback";class ew{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class Sp{constructor(t={}){this.traceId=t.traceId||Oe(),this.spanId=t.spanId||Oe().substring(16),this.startTimestamp=t.startTimestamp||ai(),this.tags=t.tags||{},this.data=t.data||{},this.instrumenter=t.instrumenter||"sentry",this.origin=t.origin||"manual",t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.name&&(this.description=t.name),t.status&&(this.status=t.status),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}get name(){return this.description||""}set name(t){this.setName(t)}startChild(t){const n=new Sp({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,ht&&n.transaction){const s=t&&t.op||"< unknown op >",i=n.transaction.name||"< unknown name >",r=n.transaction.spanId,o=`[Tracing] Starting '${s}' span on transaction '${i}' (${r}).`;n.transaction.metadata.spanMetadata[n.spanId]={logMessage:o},V.log(o)}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t)),this.setData("http.response.status_code",t);const n=jD(t);return n!=="unknown_error"&&this.setStatus(n),this}setName(t){this.description=t}isSuccess(){return this.status==="ok"}finish(t){if(ht&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:n}=this.transaction.metadata.spanMetadata[this.spanId];n&&V.log(n.replace("Starting","Finishing"))}this.endTimestamp=typeof t=="number"?t:ai()}toTraceparent(){return yp(this.traceId,this.spanId,this.sampled)}toContext(){return $n({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return $n({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}toJSON(){return $n({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}function jD(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function Su(e,t,n){const s=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:r}=n&&n.getUser()||{},o=$n({environment:s.environment||vp,release:s.release,user_segment:r,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",o),o}class nw extends Sp{constructor(t,n){super(t),delete this.description,this._measurements={},this._contexts={},this._hub=n||Ht(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;const s=this.metadata.dynamicSamplingContext;s&&(this._frozenDynamicSamplingContext={...s})}get name(){return this._name}set name(t){this.setName(t)}setName(t,n="custom"){this._name=t,this.metadata.source=n}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new ew(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,s=""){this._measurements[t]={value:n,unit:s}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){const n=this._finishTransaction(t);if(!!n)return this._hub.captureEvent(n)}toContext(){const t=super.toContext();return $n({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const t=this._hub||Ht(),n=t.getClient();if(!n)return{};const s=t.getScope(),i=Su(this.traceId,n,s),r=this.metadata.sampleRate;r!==void 0&&(i.sample_rate=`${r}`);const o=this.metadata.source;return o&&o!=="url"&&(i.transaction=this.name),this.sampled!==void 0&&(i.sampled=String(this.sampled)),i}setHub(t){this._hub=t}_finishTransaction(t){if(this.endTimestamp!==void 0)return;this.name||(ht&&V.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this.sampled!==!0){ht&&V.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const s=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&s.length>0&&(this.endTimestamp=s.reduce((a,c)=>a.endTimestamp&&c.endTimestamp?a.endTimestamp>c.endTimestamp?a:c:a).endTimestamp);const i=this.metadata,r={contexts:{...this._contexts,trace:this.getTraceContext()},spans:s,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:this.getDynamicSamplingContext()},...i.source&&{transaction_info:{source:i.source}}};return Object.keys(this._measurements).length>0&&(ht&&V.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),r.measurements=this._measurements),ht&&V.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),r}}const Kc={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},VD="finishReason",ar=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class zD extends ew{constructor(t,n,s,i){super(i),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=s}add(t){t.spanId!==this.transactionSpanId&&(t.finish=n=>{t.endTimestamp=typeof n=="number"?n:ai(),this._popActivity(t.spanId)},t.endTimestamp===void 0&&this._pushActivity(t.spanId)),super.add(t)}}class WD extends nw{constructor(t,n,s=Kc.idleTimeout,i=Kc.finalTimeout,r=Kc.heartbeatInterval,o=!1){super(t,n),this._idleHub=n,this._idleTimeout=s,this._finalTimeout=i,this._heartbeatInterval=r,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=ar[4],o&&(ht&&V.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(a=>a.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=ar[3],this.finish())},this._finalTimeout)}finish(t=ai()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(VD,this._finishReason),this.spanRecorder){ht&&V.log("[Tracing] finishing IdleTransaction",new Date(t*1e3).toISOString(),this.op);for(const n of this._beforeFinishCallbacks)n(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanId===this.spanId)return!0;n.endTimestamp||(n.endTimestamp=t,n.setStatus("cancelled"),ht&&V.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));const s=n.startTimestamp<t,i=(this._finalTimeout+this._idleTimeout)/1e3,r=n.endTimestamp-this.startTimestamp<i;if(ht){const o=JSON.stringify(n,void 0,2);s?r||V.log("[Tracing] discarding Span since it finished after Transaction final timeout",o):V.log("[Tracing] discarding Span since it happened after Transaction was finished",o)}return s&&r}),ht&&V.log("[Tracing] flushing IdleTransaction")}else ht&&V.log("[Tracing] No active IdleTransaction");if(this._onScope){const n=this._idleHub.getScope();n.getTransaction()===this&&n.setSpan(void 0)}return super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=i=>{this._finished||this._pushActivity(i)},s=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new zD(n,s,this.spanId,t),ht&&V.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=ar[5],this.finish(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=ar[1],this.finish(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),ht&&V.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,ht&&V.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(ht&&V.log(`[Tracing] popActivity ${t}`),delete this.activities[t],ht&&V.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=ai();this._idleTimeoutCanceledPermanently?(this._finishReason=ar[5],this.finish(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(ht&&V.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=ar[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){ht&&V.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function sw(e,t,n,s,i){const{normalizeDepth:r=3,normalizeMaxBreadth:o=1e3}=e,a={...t,event_id:t.event_id||n.event_id||Oe(),timestamp:t.timestamp||wu()},c=n.integrations||e.integrations.map(d=>d.name);qD(a,e),YD(a,c),t.type===void 0&&GD(a,e.stackParser);let l=s;n.captureContext&&(l=Js.clone(l).update(n.captureContext)),n.mechanism&&oa(a,n.mechanism);let u=Yi(a);const h=i&&i.getEventProcessors?i.getEventProcessors():[];if(l){if(l.getAttachments){const d=[...n.attachments||[],...l.getAttachments()];d.length&&(n.attachments=d)}u=l.applyToEvent(a,n,h)}else u=_l([...h,...wp()],a,n);return u.then(d=>(d&&KD(d),typeof r=="number"&&r>0?XD(d,r,o):d))}function qD(e,t){const{environment:n,release:s,dist:i,maxValueLength:r=250}=t;"environment"in e||(e.environment="environment"in t?n:vp),e.release===void 0&&s!==void 0&&(e.release=s),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Er(e.message,r));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Er(o.value,r));const a=e.request;a&&a.url&&(a.url=Er(a.url,r))}const a_=new WeakMap;function GD(e,t){const n=At._sentryDebugIds;if(!n)return;let s;const i=a_.get(t);i?s=i:(s=new Map,a_.set(t,s));const r=Object.keys(n).reduce((o,a)=>{let c;const l=s.get(a);l?c=l:(c=t(a),s.set(a,c));for(let u=c.length-1;u>=0;u--){const h=c[u];if(h.filename){o[h.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=r[a.filename])})})}catch{}}function KD(e){const t={};try{e.exception.values.forEach(s=>{s.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(s=>{n.push({type:"sourcemap",code_file:s,debug_id:t[s]})})}function YD(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function XD(e,t,n){if(!e)return null;const s={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Mn(i.data,t,n)}}))},...e.user&&{user:Mn(e.user,t,n)},...e.contexts&&{contexts:Mn(e.contexts,t,n)},...e.extra&&{extra:Mn(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&s.contexts&&(s.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(s.contexts.trace.data=Mn(e.contexts.trace.data,t,n))),e.spans&&(s.spans=e.spans.map(i=>(i.data&&(i.data=Mn(i.data,t,n)),i))),s}function JD(e){if(!!e)return QD(e)?{captureContext:e}:tR(e)?{captureContext:e}:e}function QD(e){return e instanceof Js||typeof e=="function"}const ZD=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function tR(e){return Object.keys(e).some(t=>ZD.includes(t))}function hn(e,t){return Ht().captureException(e,JD(t))}function eR(e,t){Ht().setContext(e,t)}function nR(e){Ht().withScope(e)}function hi(){return Ht().getClient()}function Eu(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=hi(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function iw(e,t,n){if(!Eu(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let s;return typeof t.tracesSampler=="function"?(s=t.tracesSampler(n),e.setMetadata({sampleRate:Number(s)})):n.parentSampled!==void 0?s=n.parentSampled:typeof t.tracesSampleRate!="undefined"?(s=t.tracesSampleRate,e.setMetadata({sampleRate:Number(s)})):(s=1,e.setMetadata({sampleRate:s})),sR(s)?s?(e.sampled=Math.random()<s,e.sampled?(ht&&V.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):(ht&&V.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),e)):(ht&&V.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(ht&&V.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function sR(e){return M0(e)||!(typeof e=="number"||typeof e=="boolean")?(ht&&V.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(ht&&V.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function iR(){const t=this.getScope().getSpan();return t?{"sentry-trace":t.toTraceparent()}:{}}function rR(e,t){const n=this.getClient(),s=n&&n.getOptions()||{},i=s.instrumenter||"sentry",r=e.instrumenter||"sentry";i!==r&&(ht&&V.error(`A transaction was started with instrumenter=\`${r}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let o=new nw(e,this);return o=iw(o,s,{parentSampled:e.parentSampled,transactionContext:e,...t}),o.sampled&&o.initSpanRecorder(s._experiments&&s._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function c_(e,t,n,s,i,r,o){const a=e.getClient(),c=a&&a.getOptions()||{};let l=new WD(t,e,n,s,o,i);return l=iw(l,c,{parentSampled:t.parentSampled,transactionContext:t,...r}),l.sampled&&l.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",l),l}function oR(){const e=Pa();!e.__SENTRY__||(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=rR),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=iR),HD())}function aR(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function cR(e,t,n,s){const i=bp(n),r={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!s&&t&&{dsn:bu(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return no(r,[o])}function lR(e,t,n,s){const i=bp(n),r=e.type&&e.type!=="replay_event"?e.type:"event";aR(e,n&&n.sdk);const o=K0(e,i,s,t);return delete e.sdkProcessingMetadata,no(o,[[{type:r},e]])}const uR="7";function hR(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function dR(e){return`${hR(e)}${e.projectId}/envelope/`}function fR(e,t){return FI({sentry_key:e.publicKey,sentry_version:uR,...t&&{sentry_client:`${t.name}/${t.version}`}})}function pR(e,t={}){const n=typeof t=="string"?t:t.tunnel,s=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${dR(e)}?${fR(e,s)}`}const l_=[];function gR(e){const t={};return e.forEach(n=>{const{name:s}=n,i=t[s];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[s]=n)}),Object.keys(t).map(n=>t[n])}function mR(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let s;Array.isArray(n)?s=[...t,...n]:typeof n=="function"?s=pp(n(t)):s=t;const i=gR(s),r=yR(i,o=>o.name==="Debug");if(r!==-1){const[o]=i.splice(r,1);i.push(o)}return i}function _R(e,t){const n={};return t.forEach(s=>{s&&rw(e,s,n)}),n}function rw(e,t,n){if(n[t.name]=t,l_.indexOf(t.name)===-1&&(t.setupOnce(J0,Ht),l_.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const s=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,r)=>s(i,r,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const s=t.processEvent.bind(t),i=Object.assign((r,o)=>s(r,o,e),{id:t.name});e.addEventProcessor(i)}ht&&V.log(`Integration installed: ${t.name}`)}function yR(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}const u_="Not capturing exception because it's already been captured.";class bR{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=NI(t.dsn):ht&&V.warn("No DSN provided, client will not send events."),this._dsn){const n=pR(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,s){if(Ym(t)){ht&&V.log(u_);return}let i=n&&n.event_id;return this._process(this.eventFromException(t,n).then(r=>this._captureEvent(r,n,s)).then(r=>{i=r})),i}captureMessage(t,n,s,i){let r=s&&s.event_id;const o=hp(t)?this.eventFromMessage(String(t),n,s):this.eventFromException(t,s);return this._process(o.then(a=>this._captureEvent(a,s,i)).then(a=>{r=a})),r}captureEvent(t,n,s){if(n&&n.originalException&&Ym(n.originalException)){ht&&V.log(u_);return}let i=n&&n.event_id;return this._process(this._captureEvent(t,n,s).then(r=>{i=r})),i}captureSession(t){typeof t.release!="string"?ht&&V.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Pr(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?this._isClientDoneProcessing(t).then(s=>n.flush(t).then(i=>s&&i)):Yi(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=_R(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return ht&&V.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){rw(this,t,this._integrations)}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let s=lR(t,this._dsn,this._options._metadata,this._options.tunnel);for(const r of n.attachments||[])s=xD(s,ID(r,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(s);i&&i.then(r=>this.emit("afterSendEvent",t,r),null)}sendSession(t){const n=cR(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,s){if(this._options.sendClientReports){const i=`${t}:${n}`;ht&&V.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(s=>s(...n))}_updateSessionFromEvent(t,n){let s=!1,i=!1;const r=n.exception&&n.exception.values;if(r){i=!0;for(const c of r){const l=c.mechanism;if(l&&l.handled===!1){s=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&s)&&(Pr(t,{...s&&{status:"crashed"},errors:t.errors||Number(i||s)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ze(n=>{let s=0;const i=1,r=setInterval(()=>{this._numProcessing==0?(clearInterval(r),n(!0)):(s+=i,t&&s>=t&&(clearInterval(r),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,s){const i=this.getOptions(),r=Object.keys(this._integrations);return!n.integrations&&r.length>0&&(n.integrations=r),this.emit("preprocessEvent",t,n),sw(i,t,n,s,this).then(o=>{if(o===null)return o;const{propagationContext:a}=o.sdkProcessingMetadata||{};if(!(o.contexts&&o.contexts.trace)&&a){const{traceId:l,spanId:u,parentSpanId:h,dsc:d}=a;o.contexts={trace:{trace_id:l,span_id:u,parent_span_id:h},...o.contexts};const f=d||Su(l,this,s);o.sdkProcessingMetadata={dynamicSamplingContext:f,...o.sdkProcessingMetadata}}return o})}_captureEvent(t,n={},s){return this._processEvent(t,n,s).then(i=>i.event_id,i=>{if(ht){const r=i;r.logLevel==="log"?V.log(r.message):V.warn(r)}})}_processEvent(t,n,s){const i=this.getOptions(),{sampleRate:r}=i,o=aw(t),a=ow(t),c=t.type||"error",l=`before send for type \`${c}\``;if(a&&typeof r=="number"&&Math.random()>r)return this.recordDroppedEvent("sample_rate","error",t),_p(new Pn(`Discarding event because it's not included in the random sample (sampling rate = ${r})`,"log"));const u=c==="replay_event"?"replay":c;return this._prepareEvent(t,n,s).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",u,t),new Pn("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;const f=wR(i,h,n);return vR(f,l)}).then(h=>{if(h===null)throw this.recordDroppedEvent("before_send",u,t),new Pn(`${l} returned \`null\`, will not send event.`,"log");const d=s&&s.getSession();!o&&d&&this._updateSessionFromEvent(d,h);const f=h.transaction_info;if(o&&f&&h.transaction!==t.transaction){const m="custom";h.transaction_info={...f,source:m}}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof Pn?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new Pn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{ht&&V.error("Error while sending event:",n)});ht&&V.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:t[n]}})}}function vR(e,t){const n=`${t} must return \`null\` or a valid event.`;if(dp(e))return e.then(s=>{if(!Or(s)&&s!==null)throw new Pn(n);return s},s=>{throw new Pn(`${t} rejected with ${s}`)});if(!Or(e)&&e!==null)throw new Pn(n);return e}function wR(e,t,n){const{beforeSend:s,beforeSendTransaction:i}=e;return ow(t)&&s?s(t,n):aw(t)&&i?i(t,n):t}function ow(e){return e.type===void 0}function aw(e){return e.type==="transaction"}function SR(e,t){t.debug===!0&&(ht?V.enable():Wn(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}));const n=Ht();n.getScope().update(t.initialScope);const i=new e(t);n.bindClient(i)}const ER=30;function cw(e,t,n=fD(e.bufferSize||ER)){let s={};const i=o=>n.drain(o);function r(o){const a=[];if(n_(o,(h,d)=>{const f=s_(d);if(Y0(s,f)){const m=h_(h,d);e.recordDroppedEvent("ratelimit_backoff",f,m)}else a.push(h)}),a.length===0)return Yi();const c=no(o[0],a),l=h=>{n_(c,(d,f)=>{const m=h_(d,f);e.recordDroppedEvent(h,s_(f),m)})},u=()=>t({body:kD(c,e.textEncoder)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&ht&&V.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),s=X0(s,h),h),h=>{throw l("network_error"),h});return n.add(u).then(h=>h,h=>{if(h instanceof Pn)return ht&&V.error("Skipped sending event because buffer is full."),l("queue_overflow"),Yi();throw h})}return r.__sentry__baseTransport__=!0,{send:r,flush:i}}function h_(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const yl="7.84.0";let d_;class Tu{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=Tu.id}setupOnce(){d_=Function.prototype.toString;try{Function.prototype.toString=function(...t){const n=fp(this)||this;return d_.apply(n,t)}}catch{}}}Tu.__initStatic();const TR=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],xR=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class xu{static __initStatic(){this.id="InboundFilters"}constructor(t={}){this.name=xu.id,this._options=t}setupOnce(t,n){}processEvent(t,n,s){const i=s.getOptions(),r=kR(this._options,i);return CR(t,r)?null:t}}xu.__initStatic();function kR(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:TR],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:xR],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function CR(e,t){return t.ignoreInternal&&OR(e)?(ht&&V.warn(`Event dropped due to being internal Sentry Error.
Event: ${$s(e)}`),!0):IR(e,t.ignoreErrors)?(ht&&V.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$s(e)}`),!0):DR(e,t.ignoreTransactions)?(ht&&V.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$s(e)}`),!0):RR(e,t.denyUrls)?(ht&&V.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$s(e)}.
Url: ${bl(e)}`),!0):MR(e,t.allowUrls)?!1:(ht&&V.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$s(e)}.
Url: ${bl(e)}`),!0)}function IR(e,t){return e.type||!t||!t.length?!1:AR(e).some(n=>to(n,t))}function DR(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?to(n,t):!1}function RR(e,t){if(!t||!t.length)return!1;const n=bl(e);return n?to(n,t):!1}function MR(e,t){if(!t||!t.length)return!0;const n=bl(e);return n?to(n,t):!0}function AR(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),ht&&t.length===0&&V.error(`Could not extract message for event ${$s(e)}`),t}function OR(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function PR(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function bl(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?PR(t):null}catch{return ht&&V.error(`Cannot extract url for event ${$s(e)}`),null}}function LR(e,t){const n=t.getClient(),s=n&&n.getDsn(),i=n&&n.getOptions().tunnel;return FR(e,s)||NR(e,i)}function NR(e,t){return t?f_(e)===f_(t):!1}function FR(e,t){return t?e.includes(t.host):!1}function f_(e){return e[e.length-1]==="/"?e.slice(0,-1):e}const Nt=At;let Vd=0;function lw(){return Vd>0}function $R(){Vd++,setTimeout(()=>{Vd--})}function Lr(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(fp(e))return e}catch{return e}const s=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const r=i.map(o=>Lr(o,t));return e.apply(this,r)}catch(r){throw $R(),nR(o=>{o.addEventProcessor(a=>(t.mechanism&&(Rd(a,void 0,void 0),oa(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),hn(r)}),r}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}catch{}L0(s,e),ra(e,"__sentry_wrapped__",s);try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get(){return e.name}})}catch{}return s}const cs=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;function uw(e,t){const n=Ep(e,t),s={type:t&&t.name,value:jR(t)};return n.length&&(s.stacktrace={frames:n}),s.type===void 0&&s.value===""&&(s.value="Unrecoverable error caught"),s}function BR(e,t,n,s){const r=Ht().getClient(),o=r&&r.getOptions().normalizeDepth,a={exception:{values:[{type:_u(t)?t.constructor.name:s?"UnhandledRejection":"Error",value:WR(t,{isUnhandledRejection:s})}]},extra:{__serialized__:W0(t,o)}};if(n){const c=Ep(e,n);c.length&&(a.exception.values[0].stacktrace={frames:c})}return a}function kh(e,t){return{exception:{values:[uw(e,t)]}}}function Ep(e,t){const n=t.stacktrace||t.stack||"",s=HR(t);try{return e(n,s)}catch{}return[]}const UR=/Minified React error #\d+;/i;function HR(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(UR.test(e.message))return 1}return 0}function jR(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function VR(e,t,n,s){const i=n&&n.syntheticException||void 0,r=Tp(e,t,i,s);return oa(r),r.level="error",n&&n.event_id&&(r.event_id=n.event_id),Yi(r)}function zR(e,t,n="info",s,i){const r=s&&s.syntheticException||void 0,o=zd(e,t,r,i);return o.level=n,s&&s.event_id&&(o.event_id=s.event_id),Yi(o)}function Tp(e,t,n,s,i){let r;if(up(t)&&t.error)return kh(e,t.error);if(Um(t)||bI(t)){const o=t;if("stack"in t)r=kh(e,t);else{const a=o.name||(Um(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;r=zd(e,c,n,s),Rd(r,c)}return"code"in o&&(r.tags={...r.tags,"DOMException.code":`${o.code}`}),r}return R0(t)?kh(e,t):Or(t)||_u(t)?(r=BR(e,t,n,i),oa(r,{synthetic:!0}),r):(r=zd(e,t,n,s),Rd(r,`${t}`,void 0),oa(r,{synthetic:!0}),r)}function zd(e,t,n,s){const i={message:t};if(s&&n){const r=Ep(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}return i}function WR(e,{isUnhandledRejection:t}){const n=$I(e),s=t?"promise rejection":"exception";return up(e)?`Event \`ErrorEvent\` captured as ${s} with message \`${e.message}\``:_u(e)?`Event \`${qR(e)}\` (type=${e.type}) captured as ${s}`:`Object captured as ${s} with keys: ${n}`}function qR(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function GR(e,{metadata:t,tunnel:n,dsn:s}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!s&&{dsn:bu(s)}},r=KR(e);return no(i,[r])}function KR(e){return[{type:"user_report"},e]}class YR extends bR{constructor(t){const n=Nt.SENTRY_SDK_SOURCE||rD();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:yl}],version:yl},super(t),t.sendClientReports&&Nt.document&&Nt.document.addEventListener("visibilitychange",()=>{Nt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return VR(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",s){return zR(this._options.stackParser,t,n,s,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){cs&&V.warn("SDK not enabled, will not capture user feedback.");return}const n=GR(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,s)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){cs&&V.log("No outcomes to send");return}if(!this._dsn){cs&&V.log("No dsn provided, will not send outcomes");return}cs&&V.log("Sending outcomes:",t);const n=RD(t,this._options.tunnel&&bu(this._dsn));this._sendEnvelope(n)}}let So;function XR(){if(So)return So;if(Pd(Nt.fetch))return So=Nt.fetch.bind(Nt);const e=Nt.document;let t=Nt.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const s=n.contentWindow;s&&s.fetch&&(t=s.fetch),e.head.removeChild(n)}catch(n){cs&&V.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return So=t.bind(Nt)}function JR(){So=void 0}function QR(e,t=XR()){let n=0,s=0;function i(r){const o=r.body.length;n+=o,s++;const a={body:r.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&s<15,...e.fetchOptions};try{return t(e.url,a).then(c=>(n-=o,s--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return JR(),n-=o,s--,_p(c)}}return cw(e,i)}const ZR=4;function tM(e){function t(n){return new Ze((s,i)=>{const r=new XMLHttpRequest;r.onerror=i,r.onreadystatechange=()=>{r.readyState===ZR&&s({statusCode:r.status,headers:{"x-sentry-rate-limits":r.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":r.getResponseHeader("Retry-After")}})},r.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&r.setRequestHeader(o,e.headers[o]);r.send(n.body)})}return cw(e,t)}const ku="?",eM=30,nM=40,sM=50;function xp(e,t,n,s){const i={filename:e,function:t,in_app:!0};return n!==void 0&&(i.lineno=n),s!==void 0&&(i.colno=s),i}const iM=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,rM=/\((\S*)(?::(\d+))(?::(\d+))\)/,oM=e=>{const t=iM.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const r=rM.exec(t[2]);r&&(t[2]=r[1],t[3]=r[2],t[4]=r[3])}const[s,i]=hw(t[1]||ku,t[2]);return xp(i,s,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},aM=[eM,oM],cM=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,lM=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,uM=e=>{const t=cM.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const r=lM.exec(t[3]);r&&(t[1]=t[1]||"eval",t[3]=r[1],t[4]=r[2],t[5]="")}let s=t[3],i=t[1]||ku;return[i,s]=hw(i,s),xp(s,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},hM=[sM,uM],dM=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,fM=e=>{const t=dM.exec(e);return t?xp(t[2],t[1]||ku,+t[3],t[4]?+t[4]:void 0):void 0},pM=[nM,fM],gM=[aM,hM,pM],mM=$0(...gM),hw=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,s=e.indexOf("safari-web-extension")!==-1;return n||s?[e.indexOf("@")!==-1?e.split("@")[0]:ku,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};class so{static __initStatic(){this.id="GlobalHandlers"}constructor(t){this.name=so.id,this._options={onerror:!0,onunhandledrejection:!0,...t},this._installFunc={onerror:_M,onunhandledrejection:yM}}setupOnce(){Error.stackTraceLimit=50;const t=this._options;for(const n in t){const s=this._installFunc[n];s&&t[n]&&(SM(n),s(),this._installFunc[n]=void 0)}}}so.__initStatic();function _M(){j0(e=>{const[t,n,s]=fw();if(!t.getIntegration(so))return;const{msg:i,url:r,line:o,column:a,error:c}=e;if(lw())return;const l=c===void 0&&Fn(i)?wM(i,r,o,a):dw(Tp(n,c||i,void 0,s,!1),r,o,a);l.level="error",t.captureEvent(l,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function yM(){V0(e=>{const[t,n,s]=fw();if(!t.getIntegration(so))return;if(lw())return!0;const i=bM(e),r=hp(i)?vM(i):Tp(n,i,void 0,s,!0);r.level="error",t.captureEvent(r,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function bM(e){if(hp(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function vM(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function wM(e,t,n,s){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let r=up(e)?e.message:e,o="Error";const a=r.match(i);return a&&(o=a[1],r=a[2]),dw({exception:{values:[{type:o,value:r}]}},t,n,s)}function dw(e,t,n,s){const i=e.exception=e.exception||{},r=i.values=i.values||[],o=r[0]=r[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],l=isNaN(parseInt(s,10))?void 0:s,u=isNaN(parseInt(n,10))?void 0:n,h=Fn(t)&&t.length>0?t:II();return c.length===0&&c.push({colno:l,filename:h,function:"?",in_app:!0,lineno:u}),e}function SM(e){cs&&V.log(`Global Handler attached: ${e}`)}function fw(){const e=Ht(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}const EM=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Cu{static __initStatic(){this.id="TryCatch"}constructor(t){this.name=Cu.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&ve(Nt,"setTimeout",p_),this._options.setInterval&&ve(Nt,"setInterval",p_),this._options.requestAnimationFrame&&ve(Nt,"requestAnimationFrame",TM),this._options.XMLHttpRequest&&"XMLHttpRequest"in Nt&&ve(XMLHttpRequest.prototype,"send",xM);const t=this._options.eventTarget;t&&(Array.isArray(t)?t:EM).forEach(kM)}}Cu.__initStatic();function p_(e){return function(...t){const n=t[0];return t[0]=Lr(n,{mechanism:{data:{function:ws(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function TM(e){return function(t){return e.apply(this,[Lr(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ws(e)},handled:!1,type:"instrument"}})])}}function xM(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&ve(n,i,function(r){const o={mechanism:{data:{function:i,handler:ws(r)},handled:!1,type:"instrument"}},a=fp(r);return a&&(o.mechanism.data.handler=ws(a)),Lr(r,o)})}),e.apply(this,t)}}function kM(e){const t=Nt,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ve(n,"addEventListener",function(s){return function(i,r,o){try{typeof r.handleEvent=="function"&&(r.handleEvent=Lr(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ws(r),target:e},handled:!1,type:"instrument"}}))}catch{}return s.apply(this,[i,Lr(r,{mechanism:{data:{function:"addEventListener",handler:ws(r),target:e},handled:!1,type:"instrument"}}),o])}}),ve(n,"removeEventListener",function(s){return function(i,r,o){const a=r;try{const c=a&&a.__sentry_wrapped__;c&&s.call(this,i,c,o)}catch{}return s.call(this,i,a,o)}}))}const CM="cause",IM=5;class Iu{static __initStatic(){this.id="LinkedErrors"}constructor(t={}){this.name=Iu.id,this._key=t.key||CM,this._limit=t.limit||IM}setupOnce(){}preprocessEvent(t,n,s){const i=s.getOptions();TI(uw,i.stackParser,i.maxValueLength,this._key,this._limit,t,n)}}Iu.__initStatic();class Du{static __initStatic(){this.id="HttpContext"}constructor(){this.name=Du.id}setupOnce(){}preprocessEvent(t){if(!Nt.navigator&&!Nt.location&&!Nt.document)return;const n=t.request&&t.request.url||Nt.location&&Nt.location.href,{referrer:s}=Nt.document||{},{userAgent:i}=Nt.navigator||{},r={...t.request&&t.request.headers,...s&&{Referer:s},...i&&{"User-Agent":i}},o={...t.request,...n&&{url:n},headers:r};t.request=o}}Du.__initStatic();class Ru{static __initStatic(){this.id="Dedupe"}constructor(){this.name=Ru.id}setupOnce(t,n){}processEvent(t){if(t.type)return t;try{if(DM(t,this._previousEvent))return cs&&V.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return this._previousEvent=t}}Ru.__initStatic();function DM(e,t){return t?!!(RM(e,t)||MM(e,t)):!1}function RM(e,t){const n=e.message,s=t.message;return!(!n&&!s||n&&!s||!n&&s||n!==s||!gw(e,t)||!pw(e,t))}function MM(e,t){const n=g_(t),s=g_(e);return!(!n||!s||n.type!==s.type||n.value!==s.value||!gw(e,t)||!pw(e,t))}function pw(e,t){let n=m_(e),s=m_(t);if(!n&&!s)return!0;if(n&&!s||!n&&s||(n=n,s=s,s.length!==n.length))return!1;for(let i=0;i<s.length;i++){const r=s[i],o=n[i];if(r.filename!==o.filename||r.lineno!==o.lineno||r.colno!==o.colno||r.function!==o.function)return!1}return!0}function gw(e,t){let n=e.fingerprint,s=t.fingerprint;if(!n&&!s)return!0;if(n&&!s||!n&&s)return!1;n=n,s=s;try{return n.join("")===s.join("")}catch{return!1}}function g_(e){return e.exception&&e.exception.values&&e.exception.values[0]}function m_(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const mc=1024;class Mu{static __initStatic(){this.id="Breadcrumbs"}constructor(t){this.name=Mu.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){if(this.options.console&&HI(PM),this.options.dom&&U0(OM(this.options.dom)),this.options.xhr&&mp(LM),this.options.fetch&&gp(NM),this.options.history&&vu(FM),this.options.sentry){const t=hi();t&&t.on&&t.on("beforeSendEvent",AM)}}}Mu.__initStatic();function AM(e){Ht().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:$s(e)},{event:e})}function OM(e){function t(n){let s,i=typeof e=="object"?e.serializeAttribute:void 0,r=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;r&&r>mc&&(cs&&V.warn(`\`dom.maxStringLength\` cannot exceed ${mc}, but a value of ${r} was configured. Sentry will use ${mc} instead.`),r=mc),typeof i=="string"&&(i=[i]);try{const o=n.event;s=$M(o)?oi(o.target,{keyAttrs:i,maxStringLength:r}):oi(o,{keyAttrs:i,maxStringLength:r})}catch{s="<unknown>"}s.length!==0&&Ht().addBreadcrumb({category:`ui.${n.name}`,message:s},{event:n.event,name:n.name,global:n.global})}return t}function PM(e){const t={category:"console",data:{arguments:e.args,logger:"console"},level:gD(e.level),message:Hm(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)t.message=`Assertion failed: ${Hm(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);else return;Ht().addBreadcrumb(t,{input:e.args,level:e.level})}function LM(e){const{startTimestamp:t,endTimestamp:n}=e,s=e.xhr[js];if(!t||!n||!s)return;const{method:i,url:r,status_code:o,body:a}=s,c={method:i,url:r,status_code:o},l={xhr:e.xhr,input:a,startTimestamp:t,endTimestamp:n};Ht().addBreadcrumb({category:"xhr",data:c,type:"http"},l)}function NM(e){const{startTimestamp:t,endTimestamp:n}=e;if(!!n&&!(e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"))if(e.error){const s=e.fetchData,i={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};Ht().addBreadcrumb({category:"fetch",data:s,level:"error",type:"http"},i)}else{const s=e.response,i={...e.fetchData,status_code:s&&s.status},r={input:e.args,response:s,startTimestamp:t,endTimestamp:n};Ht().addBreadcrumb({category:"fetch",data:i,type:"http"},r)}}function FM(e){let t=e.from,n=e.to;const s=Th(Nt.location.href);let i=t?Th(t):void 0;const r=Th(n);(!i||!i.path)&&(i=s),s.protocol===r.protocol&&s.host===r.host&&(n=r.relative),s.protocol===i.protocol&&s.host===i.host&&(t=i.relative),Ht().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}function $M(e){return!!e&&!!e.target}const mw=[new xu,new Tu,new Cu,new Mu,new so,new Iu,new Ru,new Du];function BM(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=mw),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),Nt.SENTRY_RELEASE&&Nt.SENTRY_RELEASE.id&&(e.release=Nt.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:BI(e.stackParser||mM),integrations:mR(e),transport:e.transport||(H0()?QR:tM)};SR(YR,t),e.autoSessionTracking&&UM()}function __(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function UM(){if(typeof Nt.document=="undefined"){cs&&V.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const e=Ht();!e.captureSession||(__(e),vu(({from:t,to:n})=>{t!==void 0&&t!==n&&__(Ht())}))}const ee=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,jt=At;function HM(){jt&&jt.document?jt.document.addEventListener("visibilitychange",()=>{const e=La();if(jt.document.hidden&&e){const t="cancelled";ee&&V.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}}):ee&&V.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const kp=(e,t,n)=>{let s,i;return r=>{t.value>=0&&(r||n)&&(i=t.value-(s||0),(i||s===void 0)&&(s=t.value,t.delta=i,e(t)))}},jM=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,VM=()=>{const e=jt.performance.timing,t=jt.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const s in e)s!=="navigationStart"&&s!=="toJSON"&&(n[s]=Math.max(e[s]-e.navigationStart,0));return n},_w=()=>jt.__WEB_VITALS_POLYFILL__?jt.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||VM()):jt.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],yw=()=>{const e=_w();return e&&e.activationStart||0},Cp=(e,t)=>{const n=_w();let s="navigate";return n&&(jt.document.prerendering||yw()>0?s="prerender":s=n.type.replace(/_/g,"-")),{name:e,value:typeof t=="undefined"?-1:t,rating:"good",delta:0,entries:[],id:jM(),navigationType:s}},Au=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const s=new PerformanceObserver(i=>{t(i.getEntries())});return s.observe(Object.assign({type:e,buffered:!0},n||{})),s}}catch{}},Ou=(e,t)=>{const n=s=>{(s.type==="pagehide"||jt.document.visibilityState==="hidden")&&(e(s),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},zM=e=>{const t=Cp("CLS",0);let n,s=0,i=[];const r=a=>{a.forEach(c=>{if(!c.hadRecentInput){const l=i[0],u=i[i.length-1];s&&i.length!==0&&c.startTime-u.startTime<1e3&&c.startTime-l.startTime<5e3?(s+=c.value,i.push(c)):(s=c.value,i=[c]),s>t.value&&(t.value=s,t.entries=i,n&&n())}})},o=Au("layout-shift",r);if(o){n=kp(e,t);const a=()=>{r(o.takeRecords()),n(!0)};return Ou(a),a}};let Yc=-1;const WM=()=>jt.document.visibilityState==="hidden"&&!jt.document.prerendering?0:1/0,qM=()=>{Ou(({timeStamp:e})=>{Yc=e},!0)},Ip=()=>(Yc<0&&(Yc=WM(),qM()),{get firstHiddenTime(){return Yc}}),GM=e=>{const t=Ip(),n=Cp("FID");let s;const i=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),s(!0))},r=a=>{a.forEach(i)},o=Au("first-input",r);s=kp(e,n),o&&Ou(()=>{r(o.takeRecords()),o.disconnect()},!0)},y_={},KM=e=>{const t=Ip(),n=Cp("LCP");let s;const i=o=>{const a=o[o.length-1];if(a){const c=Math.max(a.startTime-yw(),0);c<t.firstHiddenTime&&(n.value=c,n.entries=[a],s())}},r=Au("largest-contentful-paint",i);if(r){s=kp(e,n);const o=()=>{y_[n.id]||(i(r.takeRecords()),r.disconnect(),y_[n.id]=!0,s(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,o,{once:!0,capture:!0})}),Ou(o,!0),o}},Fo={},vl={};let bw,vw,ww;function YM(e){return Dp("cls",e,JM,bw)}function Sw(e){return Dp("lcp",e,ZM,ww)}function XM(e){return Dp("fid",e,QM,vw)}function Pu(e,t){return Ew(e,t),vl[e]||(tA(e),vl[e]=!0),Tw(e,t)}function Lu(e,t){const n=Fo[e];if(!(!n||!n.length))for(const s of n)try{s(t)}catch(i){ee&&V.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ws(s)}
Error:`,i)}}function JM(){zM(e=>{Lu("cls",{metric:e}),bw=e})}function QM(){GM(e=>{Lu("fid",{metric:e}),vw=e})}function ZM(){KM(e=>{Lu("lcp",{metric:e}),ww=e})}function Dp(e,t,n,s){return Ew(e,t),vl[e]||(n(),vl[e]=!0),s&&t({metric:s}),Tw(e,t)}function tA(e){const t={};e==="event"&&(t.durationThreshold=0),Au(e,n=>{Lu(e,{entries:n})},t)}function Ew(e,t){Fo[e]=Fo[e]||[],Fo[e].push(t)}function Tw(e,t){return()=>{const n=Fo[e];if(!n)return;const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}function Ch(e){return typeof e=="number"&&isFinite(e)}function Nr(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const eA=2147483647;function ge(e){return e/1e3}function xw(){return jt&&jt.addEventListener&&jt.performance}let b_=0,ie={},In,$o;function nA(){const e=xw();if(e&&vn){e.mark&&jt.performance.mark("sentry-tracing-init");const t=aA(),n=rA(),s=oA();return()=>{t(),n(),s()}}return()=>{}}function sA(){Pu("longtask",({entries:e})=>{for(const t of e){const n=La();if(!n)return;const s=ge(vn+t.startTime),i=ge(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:s,endTimestamp:s+i})}})}function iA(){Pu("event",({entries:e})=>{for(const t of e){const n=La();if(!n)return;if(t.name==="click"){const s=ge(vn+t.startTime),i=ge(t.duration);n.startChild({description:oi(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:s,endTimestamp:s+i})}}})}function rA(){return YM(({metric:e})=>{const t=e.entries.pop();!t||(ee&&V.log("[Measurements] Adding CLS"),ie.cls={value:e.value,unit:""},$o=t)})}function oA(){return Sw(({metric:e})=>{const t=e.entries.pop();!t||(ee&&V.log("[Measurements] Adding LCP"),ie.lcp={value:e.value,unit:"millisecond"},In=t)})}function aA(){return XM(({metric:e})=>{const t=e.entries.pop();if(!t)return;const n=ge(vn),s=ge(t.startTime);ee&&V.log("[Measurements] Adding FID"),ie.fid={value:e.value,unit:"millisecond"},ie["mark.fid"]={value:n+s,unit:"second"}})}function cA(e){const t=xw();if(!t||!jt.performance.getEntries||!vn)return;ee&&V.log("[Tracing] Adding & adjusting spans using Performance API");const n=ge(vn),s=t.getEntries();let i,r;if(s.slice(b_).forEach(o=>{const a=ge(o.startTime),c=ge(o.duration);if(!(e.op==="navigation"&&n+a<e.startTimestamp))switch(o.entryType){case"navigation":{uA(e,o,n),i=n+ge(o.responseStart),r=n+ge(o.requestStart);break}case"mark":case"paint":case"measure":{lA(e,o,a,c,n);const l=Ip(),u=o.startTime<l.firstHiddenTime;o.name==="first-paint"&&u&&(ee&&V.log("[Measurements] Adding FP"),ie.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&u&&(ee&&V.log("[Measurements] Adding FCP"),ie.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{const l=o.name.replace(jt.location.origin,"");dA(e,o,l,a,c,n);break}}}),b_=Math.max(s.length-1,0),fA(e),e.op==="pageload"){typeof i=="number"&&(ee&&V.log("[Measurements] Adding TTFB"),ie.ttfb={value:(i-e.startTimestamp)*1e3,unit:"millisecond"},typeof r=="number"&&r<=i&&(ie["ttfb.requestTime"]={value:(i-r)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!ie[a]||n>=e.startTimestamp)return;const c=ie[a].value,l=n+ge(c),u=Math.abs((l-e.startTimestamp)*1e3),h=u-c;ee&&V.log(`[Measurements] Normalized ${a} from ${c} to ${u} (${h})`),ie[a].value=u});const o=ie["mark.fid"];o&&ie.fid&&(Nr(e,{description:"first input delay",endTimestamp:o.value+ge(ie.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete ie["mark.fid"]),"fcp"in ie||delete ie.cls,Object.keys(ie).forEach(a=>{e.setMeasurement(a,ie[a].value,ie[a].unit)}),pA(e)}In=void 0,$o=void 0,ie={}}function lA(e,t,n,s,i){const r=i+n,o=r+s;return Nr(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:r}),r}function uA(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(s=>{_c(e,t,s,n)}),_c(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),_c(e,t,"fetch",n,"cache","domainLookupStart"),_c(e,t,"domainLookup",n,"DNS"),hA(e,t,n)}function _c(e,t,n,s,i,r){const o=r?t[r]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Nr(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:s+ge(a),endTimestamp:s+ge(o)})}function hA(e,t,n){Nr(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+ge(t.requestStart),endTimestamp:n+ge(t.responseEnd)}),Nr(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+ge(t.responseStart),endTimestamp:n+ge(t.responseEnd)})}function dA(e,t,n,s,i,r){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o={};Ih(o,t,"transferSize","http.response_transfer_size"),Ih(o,t,"encodedBodySize","http.response_content_length"),Ih(o,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(o["resource.render_blocking_status"]=t.renderBlockingStatus);const a=r+s,c=a+i;Nr(e,{description:n,endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:a,data:o})}function fA(e){const t=jt.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Ch(n.rtt)&&(ie["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Ch(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Ch(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function pA(e){In&&(ee&&V.log("[Measurements] Adding LCP Data"),In.element&&e.setTag("lcp.element",oi(In.element)),In.id&&e.setTag("lcp.id",In.id),In.url&&e.setTag("lcp.url",In.url.trim().slice(0,200)),e.setTag("lcp.size",In.size)),$o&&$o.sources&&(ee&&V.log("[Measurements] Adding CLS Data"),$o.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,oi(t.node))))}function Ih(e,t,n,s){const i=t[n];i!=null&&i<eA&&(e[s]=i)}function gA(e,t,n,s,i="auto.http.browser"){if(!Eu()||!e.fetchData)return;const r=t(e.fetchData.url);if(e.endTimestamp&&r){const f=e.fetchData.__span;if(!f)return;const m=s[f];if(m){if(e.response){m.setHttpStatus(e.response.status);const _=e.response&&e.response.headers&&e.response.headers.get("content-length");if(_){const b=parseInt(_);b>0&&m.setData("http.response_content_length",b)}}else e.error&&m.setStatus("internal_error");m.finish(),delete s[f]}return}const o=Ht(),a=o.getScope(),c=o.getClient(),l=a.getSpan(),{method:u,url:h}=e.fetchData,d=r&&l?l.startChild({data:{url:h,type:"fetch","http.method":u},description:`${u} ${h}`,op:"http.client",origin:i}):void 0;if(d&&(e.fetchData.__span=d.spanId,s[d.spanId]=d),n(e.fetchData.url)&&c){const f=e.args[0];e.args[1]=e.args[1]||{};const m=e.args[1];m.headers=mA(f,c,a,m,d)}return d}function mA(e,t,n,s,i){const r=i||n.getSpan(),o=r&&r.transaction,{traceId:a,sampled:c,dsc:l}=n.getPropagationContext(),u=r?r.toTraceparent():yp(a,void 0,c),h=o?o.getDynamicSamplingContext():l||Su(a,t,n),d=Bd(h),f=typeof Request!="undefined"&&vs(e,Request)?e.headers:s.headers;if(f)if(typeof Headers!="undefined"&&vs(f,Headers)){const m=new Headers(f);return m.append("sentry-trace",u),d&&m.append($d,d),m}else if(Array.isArray(f)){const m=[...f,["sentry-trace",u]];return d&&m.push([$d,d]),m}else{const m="baggage"in f?f.baggage:void 0,_=[];return Array.isArray(m)?_.push(...m):m&&_.push(m),d&&_.push(d),{...f,"sentry-trace":u,baggage:_.length>0?_.join(","):void 0}}else return{"sentry-trace":u,baggage:d}}const Wd=["localhost",/^\/(?!\/)/],qd={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Wd,tracePropagationTargets:Wd};function _A(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:s,tracingOrigins:i,shouldCreateSpanForRequest:r,enableHTTPTimings:o}={traceFetch:qd.traceFetch,traceXHR:qd.traceXHR,...e},a=typeof r=="function"?r:u=>!0,c=u=>wA(u,s||i),l={};t&&gp(u=>{const h=gA(u,a,c,l);o&&h&&v_(h)}),n&&mp(u=>{const h=SA(u,a,c,l);o&&h&&v_(h)})}function yA(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function v_(e){const t=e.data.url;if(!t)return;const n=Pu("resource",({entries:s})=>{s.forEach(i=>{yA(i)&&i.name.endsWith(t)&&(vA(i).forEach(o=>e.setData(...o)),setTimeout(n))})})}function bA(e){let t="unknown",n="unknown",s="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=s==="h"?"http":s,n=e.split(s)[1];break}s+=i}return s===e&&(t=s),{name:t,version:n}}function kn(e=0){return((vn||performance.timeOrigin)+e)/1e3}function vA(e){const{name:t,version:n}=bA(e.nextHopProtocol),s=[];return s.push(["network.protocol.version",n],["network.protocol.name",t]),vn?[...s,["http.request.redirect_start",kn(e.redirectStart)],["http.request.fetch_start",kn(e.fetchStart)],["http.request.domain_lookup_start",kn(e.domainLookupStart)],["http.request.domain_lookup_end",kn(e.domainLookupEnd)],["http.request.connect_start",kn(e.connectStart)],["http.request.secure_connection_start",kn(e.secureConnectionStart)],["http.request.connection_end",kn(e.connectEnd)],["http.request.request_start",kn(e.requestStart)],["http.request.response_start",kn(e.responseStart)],["http.request.response_end",kn(e.responseEnd)]]:s}function wA(e,t){return to(e,t||Wd)}function SA(e,t,n,s){const i=e.xhr,r=i&&i[js];if(!Eu()||!i||i.__sentry_own_request__||!r)return;const o=t(r.url);if(e.endTimestamp&&o){const h=i.__sentry_xhr_span_id__;if(!h)return;const d=s[h];d&&r.status_code!==void 0&&(d.setHttpStatus(r.status_code),d.finish(),delete s[h]);return}const a=Ht(),c=a.getScope(),l=c.getSpan(),u=o&&l?l.startChild({data:{type:"xhr","http.method":r.method,url:r.url},description:`${r.method} ${r.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(u&&(i.__sentry_xhr_span_id__=u.spanId,s[i.__sentry_xhr_span_id__]=u),i.setRequestHeader&&n(r.url))if(u){const h=u&&u.transaction,d=h&&h.getDynamicSamplingContext(),f=Bd(d);w_(i,u.toTraceparent(),f)}else{const h=a.getClient(),{traceId:d,sampled:f,dsc:m}=c.getPropagationContext(),_=yp(d,void 0,f),b=m||(h?Su(d,h,c):void 0),E=Bd(b);w_(i,_,E)}return u}function w_(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader($d,n)}catch{}}function EA(e,t=!0,n=!0){if(!jt||!jt.location){ee&&V.warn("Could not initialize routing instrumentation due to invalid location");return}let s=jt.location.href,i;t&&(i=e({name:jt.location.pathname,startTimestamp:vn?vn/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&vu(({to:r,from:o})=>{if(o===void 0&&s&&s.indexOf(r)!==-1){s=void 0;return}o!==r&&(s=void 0,i&&(ee&&V.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=e({name:jt.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const TA="BrowserTracing",xA={...Kc,markBackgroundTransactions:!0,routingInstrumentation:EA,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...qd};class kA{constructor(t){this.name=TA,this._hasSetTracePropagationTargets=!1,oR(),ee&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...xA,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=nA(),this.options.enableLongTask&&sA(),this.options._experiments.enableInteractions&&iA()}setupOnce(t,n){this._getCurrentHub=n;const i=n().getClient(),r=i&&i.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:l,traceFetch:u,traceXHR:h,shouldCreateSpanForRequest:d,enableHTTPTimings:f,_experiments:m}=this.options,_=r&&r.tracePropagationTargets,b=_||this.options.tracePropagationTargets;ee&&this._hasSetTracePropagationTargets&&_&&V.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o(E=>{const x=this._createRouteTransaction(E);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(x,E,n),x},c,a),l&&HM(),m.enableInteractions&&this._registerInteractionListener(),_A({traceFetch:u,traceXHR:h,tracePropagationTargets:b,shouldCreateSpanForRequest:d,enableHTTPTimings:f})}_createRouteTransaction(t){if(!this._getCurrentHub){ee&&V.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}const n=this._getCurrentHub(),{beforeNavigate:s,idleTimeout:i,finalTimeout:r,heartbeatInterval:o}=this.options,a=t.op==="pageload",c=a?S_("sentry-trace"):"",l=a?S_("baggage"):"",{traceparentData:u,dynamicSamplingContext:h,propagationContext:d}=TD(c,l),f={...t,...u,metadata:{...t.metadata,dynamicSamplingContext:u&&!h?{}:h},trimEnd:!0},m=typeof s=="function"?s(f):f,_=m===void 0?{...f,sampled:!1}:m;_.metadata=_.name!==f.name?{..._.metadata,source:"custom"}:_.metadata,this._latestRouteName=_.name,this._latestRouteSource=_.metadata&&_.metadata.source,_.sampled===!1&&ee&&V.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),ee&&V.log(`[Tracing] Starting ${_.op} transaction on scope`);const{location:b}=jt,E=c_(n,_,i,r,!0,{location:b},o),x=n.getScope();return a&&u?x.setPropagationContext(d):x.setPropagationContext({traceId:E.traceId,spanId:E.spanId,parentSpanId:E.parentSpanId,sampled:E.sampled}),E.registerBeforeFinishCallback(k=>{this._collectWebVitals(),cA(k)}),E}_registerInteractionListener(){let t;const n=()=>{const{idleTimeout:s,finalTimeout:i,heartbeatInterval:r}=this.options,o="ui.action.click",a=La();if(a&&a.op&&["navigation","pageload"].includes(a.op)){ee&&V.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.finish(),t=void 0),!this._getCurrentHub){ee&&V.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){ee&&V.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const c=this._getCurrentHub(),{location:l}=jt,u={name:this._latestRouteName,op:o,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=c_(c,u,s,i,!0,{location:l},r)};["click"].forEach(s=>{addEventListener(s,n,{once:!1,capture:!0})})}}function S_(e){const t=DI(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}const Wt=At,Rp="sentryReplaySession",CA="replay_event",Mp="Unable to send Replay",IA=3e5,DA=9e5,RA=5e3,MA=5500,AA=6e4,OA=5e3,PA=3,E_=15e4,yc=5e3,LA=3e3,NA=300,Ap=2e7,FA=4999,$A=15e3,T_=36e5;var me;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(me||(me={}));function BA(e){return e.nodeType===e.ELEMENT_NODE}function Bo(e){const t=e==null?void 0:e.host;return Boolean((t==null?void 0:t.shadowRoot)===e)}function Uo(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function UA(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function HA(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function wl(e){try{const t=e.rules||e.cssRules;return t?UA(Array.from(t,kw).join("")):null}catch{return null}}function kw(e){let t;if(VA(e))try{t=wl(e.styleSheet)||HA(e)}catch{}else if(zA(e)&&e.selectorText.includes(":"))return jA(e.cssText);return t||e.cssText}function jA(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function VA(e){return"styleSheet"in e}function zA(e){return"selectorText"in e}class Cw{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){var n;if(!t)return-1;const s=(n=this.getMeta(t))===null||n===void 0?void 0:n.id;return s!=null?s:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(s=>this.removeNodeFromMap(s))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const s=n.id;this.idNodeMap.set(s,t),this.nodeMetaMap.set(t,n)}replace(t,n){const s=this.getNode(t);if(s){const i=this.nodeMetaMap.get(s);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function WA(){return new Cw}function Nu({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function aa({isMasked:e,element:t,value:n,maskInputFn:s}){let i=n||"";return e?(s&&(i=s(i,t)),"*".repeat(i.length)):i}function Fr(e){return e.toLowerCase()}function Gd(e){return e.toUpperCase()}const x_="__rrweb_original__";function qA(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let s=0;s<e.width;s+=n)for(let i=0;i<e.height;i+=n){const r=t.getImageData,o=x_ in r?r[x_]:r;if(new Uint32Array(o.call(t,s,i,Math.min(n,e.width-s),Math.min(n,e.height-i)).data.buffer).some(c=>c!==0))return!1}return!0}function Op(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Fr(t):null}function Sl(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}let GA=1;const KA=new RegExp("[^a-z0-9-_:]"),ca=-2;function Pp(){return GA++}function YA(e){if(e instanceof HTMLFormElement)return"form";const t=Fr(e.tagName);return KA.test(t)?"div":t}function XA(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let cr,k_;const JA=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,QA=/^(?:[a-z+]+:)?\/\//i,ZA=/^www\..*/i,tO=/^(data:)([^,]*),(.*)/i;function El(e,t){return(e||"").replace(JA,(n,s,i,r,o,a)=>{const c=i||o||a,l=s||r||"";if(!c)return n;if(QA.test(c)||ZA.test(c))return`url(${l}${c}${l})`;if(tO.test(c))return`url(${l}${c}${l})`;if(c[0]==="/")return`url(${l}${XA(t)+c}${l})`;const u=t.split("/"),h=c.split("/");u.pop();for(const d of h)d!=="."&&(d===".."?u.pop():u.push(d));return`url(${l}${u.join("/")}${l})`})}const eO=/^[^ \t\n\r\u000c]+/,nO=/^[, \t\n\r\u000c]+/;function sO(e,t){if(t.trim()==="")return t;let n=0;function s(r){let o;const a=r.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const i=[];for(;s(nO),!(n>=t.length);){let r=s(eO);if(r.slice(-1)===",")r=gr(e,r.substring(0,r.length-1)),i.push(r);else{let o="";r=gr(e,r);let a=!1;for(;;){const c=t.charAt(n);if(c===""){i.push((r+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,i.push((r+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return i.join(", ")}function gr(e,t){if(!t||t.trim()==="")return t;const n=e.createElement("a");return n.href=t,n.href}function iO(e){return Boolean(e.tagName==="svg"||e.ownerSVGElement)}function Lp(){const e=document.createElement("a");return e.href="",e.href}function Iw(e,t,n,s,i,r){return s&&(n==="src"||n==="href"&&!(t==="use"&&s[0]==="#")||n==="xlink:href"&&s[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?gr(e,s):n==="srcset"?sO(e,s):n==="style"?El(s,Lp()):t==="object"&&n==="data"?gr(e,s):typeof r=="function"?r(n,s,i):s)}function Dw(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function rO(e,t,n,s){try{if(s&&e.matches(s))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const r=e.classList[i];if(t.test(r))return!0}if(n)return e.matches(n)}catch{}return!1}function oO(e,t){for(let n=e.classList.length;n--;){const s=e.classList[n];if(t.test(s))return!0}return!1}function Fi(e,t,n=1/0,s=0){return!e||e.nodeType!==e.ELEMENT_NODE||s>n?-1:t(e)?s:Fi(e.parentNode,t,n,s+1)}function mr(e,t){return n=>{const s=n;if(s===null)return!1;if(e){if(typeof e=="string"){if(s.matches(`.${e}`))return!0}else if(oO(s,e))return!0}return!!(t&&s.matches(t))}}function $r(e,t,n,s,i,r){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;let a=-1,c=-1;if(r){if(c=Fi(o,mr(s,i)),c<0)return!0;a=Fi(o,mr(t,n),c>=0?c:1/0)}else{if(a=Fi(o,mr(t,n)),a<0)return!1;c=Fi(o,mr(s,i),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!r}catch{}return!!r}function aO(e,t,n){const s=e.contentWindow;if(!s)return;let i=!1,r;try{r=s.document.readyState}catch{return}if(r!=="complete"){const a=setTimeout(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),i=!0,t()});return}const o="about:blank";if(s.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function cO(e,t,n){let s=!1,i;try{i=e.sheet}catch{return}if(i)return;const r=setTimeout(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{clearTimeout(r),s=!0,t()})}function lO(e,t){const{doc:n,mirror:s,blockClass:i,blockSelector:r,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:d,inlineStylesheet:f,maskInputOptions:m={},maskTextFn:_,maskInputFn:b,dataURLOptions:E={},inlineImages:x,recordCanvas:k,keepIframeSrcFn:C,newlyAddedElement:R=!1}=t,A=uO(n,s);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:me.Document,childNodes:[],compatMode:e.compatMode}:{type:me.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:me.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:A};case e.ELEMENT_NODE:return dO(e,{doc:n,blockClass:i,blockSelector:r,unblockSelector:o,inlineStylesheet:f,maskAttributeFn:c,maskInputOptions:m,maskInputFn:b,dataURLOptions:E,inlineImages:x,recordCanvas:k,keepIframeSrcFn:C,newlyAddedElement:R,rootId:A,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:d});case e.TEXT_NODE:return hO(e,{maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:h,unmaskTextSelector:d,maskTextFn:_,maskInputOptions:m,maskInputFn:b,rootId:A});case e.CDATA_SECTION_NODE:return{type:me.CDATA,textContent:"",rootId:A};case e.COMMENT_NODE:return{type:me.Comment,textContent:e.textContent||"",rootId:A};default:return!1}}function uO(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function hO(e,t){var n;const{maskAllText:s,maskTextClass:i,unmaskTextClass:r,maskTextSelector:o,unmaskTextSelector:a,maskTextFn:c,maskInputOptions:l,maskInputFn:u,rootId:h}=t,d=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const m=d==="STYLE"?!0:void 0,_=d==="SCRIPT"?!0:void 0,b=d==="TEXTAREA"?!0:void 0;if(m&&f){try{e.nextSibling||e.previousSibling||!((n=e.parentNode.sheet)===null||n===void 0)&&n.cssRules&&(f=wl(e.parentNode.sheet))}catch(x){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${x}`,e)}f=El(f,Lp())}_&&(f="SCRIPT_PLACEHOLDER");const E=$r(e,i,o,r,a,s);if(!m&&!_&&!b&&f&&E&&(f=c?c(f):f.replace(/[\S]/g,"*")),b&&f&&(l.textarea||E)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){const x=Nu({type:null,tagName:d,maskInputOptions:l});f=aa({isMasked:$r(e,i,o,r,a,x),element:e,value:f,maskInputFn:u})}return{type:me.Text,textContent:f||"",isStyle:m,rootId:h}}function dO(e,t){const{doc:n,blockClass:s,blockSelector:i,unblockSelector:r,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:l,dataURLOptions:u={},inlineImages:h,recordCanvas:d,keepIframeSrcFn:f,newlyAddedElement:m=!1,rootId:_,maskAllText:b,maskTextClass:E,unmaskTextClass:x,maskTextSelector:k,unmaskTextSelector:C}=t,R=rO(e,s,i,r),A=YA(e);let D={};const M=e.attributes.length;for(let F=0;F<M;F++){const j=e.attributes[F];Dw(A,j.name,j.value)||(D[j.name]=Iw(n,A,Fr(j.name),j.value,e,c))}if(A==="link"&&o){const F=Array.from(n.styleSheets).find($=>$.href===e.href);let j=null;F&&(j=wl(F)),j&&(delete D.rel,delete D.href,D._cssText=El(j,F.href))}if(A==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const F=wl(e.sheet);F&&(D._cssText=El(F,Lp()))}if(A==="input"||A==="textarea"||A==="select"||A==="option"){const F=e,j=Op(F),$=Sl(F,Gd(A),j),J=F.checked;if(j!=="submit"&&j!=="button"&&$){const et=$r(F,E,k,x,C,Nu({type:j,tagName:Gd(A),maskInputOptions:a}));D.value=aa({isMasked:et,element:F,value:$,maskInputFn:l})}J&&(D.checked=J)}if(A==="option"&&(e.selected&&!a.select?D.selected=!0:delete D.selected),A==="canvas"&&d){if(e.__context==="2d")qA(e)||(D.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const F=e.toDataURL(u.type,u.quality),j=document.createElement("canvas");j.width=e.width,j.height=e.height;const $=j.toDataURL(u.type,u.quality);F!==$&&(D.rr_dataURL=F)}}if(A==="img"&&h){cr||(cr=n.createElement("canvas"),k_=cr.getContext("2d"));const F=e,j=F.crossOrigin;F.crossOrigin="anonymous";const $=()=>{F.removeEventListener("load",$);try{cr.width=F.naturalWidth,cr.height=F.naturalHeight,k_.drawImage(F,0,0),D.rr_dataURL=cr.toDataURL(u.type,u.quality)}catch(J){console.warn(`Cannot inline img src=${F.currentSrc}! Error: ${J}`)}j?D.crossOrigin=j:F.removeAttribute("crossorigin")};F.complete&&F.naturalWidth!==0?$():F.addEventListener("load",$)}if((A==="audio"||A==="video")&&(D.rr_mediaState=e.paused?"paused":"played",D.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(D.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(D.rr_scrollTop=e.scrollTop)),R){const{width:F,height:j}=e.getBoundingClientRect();D={class:D.class,rr_width:`${F}px`,rr_height:`${j}px`}}A==="iframe"&&!f(D.src)&&(e.contentDocument||(D.rr_src=D.src),delete D.src);let H;try{customElements.get(A)&&(H=!0)}catch{}return{type:me.Element,tagName:A,attributes:D,childNodes:[],isSVG:iO(e)||void 0,needBlock:R,rootId:_,isCustom:H}}function zt(e){return e==null?"":e.toLowerCase()}function fO(e,t){if(t.comment&&e.type===me.Comment)return!0;if(e.type===me.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(zt(e.attributes.name).match(/^msapplication-tile(image|color)$/)||zt(e.attributes.name)==="application-name"||zt(e.attributes.rel)==="icon"||zt(e.attributes.rel)==="apple-touch-icon"||zt(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&zt(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(zt(e.attributes.property).match(/^(og|twitter|fb):/)||zt(e.attributes.name).match(/^(og|twitter):/)||zt(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(zt(e.attributes.name)==="robots"||zt(e.attributes.name)==="googlebot"||zt(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(zt(e.attributes.name)==="author"||zt(e.attributes.name)==="generator"||zt(e.attributes.name)==="framework"||zt(e.attributes.name)==="publisher"||zt(e.attributes.name)==="progid"||zt(e.attributes.property).match(/^article:/)||zt(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(zt(e.attributes.name)==="google-site-verification"||zt(e.attributes.name)==="yandex-verification"||zt(e.attributes.name)==="csrf-token"||zt(e.attributes.name)==="p:domain_verify"||zt(e.attributes.name)==="verify-v1"||zt(e.attributes.name)==="verification"||zt(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function _r(e,t){const{doc:n,mirror:s,blockClass:i,blockSelector:r,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:h,skipChild:d=!1,inlineStylesheet:f=!0,maskInputOptions:m={},maskAttributeFn:_,maskTextFn:b,maskInputFn:E,slimDOMOptions:x,dataURLOptions:k={},inlineImages:C=!1,recordCanvas:R=!1,onSerialize:A,onIframeLoad:D,iframeLoadTimeout:M=5e3,onStylesheetLoad:H,stylesheetLoadTimeout:F=5e3,keepIframeSrcFn:j=()=>!1,newlyAddedElement:$=!1}=t;let{preserveWhiteSpace:J=!0}=t;const et=lO(e,{doc:n,mirror:s,blockClass:i,blockSelector:r,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:_,maskTextFn:b,maskInputFn:E,dataURLOptions:k,inlineImages:C,recordCanvas:R,keepIframeSrcFn:j,newlyAddedElement:$});if(!et)return console.warn(e,"not serialized"),null;let Q;s.hasNode(e)?Q=s.getId(e):fO(et,x)||!J&&et.type===me.Text&&!et.isStyle&&!et.textContent.replace(/^\s+|\s+$/gm,"").length?Q=ca:Q=Pp();const X=Object.assign(et,{id:Q});if(s.add(e,X),Q===ca)return null;A&&A(e);let it=!d;if(X.type===me.Element){it=it&&!X.needBlock,delete X.needBlock;const nt=e.shadowRoot;nt&&Uo(nt)&&(X.isShadowHost=!0)}if((X.type===me.Document||X.type===me.Element)&&it){x.headWhitespace&&X.type===me.Element&&X.tagName==="head"&&(J=!1);const nt={doc:n,mirror:s,blockClass:i,blockSelector:r,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:h,skipChild:d,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:_,maskTextFn:b,maskInputFn:E,slimDOMOptions:x,dataURLOptions:k,inlineImages:C,recordCanvas:R,preserveWhiteSpace:J,onSerialize:A,onIframeLoad:D,iframeLoadTimeout:M,onStylesheetLoad:H,stylesheetLoadTimeout:F,keepIframeSrcFn:j};for(const lt of Array.from(e.childNodes)){const Ft=_r(lt,nt);Ft&&X.childNodes.push(Ft)}if(BA(e)&&e.shadowRoot)for(const lt of Array.from(e.shadowRoot.childNodes)){const Ft=_r(lt,nt);Ft&&(Uo(e.shadowRoot)&&(Ft.isShadow=!0),X.childNodes.push(Ft))}}return e.parentNode&&Bo(e.parentNode)&&Uo(e.parentNode)&&(X.isShadow=!0),X.type===me.Element&&X.tagName==="iframe"&&aO(e,()=>{const nt=e.contentDocument;if(nt&&D){const lt=_r(nt,{doc:nt,mirror:s,blockClass:i,blockSelector:r,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:_,maskTextFn:b,maskInputFn:E,slimDOMOptions:x,dataURLOptions:k,inlineImages:C,recordCanvas:R,preserveWhiteSpace:J,onSerialize:A,onIframeLoad:D,iframeLoadTimeout:M,onStylesheetLoad:H,stylesheetLoadTimeout:F,keepIframeSrcFn:j});lt&&D(e,lt)}},M),X.type===me.Element&&X.tagName==="link"&&X.attributes.rel==="stylesheet"&&cO(e,()=>{if(H){const nt=_r(e,{doc:n,mirror:s,blockClass:i,blockSelector:r,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:_,maskTextFn:b,maskInputFn:E,slimDOMOptions:x,dataURLOptions:k,inlineImages:C,recordCanvas:R,preserveWhiteSpace:J,onSerialize:A,onIframeLoad:D,iframeLoadTimeout:M,onStylesheetLoad:H,stylesheetLoadTimeout:F,keepIframeSrcFn:j});nt&&H(e,nt)}},F),X}function pO(e,t){const{mirror:n=new Cw,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:r=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:l=null,unmaskTextSelector:u=null,inlineStylesheet:h=!0,inlineImages:d=!1,recordCanvas:f=!1,maskAllInputs:m=!1,maskAttributeFn:_,maskTextFn:b,maskInputFn:E,slimDOM:x=!1,dataURLOptions:k,preserveWhiteSpace:C,onSerialize:R,onIframeLoad:A,iframeLoadTimeout:D,onStylesheetLoad:M,stylesheetLoadTimeout:H,keepIframeSrcFn:F=()=>!1}=t||{};return _r(e,{doc:e,mirror:n,blockClass:s,blockSelector:i,unblockSelector:r,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:h,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:_,maskTextFn:b,maskInputFn:E,slimDOMOptions:x===!0||x==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:x==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:x===!1?{}:x,dataURLOptions:k,inlineImages:d,recordCanvas:f,preserveWhiteSpace:C,onSerialize:R,onIframeLoad:A,iframeLoadTimeout:D,onStylesheetLoad:M,stylesheetLoadTimeout:H,keepIframeSrcFn:F,newlyAddedElement:!1})}function He(e,t,n=document){const s={capture:!0,passive:!0};return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}const fr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let C_={map:{},getId(){return console.error(fr),-1},getNode(){return console.error(fr),null},removeNodeFromMap(){console.error(fr)},has(){return console.error(fr),!1},reset(){console.error(fr)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(C_=new Proxy(C_,{get(e,t,n){return t==="map"&&console.error(fr),Reflect.get(e,t,n)}}));function la(e,t,n={}){let s=null,i=0;return function(...r){const o=Date.now();!i&&n.leading===!1&&(i=o);const a=t-(o-i),c=this;a<=0||a>t?(s&&(clearTimeout(s),s=null),i=o,e.apply(c,r)):!s&&n.trailing!==!1&&(s=setTimeout(()=>{i=n.leading===!1?0:Date.now(),s=null,e.apply(c,r)},a))}}function Rw(e,t,n,s,i=window){const r=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,s?n:{set(o){setTimeout(()=>{n.set.call(this,o)},0),r&&r.set&&r.set.call(this,o)}}),()=>Rw(e,t,r||{},!0)}function Np(e,t,n){try{if(!(t in e))return()=>{};const s=e[t],i=n(s);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:s}})),e[t]=i,()=>{e[t]=s}}catch{return()=>{}}}let Tl=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Tl=()=>new Date().getTime());function Mw(e){var t,n,s,i,r,o;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(a==null?void 0:a.documentElement.scrollLeft)||((n=(t=a==null?void 0:a.body)===null||t===void 0?void 0:t.parentElement)===null||n===void 0?void 0:n.scrollLeft)||((s=a==null?void 0:a.body)===null||s===void 0?void 0:s.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(a==null?void 0:a.documentElement.scrollTop)||((r=(i=a==null?void 0:a.body)===null||i===void 0?void 0:i.parentElement)===null||r===void 0?void 0:r.scrollTop)||((o=a==null?void 0:a.body)===null||o===void 0?void 0:o.scrollTop)||0}}function Aw(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Ow(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function fn(e,t,n,s,i){if(!e)return!1;const r=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!r)return!1;const o=mr(t,n);if(!i){const l=s&&r.matches(s);return o(r)&&!l}const a=Fi(r,o);let c=-1;return a<0?!1:(s&&(c=Fi(r,mr(null,s))),a>-1&&c<0?!0:a<c)}function gO(e,t){return t.getId(e)!==-1}function Dh(e,t){return t.getId(e)===ca}function Pw(e,t){if(Bo(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Pw(e.parentNode,t):!0:!0}function Kd(e){return Boolean(e.changedTouches)}function mO(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Lw(e,t){return Boolean(e.nodeName==="IFRAME"&&t.getMeta(e))}function Nw(e,t){return Boolean(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Yd(e){return Boolean(e==null?void 0:e.shadowRoot)}class _O{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var n;return(n=this.styleIDMap.get(t))!==null&&n!==void 0?n:-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let s;return n===void 0?s=this.id++:s=n,this.styleIDMap.set(t,s),this.idStyleMap.set(s,t),s}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Fw(e){var t,n;let s=null;return((n=(t=e.getRootNode)===null||t===void 0?void 0:t.call(e))===null||n===void 0?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(s=e.getRootNode().host),s}function yO(e){let t=e,n;for(;n=Fw(t);)t=n;return t}function bO(e){const t=e.ownerDocument;if(!t)return!1;const n=yO(e);return t.contains(n)}function $w(e){const t=e.ownerDocument;return t?t.contains(e)||bO(e):!1}var St=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(St||{}),wt=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(wt||{}),Be=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Be||{}),Qn=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Qn||{});function I_(e){return"__ln"in e}class vO{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let s=0;s<t;s++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&I_(t.previousSibling)){const s=t.previousSibling.__ln.next;n.next=s,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,s&&(s.previous=n)}else if(t.nextSibling&&I_(t.nextSibling)&&t.nextSibling.__ln.previous){const s=t.nextSibling.__ln.previous;n.previous=s,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,s&&(s.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;!this.head||(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const D_=(e,t)=>`${e}@${t}`;class wO{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,s=new vO,i=c=>{let l=c,u=ca;for(;u===ca;)l=l&&l.nextSibling,u=l&&this.mirror.getId(l);return u},r=c=>{if(!c.parentNode||!$w(c))return;const l=Bo(c.parentNode)?this.mirror.getId(Fw(c)):this.mirror.getId(c.parentNode),u=i(c);if(l===-1||u===-1)return s.addNode(c);const h=_r(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:d=>{Lw(d,this.mirror)&&this.iframeManager.addIframe(d),Nw(d,this.mirror)&&this.stylesheetManager.trackLinkElement(d),Yd(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(d,f)=>{this.iframeManager.attachIframe(d,f),this.shadowDomManager.observeAttachShadow(d)},onStylesheetLoad:(d,f)=>{this.stylesheetManager.attachLinkElement(d,f)}});h&&(t.push({parentId:l,nextId:u,node:h}),n.add(h.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)R_(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||r(c);for(const c of this.addedSet)!M_(this.droppedSet,c)&&!R_(this.removes,c,this.mirror)||M_(this.movedSet,c)?r(c):this.droppedSet.add(c);let o=null;for(;s.length;){let c=null;if(o){const l=this.mirror.getId(o.value.parentNode),u=i(o.value);l!==-1&&u!==-1&&(c=o)}if(!c){let l=s.tail;for(;l;){const u=l;if(l=l.previous,u){const h=this.mirror.getId(u.value.parentNode);if(i(u.value)===-1)continue;if(h!==-1){c=u;break}else{const f=u.value;if(f.parentNode&&f.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const m=f.parentNode.host;if(this.mirror.getId(m)!==-1){c=u;break}}}}}}if(!c){for(;s.head;)s.removeNode(s.head.value);break}o=c.previous,s.removeNode(c.value),r(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:l}=c;if(typeof l.style=="string"){const u=JSON.stringify(c.styleDiff),h=JSON.stringify(c._unchangedStyles);u.length<l.style.length&&(u+h).split("var(").length===l.style.split("var(").length&&(l.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:l}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(Dh(t.target,this.mirror))return;let n;try{n=document.implementation.createHTMLDocument()}catch{n=this.doc}switch(t.type){case"characterData":{const s=t.target.textContent;!fn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&s!==t.oldValue&&this.texts.push({value:$r(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&s?this.maskTextFn?this.maskTextFn(s):s.replace(/[\S]/g,"*"):s,node:t.target});break}case"attributes":{const s=t.target;let i=t.attributeName,r=t.target.getAttribute(i);if(i==="value"){const a=Op(s),c=s.tagName;r=Sl(s,c,a);const l=Nu({maskInputOptions:this.maskInputOptions,tagName:c,type:a}),u=$r(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);r=aa({isMasked:u,element:s,value:r,maskInputFn:this.maskInputFn})}if(fn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===t.oldValue)return;let o=this.attributes.find(a=>a.node===t.target);if(s.tagName==="IFRAME"&&i==="src"&&!this.keepIframeSrcFn(r))if(!s.contentDocument)i="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o)),i==="type"&&s.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&s.setAttribute("data-rr-is-password","true"),!Dw(s.tagName,i)&&(o.attributes[i]=Iw(this.doc,Fr(s.tagName),Fr(i),r,s,this.maskAttributeFn),i==="style")){const a=n.createElement("span");t.oldValue&&a.setAttribute("style",t.oldValue);for(const c of Array.from(s.style)){const l=s.style.getPropertyValue(c),u=s.style.getPropertyPriority(c);l!==a.style.getPropertyValue(c)||u!==a.style.getPropertyPriority(c)?u===""?o.styleDiff[c]=l:o.styleDiff[c]=[l,u]:o._unchangedStyles[c]=[l,u]}for(const c of Array.from(a.style))s.style.getPropertyValue(c)===""&&(o.styleDiff[c]=!1)}break}case"childList":{if(fn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(s=>this.genAdds(s,t.target)),t.removedNodes.forEach(s=>{const i=this.mirror.getId(s),r=Bo(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);fn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Dh(s,this.mirror)||!gO(s,this.mirror)||(this.addedSet.has(s)?(Xd(this.addedSet,s),this.droppedSet.add(s)):this.addedSet.has(t.target)&&i===-1||Pw(t.target,this.mirror)||(this.movedSet.has(s)&&this.movedMap[D_(i,r)]?Xd(this.movedSet,s):this.removes.push({parentId:r,id:i,isShadow:Bo(t.target)&&Uo(t.target)?!0:void 0})),this.mapRemoves.push(s))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Dh(t,this.mirror))return;this.movedSet.add(t);let s=null;n&&this.mirror.hasNode(n)&&(s=this.mirror.getId(n)),s&&s!==-1&&(this.movedMap[D_(this.mirror.getId(t),s)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);fn(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(s=>this.genAdds(s)),Yd(t)&&t.shadowRoot.childNodes.forEach(s=>{this.processedNodeManager.add(s,this),this.genAdds(s,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Xd(e,t){e.delete(t),t.childNodes.forEach(n=>Xd(e,n))}function R_(e,t,n){return e.length===0?!1:Bw(e,t,n)}function Bw(e,t,n){const{parentNode:s}=t;if(!s)return!1;const i=n.getId(s);return e.some(r=>r.id===i)?!0:Bw(e,s,n)}function M_(e,t){return e.size===0?!1:Uw(e,t)}function Uw(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Uw(e,n):!1}let Ho;function SO(e){Ho=e}function EO(){Ho=void 0}const It=e=>Ho?(...n)=>{try{return e(...n)}catch(s){if(Ho&&Ho(s)===!0)return()=>{};throw s}}:e,yr=[];function Na(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Hw(e,t){var n,s;const i=new wO;yr.push(i),i.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const o=(s=(n=window==null?void 0:window.Zone)===null||n===void 0?void 0:n.__symbol__)===null||s===void 0?void 0:s.call(n,"MutationObserver");o&&window[o]&&(r=window[o]);const a=new r(It(c=>{e.onMutation&&e.onMutation(c)===!1||i.processMutations.bind(i)(c)}));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function TO({mousemoveCb:e,sampling:t,doc:n,mirror:s}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,r=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const c=la(It(h=>{const d=Date.now()-a;e(o.map(f=>(f.timeOffset-=d,f)),h),o=[],a=null}),r),l=It(la(It(h=>{const d=Na(h),{clientX:f,clientY:m}=Kd(h)?h.changedTouches[0]:h;a||(a=Tl()),o.push({x:f,y:m,id:s.getId(d),timeOffset:Tl()-a}),c(typeof DragEvent!="undefined"&&h instanceof DragEvent?wt.Drag:h instanceof MouseEvent?wt.MouseMove:wt.TouchMove)}),i,{trailing:!1})),u=[He("mousemove",l,n),He("touchmove",l,n),He("drag",l,n)];return It(()=>{u.forEach(h=>h())})}function xO({mouseInteractionCb:e,doc:t,mirror:n,blockClass:s,blockSelector:i,unblockSelector:r,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let l=null;const u=h=>d=>{const f=Na(d);if(fn(f,s,i,r,!0))return;let m=null,_=h;if("pointerType"in d){switch(d.pointerType){case"mouse":m=Qn.Mouse;break;case"touch":m=Qn.Touch;break;case"pen":m=Qn.Pen;break}m===Qn.Touch?Be[h]===Be.MouseDown?_="TouchStart":Be[h]===Be.MouseUp&&(_="TouchEnd"):Qn.Pen}else Kd(d)&&(m=Qn.Touch);m!==null?(l=m,(_.startsWith("Touch")&&m===Qn.Touch||_.startsWith("Mouse")&&m===Qn.Mouse)&&(m=null)):Be[h]===Be.Click&&(m=l,l=null);const b=Kd(d)?d.changedTouches[0]:d;if(!b)return;const E=n.getId(f),{clientX:x,clientY:k}=b;It(e)(Object.assign({type:Be[_],id:E,x,y:k},m!==null&&{pointerType:m}))};return Object.keys(Be).filter(h=>Number.isNaN(Number(h))&&!h.endsWith("_Departed")&&a[h]!==!1).forEach(h=>{let d=Fr(h);const f=u(h);if(window.PointerEvent)switch(Be[h]){case Be.MouseDown:case Be.MouseUp:d=d.replace("mouse","pointer");break;case Be.TouchStart:case Be.TouchEnd:return}c.push(He(d,f,t))}),It(()=>{c.forEach(h=>h())})}function jw({scrollCb:e,doc:t,mirror:n,blockClass:s,blockSelector:i,unblockSelector:r,sampling:o}){const a=It(la(It(c=>{const l=Na(c);if(!l||fn(l,s,i,r,!0))return;const u=n.getId(l);if(l===t&&t.defaultView){const h=Mw(t.defaultView);e({id:u,x:h.left,y:h.top})}else e({id:u,x:l.scrollLeft,y:l.scrollTop})}),o.scroll||100));return He("scroll",a,t)}function kO({viewportResizeCb:e},{win:t}){let n=-1,s=-1;const i=It(la(It(()=>{const r=Aw(),o=Ow();(n!==r||s!==o)&&(e({width:Number(o),height:Number(r)}),n=r,s=o)}),200));return He("resize",i,t)}const CO=["INPUT","TEXTAREA","SELECT"],A_=new WeakMap;function IO({inputCb:e,doc:t,mirror:n,blockClass:s,blockSelector:i,unblockSelector:r,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:l,sampling:u,userTriggeredOnInput:h,maskTextClass:d,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:_}){function b(D){let M=Na(D);const H=D.isTrusted,F=M&&Gd(M.tagName);if(F==="OPTION"&&(M=M.parentElement),!M||!F||CO.indexOf(F)<0||fn(M,s,i,r,!0))return;const j=M;if(j.classList.contains(o)||a&&j.matches(a))return;const $=Op(M);let J=Sl(j,F,$),et=!1;const Q=Nu({maskInputOptions:c,tagName:F,type:$}),X=$r(M,d,m,f,_,Q);($==="radio"||$==="checkbox")&&(et=M.checked),J=aa({isMasked:X,element:M,value:J,maskInputFn:l}),E(M,h?{text:J,isChecked:et,userTriggered:H}:{text:J,isChecked:et});const it=M.name;$==="radio"&&it&&et&&t.querySelectorAll(`input[type="radio"][name="${it}"]`).forEach(nt=>{if(nt!==M){const lt=aa({isMasked:X,element:nt,value:Sl(nt,F,$),maskInputFn:l});E(nt,h?{text:lt,isChecked:!et,userTriggered:!1}:{text:lt,isChecked:!et})}})}function E(D,M){const H=A_.get(D);if(!H||H.text!==M.text||H.isChecked!==M.isChecked){A_.set(D,M);const F=n.getId(D);It(e)(Object.assign(Object.assign({},M),{id:F}))}}const k=(u.input==="last"?["change"]:["input","change"]).map(D=>He(D,It(b),t)),C=t.defaultView;if(!C)return()=>{k.forEach(D=>D())};const R=C.Object.getOwnPropertyDescriptor(C.HTMLInputElement.prototype,"value"),A=[[C.HTMLInputElement.prototype,"value"],[C.HTMLInputElement.prototype,"checked"],[C.HTMLSelectElement.prototype,"value"],[C.HTMLTextAreaElement.prototype,"value"],[C.HTMLSelectElement.prototype,"selectedIndex"],[C.HTMLOptionElement.prototype,"selected"]];return R&&R.set&&k.push(...A.map(D=>Rw(D[0],D[1],{set(){It(b)({target:this,isTrusted:!1})}},!1,C))),It(()=>{k.forEach(D=>D())})}function xl(e){const t=[];function n(s,i){if(bc("CSSGroupingRule")&&s.parentRule instanceof CSSGroupingRule||bc("CSSMediaRule")&&s.parentRule instanceof CSSMediaRule||bc("CSSSupportsRule")&&s.parentRule instanceof CSSSupportsRule||bc("CSSConditionRule")&&s.parentRule instanceof CSSConditionRule){const o=Array.from(s.parentRule.cssRules).indexOf(s);i.unshift(o)}else if(s.parentStyleSheet){const o=Array.from(s.parentStyleSheet.cssRules).indexOf(s);i.unshift(o)}return i}return n(e,t)}function Ps(e,t,n){let s,i;return e?(e.ownerNode?s=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:s}):{}}function DO({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:s}){if(!s.CSSStyleSheet||!s.CSSStyleSheet.prototype)return()=>{};const i=s.CSSStyleSheet.prototype.insertRule;s.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:It((u,h,d)=>{const[f,m]=d,{id:_,styleId:b}=Ps(h,t,n.styleMirror);return(_&&_!==-1||b&&b!==-1)&&e({id:_,styleId:b,adds:[{rule:f,index:m}]}),u.apply(h,d)})});const r=s.CSSStyleSheet.prototype.deleteRule;s.CSSStyleSheet.prototype.deleteRule=new Proxy(r,{apply:It((u,h,d)=>{const[f]=d,{id:m,styleId:_}=Ps(h,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,removes:[{index:f}]}),u.apply(h,d)})});let o;s.CSSStyleSheet.prototype.replace&&(o=s.CSSStyleSheet.prototype.replace,s.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:It((u,h,d)=>{const[f]=d,{id:m,styleId:_}=Ps(h,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,replace:f}),u.apply(h,d)})}));let a;s.CSSStyleSheet.prototype.replaceSync&&(a=s.CSSStyleSheet.prototype.replaceSync,s.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:It((u,h,d)=>{const[f]=d,{id:m,styleId:_}=Ps(h,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,replaceSync:f}),u.apply(h,d)})}));const c={};vc("CSSGroupingRule")?c.CSSGroupingRule=s.CSSGroupingRule:(vc("CSSMediaRule")&&(c.CSSMediaRule=s.CSSMediaRule),vc("CSSConditionRule")&&(c.CSSConditionRule=s.CSSConditionRule),vc("CSSSupportsRule")&&(c.CSSSupportsRule=s.CSSSupportsRule));const l={};return Object.entries(c).forEach(([u,h])=>{l[u]={insertRule:h.prototype.insertRule,deleteRule:h.prototype.deleteRule},h.prototype.insertRule=new Proxy(l[u].insertRule,{apply:It((d,f,m)=>{const[_,b]=m,{id:E,styleId:x}=Ps(f.parentStyleSheet,t,n.styleMirror);return(E&&E!==-1||x&&x!==-1)&&e({id:E,styleId:x,adds:[{rule:_,index:[...xl(f),b||0]}]}),d.apply(f,m)})}),h.prototype.deleteRule=new Proxy(l[u].deleteRule,{apply:It((d,f,m)=>{const[_]=m,{id:b,styleId:E}=Ps(f.parentStyleSheet,t,n.styleMirror);return(b&&b!==-1||E&&E!==-1)&&e({id:b,styleId:E,removes:[{index:[...xl(f),_]}]}),d.apply(f,m)})})}),It(()=>{s.CSSStyleSheet.prototype.insertRule=i,s.CSSStyleSheet.prototype.deleteRule=r,o&&(s.CSSStyleSheet.prototype.replace=o),a&&(s.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([u,h])=>{h.prototype.insertRule=l[u].insertRule,h.prototype.deleteRule=l[u].deleteRule})})}function Vw({mirror:e,stylesheetManager:t},n){var s,i,r;let o=null;n.nodeName==="#document"?o=e.getId(n):o=e.getId(n.host);const a=n.nodeName==="#document"?(s=n.defaultView)===null||s===void 0?void 0:s.Document:(r=(i=n.ownerDocument)===null||i===void 0?void 0:i.defaultView)===null||r===void 0?void 0:r.ShadowRoot,c=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return o===null||o===-1||!a||!c?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get(){var l;return(l=c.get)===null||l===void 0?void 0:l.call(this)},set(l){var u;const h=(u=c.set)===null||u===void 0?void 0:u.call(this,l);if(o!==null&&o!==-1)try{t.adoptStyleSheets(l,o)}catch{}return h}}),It(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))}function RO({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:s},{win:i}){const r=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(r,{apply:It((a,c,l)=>{var u;const[h,d,f]=l;if(n.has(h))return r.apply(c,[h,d,f]);const{id:m,styleId:_}=Ps((u=c.parentRule)===null||u===void 0?void 0:u.parentStyleSheet,t,s.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,set:{property:h,value:d,priority:f},index:xl(c.parentRule)}),a.apply(c,l)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:It((a,c,l)=>{var u;const[h]=l;if(n.has(h))return o.apply(c,[h]);const{id:d,styleId:f}=Ps((u=c.parentRule)===null||u===void 0?void 0:u.parentStyleSheet,t,s.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:h},index:xl(c.parentRule)}),a.apply(c,l)})}),It(()=>{i.CSSStyleDeclaration.prototype.setProperty=r,i.CSSStyleDeclaration.prototype.removeProperty=o})}function MO({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:s,mirror:i,sampling:r,doc:o}){const a=It(l=>la(It(u=>{const h=Na(u);if(!h||fn(h,t,n,s,!0))return;const{currentTime:d,volume:f,muted:m,playbackRate:_}=h;e({type:l,id:i.getId(h),currentTime:d,volume:f,muted:m,playbackRate:_})}),r.media||500)),c=[He("play",a(0),o),He("pause",a(1),o),He("seeked",a(2),o),He("volumechange",a(3),o),He("ratechange",a(4),o)];return It(()=>{c.forEach(l=>l())})}function AO({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const s=[],i=new WeakMap,r=n.FontFace;n.FontFace=function(c,l,u){const h=new r(c,l,u);return i.set(h,{family:c,buffer:typeof l!="string",descriptors:u,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),h};const o=Np(t.fonts,"add",function(a){return function(c){return setTimeout(It(()=>{const l=i.get(c);l&&(e(l),i.delete(c))}),0),a.apply(this,[c])}});return s.push(()=>{n.FontFace=r}),s.push(o),It(()=>{s.forEach(a=>a())})}function OO(e){const{doc:t,mirror:n,blockClass:s,blockSelector:i,unblockSelector:r,selectionCb:o}=e;let a=!0;const c=It(()=>{const l=t.getSelection();if(!l||a&&(l==null?void 0:l.isCollapsed))return;a=l.isCollapsed||!1;const u=[],h=l.rangeCount||0;for(let d=0;d<h;d++){const f=l.getRangeAt(d),{startContainer:m,startOffset:_,endContainer:b,endOffset:E}=f;fn(m,s,i,r,!0)||fn(b,s,i,r,!0)||u.push({start:n.getId(m),startOffset:_,end:n.getId(b),endOffset:E})}o({ranges:u})});return c(),He("selectionchange",c)}function PO({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Np(n.customElements,"define",function(i){return function(r,o,a){try{t({define:{name:r}})}catch{}return i.apply(this,[r,o,a])}})}function LO(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const s=Hw(e,e.doc),i=TO(e),r=xO(e),o=jw(e),a=kO(e,{win:n}),c=IO(e),l=MO(e),u=DO(e,{win:n}),h=Vw(e,e.doc),d=RO(e,{win:n}),f=e.collectFonts?AO(e):()=>{},m=OO(e),_=PO(e);return It(()=>{yr.forEach(b=>b.reset()),s.disconnect(),i(),r(),o(),a(),c(),l(),u(),h(),d(),f(),m(),_()})}function bc(e){return typeof window[e]!="undefined"}function vc(e){return Boolean(typeof window[e]!="undefined"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Jd{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,s,i){const r=s||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let a=r.get(n);return a||(a=this.generateIdFn(),r.set(n,a),o.set(a,n)),a}getIds(t,n){const s=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(r=>this.getId(t,r,s,i))}getRemoteId(t,n,s){const i=s||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const r=i.get(n);return r||-1}getRemoteIds(t,n){const s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,s))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class NO{constructor(){this.crossOriginIframeMirror=new Jd(Pp),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class FO{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Jd(Pp),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Jd(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(s=this.loadListener)===null||s===void 0||s.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const r=this.transformCrossOriginEvent(i,n.data.event);r&&this.wrappedEmit(r,n.data.isCheckout)}transformCrossOriginEvent(t,n){var s;switch(n.type){case St.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const i=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,i),this.patchRootIdOnNode(n.data.node,i),{timestamp:n.timestamp,type:St.IncrementalSnapshot,data:{source:wt.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case St.Meta:case St.Load:case St.DomContentLoaded:return!1;case St.Plugin:return n;case St.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case St.IncrementalSnapshot:switch(n.data.source){case wt.Mutation:return n.data.adds.forEach(i=>{this.replaceIds(i,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,t);const r=this.crossOriginIframeRootIdMap.get(t);r&&this.patchRootIdOnNode(i.node,r)}),n.data.removes.forEach(i=>{this.replaceIds(i,t,["parentId","id"])}),n.data.attributes.forEach(i=>{this.replaceIds(i,t,["id"])}),n.data.texts.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case wt.Drag:case wt.TouchMove:case wt.MouseMove:return n.data.positions.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case wt.ViewportResize:return!1;case wt.MediaInteraction:case wt.MouseInteraction:case wt.Scroll:case wt.CanvasMutation:case wt.Input:return this.replaceIds(n.data,t,["id"]),n;case wt.StyleSheetRule:case wt.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case wt.Font:return n;case wt.Selection:return n.data.ranges.forEach(i=>{this.replaceIds(i,t,["start","end"])}),n;case wt.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(s=n.data.styles)===null||s===void 0||s.forEach(i=>{this.replaceStyleIds(i,t,["styleId"])}),n}}return!1}replace(t,n,s,i){for(const r of i)!Array.isArray(n[r])&&typeof n[r]!="number"||(Array.isArray(n[r])?n[r]=t.getIds(s,n[r]):n[r]=t.getId(s,n[r]));return n}replaceIds(t,n,s){return this.replace(this.crossOriginIframeMirror,t,n,s)}replaceStyleIds(t,n,s){return this.replace(this.crossOriginIframeStyleMirror,t,n,s)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(s=>{this.replaceIdOnNode(s,n)})}patchRootIdOnNode(t,n){t.type!==me.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(s=>{this.patchRootIdOnNode(s,n)})}}class $O{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class BO{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Uo(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const s=Hw(Object.assign(Object.assign({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>s.disconnect()),this.restoreHandlers.push(jw(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Vw({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const s=this;this.restoreHandlers.push(Np(t.prototype,"attachShadow",function(i){return function(r){const o=i.call(this,r);return this.shadowRoot&&$w(this)&&s.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class UO{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}}class HO{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new _O,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const s={id:n,styleIds:[]},i=[];for(const r of t){let o;this.styleMirror.has(r)?o=this.styleMirror.getId(r):(o=this.styleMirror.add(r),i.push({styleId:o,rules:Array.from(r.rules||CSSRule,(a,c)=>({rule:kw(a),index:c}))})),s.styleIds.push(o)}i.length>0&&(s.styles=i),this.adoptedStyleSheetCb(s)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class jO{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){const s=this.nodeMap.get(t);return s&&Array.from(s).some(i=>i!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function be(e){const t=e;return t.timestamp=Tl(),t}let kl;const Zn=WA();function Qs(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:s,blockClass:i="rr-block",blockSelector:r=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:l=!1,maskTextClass:u="rr-mask",unmaskTextClass:h=null,maskTextSelector:d=null,unmaskTextSelector:f=null,inlineStylesheet:m=!0,maskAllInputs:_,maskInputOptions:b,slimDOMOptions:E,maskAttributeFn:x,maskInputFn:k,maskTextFn:C,packFn:R,sampling:A={},dataURLOptions:D={},mousemoveWait:M,recordCanvas:H=!1,recordCrossOriginIframes:F=!1,recordAfter:j=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:$=!1,collectFonts:J=!1,inlineImages:et=!1,keepIframeSrcFn:Q=()=>!1,ignoreCSSAttributes:X=new Set([]),errorHandler:it,onMutation:nt,getCanvasManager:lt}=e;SO(it);const Ft=F?window.parent===window:!0;let Ot=!1;if(!Ft)try{window.parent.document&&(Ot=!1)}catch{Ot=!0}if(Ft&&!t)throw new Error("emit function is required");M!==void 0&&A.mousemove===void 0&&(A.mousemove=M),Zn.reset();const Pt=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:b!==void 0?b:{},se=E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:E==="all",headMetaDescKeywords:E==="all"}:E||{};mO();let ut,B=0;const G=I=>(R&&!Ot&&(I=R(I)),I),W=(I,L)=>{var P;if(((P=yr[0])===null||P===void 0?void 0:P.isFrozen())&&I.type!==St.FullSnapshot&&!(I.type===St.IncrementalSnapshot&&I.data.source===wt.Mutation)&&yr.forEach(N=>N.unfreeze()),Ft)t==null||t(G(I),L);else if(Ot){const N={type:"rrweb",event:G(I),origin:window.location.origin,isCheckout:L};window.parent.postMessage(N,"*")}if(I.type===St.FullSnapshot)ut=I,B=0;else if(I.type===St.IncrementalSnapshot){if(I.data.source===wt.Mutation&&I.data.isAttachIframe)return;B++;const N=s&&B>=s,U=n&&I.timestamp-ut.timestamp>n;(N||U)&&T(!0)}},tt=I=>{W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.Mutation},I)}))},bt=I=>W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.Scroll},I)})),O=I=>W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.CanvasMutation},I)})),y=I=>W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.AdoptedStyleSheet},I)})),p=new HO({mutationCb:tt,adoptedStyleSheetCb:y}),g=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new NO:new FO({mirror:Zn,mutationCb:tt,stylesheetManager:p,recordCrossOriginIframes:F,wrappedEmit:W}),v=new jO,w=lt?lt({recordCanvas:H,blockClass:i,blockSelector:r,unblockSelector:o,sampling:A.canvas,dataURLOptions:D}):new UO,S=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new $O:new BO({mutationCb:tt,scrollCb:bt,bypassOptions:{onMutation:nt,blockClass:i,blockSelector:r,unblockSelector:o,maskAllText:l,maskTextClass:u,unmaskTextClass:h,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:Pt,dataURLOptions:D,maskAttributeFn:x,maskTextFn:C,maskInputFn:k,recordCanvas:H,inlineImages:et,sampling:A,slimDOMOptions:se,iframeManager:g,stylesheetManager:p,canvasManager:w,keepIframeSrcFn:Q,processedNodeManager:v},mirror:Zn}),T=(I=!1)=>{W(be({type:St.Meta,data:{href:window.location.href,width:Ow(),height:Aw()}}),I),p.reset(),S.init(),yr.forEach(P=>P.lock());const L=pO(document,{mirror:Zn,blockClass:i,blockSelector:r,unblockSelector:o,maskAllText:l,maskTextClass:u,unmaskTextClass:h,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:m,maskAllInputs:Pt,maskAttributeFn:x,maskInputFn:k,maskTextFn:C,slimDOM:se,dataURLOptions:D,recordCanvas:H,inlineImages:et,onSerialize:P=>{Lw(P,Zn)&&g.addIframe(P),Nw(P,Zn)&&p.trackLinkElement(P),Yd(P)&&S.addShadowRoot(P.shadowRoot,document)},onIframeLoad:(P,N)=>{g.attachIframe(P,N),S.observeAttachShadow(P)},onStylesheetLoad:(P,N)=>{p.attachLinkElement(P,N)},keepIframeSrcFn:Q});if(!L)return console.warn("Failed to snapshot the document");W(be({type:St.FullSnapshot,data:{node:L,initialOffset:Mw(window)}}),I),yr.forEach(P=>P.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&p.adoptStyleSheets(document.adoptedStyleSheets,Zn.getId(document))};kl=T;try{const I=[],L=N=>It(LO)({onMutation:nt,mutationCb:tt,mousemoveCb:(U,K)=>W(be({type:St.IncrementalSnapshot,data:{source:K,positions:U}})),mouseInteractionCb:U=>W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.MouseInteraction},U)})),scrollCb:bt,viewportResizeCb:U=>W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.ViewportResize},U)})),inputCb:U=>W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.Input},U)})),mediaInteractionCb:U=>W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.MediaInteraction},U)})),styleSheetRuleCb:U=>W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.StyleSheetRule},U)})),styleDeclarationCb:U=>W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.StyleDeclaration},U)})),canvasMutationCb:O,fontCb:U=>W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.Font},U)})),selectionCb:U=>{W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.Selection},U)}))},customElementCb:U=>{W(be({type:St.IncrementalSnapshot,data:Object.assign({source:wt.CustomElement},U)}))},blockClass:i,ignoreClass:a,ignoreSelector:c,maskAllText:l,maskTextClass:u,unmaskTextClass:h,maskTextSelector:d,unmaskTextSelector:f,maskInputOptions:Pt,inlineStylesheet:m,sampling:A,recordCanvas:H,inlineImages:et,userTriggeredOnInput:$,collectFonts:J,doc:N,maskAttributeFn:x,maskInputFn:k,maskTextFn:C,keepIframeSrcFn:Q,blockSelector:r,unblockSelector:o,slimDOMOptions:se,dataURLOptions:D,mirror:Zn,iframeManager:g,stylesheetManager:p,shadowDomManager:S,processedNodeManager:v,canvasManager:w,ignoreCSSAttributes:X,plugins:[]},{});g.addLoadListener(N=>{try{I.push(L(N.contentDocument))}catch(U){console.warn(U)}});const P=()=>{T(),I.push(L(document))};return document.readyState==="interactive"||document.readyState==="complete"?P():(I.push(He("DOMContentLoaded",()=>{W(be({type:St.DomContentLoaded,data:{}})),j==="DOMContentLoaded"&&P()})),I.push(He("load",()=>{W(be({type:St.Load,data:{}})),j==="load"&&P()},window))),()=>{I.forEach(N=>N()),v.destroy(),kl=void 0,EO()}}catch(I){console.warn(I)}}function VO(e){if(!kl)throw new Error("please take full snapshot after start recording");kl(e)}Qs.mirror=Zn;Qs.takeFullSnapshot=VO;const zO=3,WO=5;function Fp(e){return e>9999999999?e:e*1e3}function Rh(e){return e>9999999999?e/1e3:e}function Fu(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:St.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Mn(t,10,1e3)}}),t.category==="console")))}const qO="button,a";function zw(e){return e.closest(qO)||e}function Ww(e){const t=qw(e);return!t||!(t instanceof Element)?t:zw(t)}function qw(e){return GO(e)?e.target:e}function GO(e){return typeof e=="object"&&!!e&&"target"in e}let Ls;function KO(e){return Ls||(Ls=[],YO()),Ls.push(e),()=>{const t=Ls?Ls.indexOf(e):-1;t>-1&&Ls.splice(t,1)}}function YO(){ve(Wt,"open",function(e){return function(...t){if(Ls)try{Ls.forEach(n=>n())}catch{}return e.apply(Wt,t)}})}function XO(e,t,n){e.handleClick(t,n)}class JO{constructor(t,n,s=Fu){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=s}addListeners(){const t=KO(()=>{this._lastMutation=O_()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(ZO(n,this._ignoreSelector)||!t1(t))return;const s={timestamp:Rh(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===s.node&&Math.abs(i.timestamp-s.timestamp)<1)||(this._clicks.push(s),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Rh(t)}registerScroll(t=Date.now()){this._lastScroll=Rh(t)}registerClick(t){const n=zw(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=O_();this._clicks.forEach(s=>{!s.mutationAfter&&this._lastMutation&&(s.mutationAfter=s.timestamp<=this._lastMutation?this._lastMutation-s.timestamp:void 0),!s.scrollAfter&&this._lastScroll&&(s.scrollAfter=s.timestamp<=this._lastScroll?this._lastScroll-s.timestamp:void 0),s.timestamp+this._timeout<=n&&t.push(s)});for(const s of t){const i=this._clicks.indexOf(s);i>-1&&(this._generateBreadcrumbs(s),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,s=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,r=!s&&!i,{clickCount:o,clickBreadcrumb:a}=t;if(r){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,l=c<this._timeout*1e3?"mutation":"timeout",u={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:Wt.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:l,clickCount:o||1}};this._addBreadcrumbEvent(n,u);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:Wt.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const QO=["A","BUTTON","INPUT"];function ZO(e,t){return!!(!QO.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function t1(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function O_(){return Date.now()/1e3}function e1(e,t){try{if(!n1(t))return;const{source:n}=t.data;if(n===wt.Mutation&&e.registerMutation(t.timestamp),n===wt.Scroll&&e.registerScroll(t.timestamp),s1(t)){const{type:s,id:i}=t.data,r=Qs.mirror.getNode(i);r instanceof HTMLElement&&s===Be.Click&&e.registerClick(r)}}catch{}}function n1(e){return e.type===zO}function s1(e){return e.data.source===wt.MouseInteraction}function ls(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Cl;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Cl||(Cl={}));const i1=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled"]);function r1(e){const t={};for(const n in e)if(i1.has(n)){let s=n;(n==="data-testid"||n==="data-test-id")&&(s="testId"),t[s]=e[n]}return t}const o1=e=>t=>{if(!e.isEnabled())return;const n=a1(t);if(!n)return;const s=t.name==="click",i=s?t.event:void 0;s&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&XO(e.clickDetector,n,Ww(t.event)),Fu(e,n)};function Gw(e,t){const n=Qs.mirror.getId(e),s=n&&Qs.mirror.getNode(n),i=s&&Qs.mirror.getMeta(s),r=i&&l1(i)?i:null;return{message:t,data:r?{nodeId:n,node:{id:n,tagName:r.tagName,textContent:Array.from(r.childNodes).map(o=>o.type===Cl.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:r1(r.attributes)}}:{}}}function a1(e){const{target:t,message:n}=c1(e);return ls({category:`ui.${e.name}`,...Gw(t,n)})}function c1(e){const t=e.name==="click";let n,s=null;try{s=t?Ww(e.event):qw(e.event),n=oi(s,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:s,message:n}}function l1(e){return e.type===Cl.Element}function u1(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=h1(t);!n||Fu(e,n)}function h1(e){const{metaKey:t,shiftKey:n,ctrlKey:s,altKey:i,key:r,target:o}=e;if(!o||d1(o)||!r)return null;const a=t||s||i,c=r.length===1;if(!a&&c)return null;const l=oi(o,{maxStringLength:200})||"<unknown>",u=Gw(o,l);return ls({category:"ui.keyDown",message:l,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:s,altKey:i,key:r}})}function d1(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const P_={resource:_1,paint:g1,navigation:m1};function f1(e){return e.map(p1).filter(Boolean)}function p1(e){return P_[e.entryType]?P_[e.entryType](e):null}function Br(e){return((vn||Wt.performance.timeOrigin)+e)/1e3}function g1(e){const{duration:t,entryType:n,name:s,startTime:i}=e,r=Br(i);return{type:n,name:s,start:r,end:r+t,data:void 0}}function m1(e){const{entryType:t,name:n,decodedBodySize:s,duration:i,domComplete:r,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:l,loadEventStart:u,loadEventEnd:h,redirectCount:d,startTime:f,transferSize:m,type:_}=e;return i===0?null:{type:`${t}.${_}`,start:Br(f),end:Br(r),name:n,data:{size:m,decodedBodySize:s,encodedBodySize:o,duration:i,domInteractive:l,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:u,loadEventEnd:h,domComplete:r,redirectCount:d}}}function _1(e){const{entryType:t,initiatorType:n,name:s,responseEnd:i,startTime:r,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:l}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Br(r),end:Br(i),name:s,data:{size:l,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function y1(e){const t=e.entries,n=t[t.length-1],s=n?n.element:void 0,i=e.value,r=Br(i);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:r,end:r,data:{value:i,size:i,nodeId:s?Qs.mirror.getId(s):void 0}}}function b1(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const s=[];return["navigation","paint","resource"].forEach(i=>{s.push(Pu(i,n))}),s.push(Sw(({metric:i})=>{e.replayPerformanceEntries.push(y1(i))})),()=>{s.forEach(i=>i())}}const Zt=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,v1='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function w1(){const e=new Blob([v1]);return URL.createObjectURL(e)}function Ue(e,t){!Zt||(V.info(e),t&&Kw(e))}function Tr(e,t){!Zt||(V.info(e),t&&setTimeout(()=>{Kw(e)},0))}function Kw(e){Ht().addBreadcrumb({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class $p extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Ap}.`)}}class Yw{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Ap)throw new $p;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Fp(t):null}}class S1{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:s})=>{s.success?t():n()},{once:!0}),this._worker.addEventListener("error",s=>{n(s)},{once:!0})}),this._ensureReadyPromise)}destroy(){Ue("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const s=this._getAndIncrementId();return new Promise((i,r)=>{const o=({data:a})=>{const c=a;if(c.method===t&&c.id===s){if(this._worker.removeEventListener("message",o),!c.success){Zt&&V.error("[Replay]",c.response),r(new Error("Error in compression worker"));return}i(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:s,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class E1{constructor(t){this._worker=new S1(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Fp(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const s=JSON.stringify(t);return this._totalSize+=s.length,this._totalSize>Ap?Promise.reject(new $p):this._sendEventToWorker(s)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear")}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class T1{constructor(t){this._fallback=new Yw,this._compression=new E1(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{Ue("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n}=this._fallback,s=[];for(const i of t)s.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(s)}catch(i){Zt&&V.warn("[Replay] Failed to add events when switching buffers.",i)}}}function x1({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=k1(t);if(n)return n}return Ue("[Replay] Using simple buffer"),new Yw}function k1(e){try{const t=e||C1();if(!t)return;Ue(`[Replay] Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new T1(n)}catch{Ue("[Replay] Failed to create compression worker")}}function C1(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__=="undefined"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?w1():""}function Bp(){try{return"sessionStorage"in Wt&&!!Wt.sessionStorage}catch{return!1}}function I1(e){D1(),e.session=void 0}function D1(){if(!!Bp())try{Wt.sessionStorage.removeItem(Rp)}catch{}}function Xw(e){return e===void 0?!1:Math.random()<e}function Jw(e){const t=Date.now(),n=e.id||Oe(),s=e.started||t,i=e.lastActivity||t,r=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:s,lastActivity:i,segmentId:r,sampled:o,previousSessionId:a}}function Up(e){if(!!Bp())try{Wt.sessionStorage.setItem(Rp,JSON.stringify(e))}catch{}}function R1(e,t){return Xw(e)?"session":t?"buffer":!1}function L_({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:s}={}){const i=R1(e,t),r=Jw({sampled:i,previousSessionId:s});return n&&Up(r),r}function M1(e){if(!Bp())return null;try{const t=Wt.sessionStorage.getItem(Rp);if(!t)return null;const n=JSON.parse(t);return Tr("[Replay] Loading existing session",e),Jw(n)}catch{return null}}function Qd(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Qw(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:s=Date.now()}){return Qd(e.started,t,s)||Qd(e.lastActivity,n,s)}function Zw(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Qw(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Mh({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:s},i){const r=i.stickySession&&M1(e);return r?Zw(r,{sessionIdleExpire:t,maxReplayDuration:n})?(Tr("[Replay] Session in sessionStorage is expired, creating new one..."),L_(i,{previousSessionId:r.id})):r:(Tr("[Replay] Creating new session",e),L_(i,{previousSessionId:s}))}function A1(e){return e.type===St.Custom}function Hp(e,t,n){return eS(e,t)?(tS(e,t,n),!0):!1}function O1(e,t,n){return eS(e,t)?tS(e,t,n):Promise.resolve(null)}async function tS(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const s=e.getOptions(),i=P1(t,s.beforeAddRecordingEvent);return i?await e.eventBuffer.addEvent(i):void 0}catch(s){const i=s&&s instanceof $p?"addEventSizeExceeded":"addEvent";Zt&&V.error(s),await e.stop({reason:i});const r=hi();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function eS(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Fp(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(Ue(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function P1(e,t){try{if(typeof t=="function"&&A1(e))return t(e)}catch(n){return Zt&&V.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function nS(e){return!e.type}function Zd(e){return e.type==="transaction"}function L1(e){return e.type==="replay_event"}function N_(e){return e.type==="feedback"}function sS(e){const t=$1();return(n,s)=>{if(!e.isEnabled()||!nS(n)&&!Zd(n))return;const i=s&&s.statusCode;if(!(t&&(!i||i<200||i>=300))){if(Zd(n)){N1(e,n);return}F1(e,n)}}}function N1(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function F1(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:s}=e.getOptions();typeof s=="function"&&!s(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function $1(){const e=hi();if(!e)return!1;const t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function B1(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function U1(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:St.Custom,timestamp:t.timestamp*1e3,data:{timestamp:t.timestamp,tag:"breadcrumb",payload:{category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function H1(e,t){return e.recordingMode!=="buffer"||t.message===Mp||!t.exception||t.type?!1:Xw(e.getOptions().errorSampleRate)}function j1(e,t=!1){const n=t?sS(e):void 0;return Object.assign((s,i)=>e.isEnabled()?L1(s)?(delete s.breadcrumbs,s):!nS(s)&&!Zd(s)&&!N_(s)||!e.checkAndHandleExpiredSession()?s:N_(s)?(e.flush(),s.contexts.feedback.replay_id=e.getSessionId(),U1(e,s),s):B1(s,i)&&!e.getOptions()._experiments.captureExceptions?(Zt&&V.log("[Replay] Ignoring error from rrweb internals",s),null):((H1(e,s)||e.recordingMode==="session")&&(s.tags={...s.tags,replayId:e.getSessionId()}),n&&n(s,{statusCode:200}),s):s,{id:"Replay"})}function $u(e,t){return t.map(({type:n,start:s,end:i,name:r,data:o})=>{const a=e.throttledAddEvent({type:St.Custom,timestamp:s,data:{tag:"performanceSpan",payload:{op:n,description:r,startTimestamp:s,endTimestamp:i,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function V1(e){const{from:t,to:n}=e,s=Date.now()/1e3;return{type:"navigation.push",start:s,end:s,name:n,data:{previous:t}}}function z1(e){return t=>{if(!e.isEnabled())return;const n=V1(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>($u(e,[n]),!1)))}}function W1(e,t){return Zt&&e.getOptions()._experiments.traceInternals?!1:LR(t,Ht())}function Bu(e,t){!e.isEnabled()||t!==null&&(W1(e,t.name)||e.addUpdate(()=>($u(e,[t]),!0)))}function q1(e){const{startTimestamp:t,endTimestamp:n,fetchData:s,response:i}=e;if(!n)return null;const{method:r,url:o}=s;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:o,data:{method:r,statusCode:i?i.status:void 0}}}function G1(e){return t=>{if(!e.isEnabled())return;const n=q1(t);Bu(e,n)}}function K1(e){const{startTimestamp:t,endTimestamp:n,xhr:s}=e,i=s[js];if(!t||!n||!i)return null;const{method:r,url:o,status_code:a}=i;return o===void 0?null:{type:"resource.xhr",name:o,start:t/1e3,end:n/1e3,data:{method:r,statusCode:a}}}function Y1(e){return t=>{if(!e.isEnabled())return;const n=K1(t);Bu(e,n)}}function Il(e,t){if(!!e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=oS(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function iS(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function jp(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[oS(e)]}catch{return Zt&&V.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Zt&&V.info("[Replay] Skipping network body because of body type",e),[void 0]}function Dl(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},s=n.warnings||[];return n.warnings=[...s,t],e._meta=n,e}function rS(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:s,url:i,method:r,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:s/1e3,name:i,data:$n({method:r,statusCode:o,request:a,response:c})}}function ua(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Zs(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const s={headers:e,size:t},{body:i,warnings:r}=X1(n);return s.body=i,r&&r.length>0&&(s._meta={warnings:r}),s}function tf(e,t){return Object.keys(e).reduce((n,s)=>{const i=s.toLowerCase();return t.includes(i)&&e[s]&&(n[i]=e[s]),n},{})}function oS(e){return new URLSearchParams(e).toString()}function X1(e){if(!e||typeof e!="string")return{body:e};const t=e.length>E_,n=J1(e);if(t){const s=e.slice(0,E_);return n?{body:s,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${s}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function J1(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Rl(e,t){const n=Q1(e);return to(n,t)}function Q1(e,t=Wt.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Wt.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const s=n.href;return!e.endsWith("/")&&s.endsWith("/")?s.slice(0,-1):s}async function Z1(e,t,n){try{const s=await eP(e,t,n),i=rS("resource.fetch",s);Bu(n.replay,i)}catch(s){Zt&&V.error("[Replay] Failed to capture fetch breadcrumb",s)}}function tP(e,t,n){const{input:s,response:i}=t,r=s?aS(s):void 0,o=Il(r,n.textEncoder),a=i?iS(i.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),a!==void 0&&(e.data.response_body_size=a)}async function eP(e,t,n){const s=Date.now(),{startTimestamp:i=s,endTimestamp:r=s}=t,{url:o,method:a,status_code:c=0,request_body_size:l,response_body_size:u}=e.data,h=Rl(o,n.networkDetailAllowUrls)&&!Rl(o,n.networkDetailDenyUrls),d=h?nP(n,t.input,l):ua(l),f=await sP(h,n,t.response,u);return{startTimestamp:i,endTimestamp:r,url:o,method:a,statusCode:c,request:d,response:f}}function nP({networkCaptureBodies:e,networkRequestHeaders:t},n,s){const i=n?oP(n,t):{};if(!e)return Zs(i,s,void 0);const r=aS(n),[o,a]=jp(r),c=Zs(i,s,o);return a?Dl(c,a):c}async function sP(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:s},i,r){if(!e&&r!==void 0)return ua(r);const o=i?cS(i.headers,s):{};if(!i||!t&&r!==void 0)return Zs(o,r,void 0);const[a,c]=await rP(i),l=iP(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:e,headers:o});return c?Dl(l,c):l}function iP(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:s,captureDetails:i,headers:r}){try{const o=e&&e.length&&s===void 0?Il(e,n):s;return i?t?Zs(r,o,e):Zs(r,o,void 0):ua(o)}catch(o){return Zt&&V.warn("[Replay] Failed to serialize response body",o),Zs(r,s,void 0)}}async function rP(e){const t=aP(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await cP(t)]}catch(n){return Zt&&V.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function aS(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function cS(e,t){const n={};return t.forEach(s=>{e.get(s)&&(n[s]=e.get(s))}),n}function oP(e,t){return e.length===1&&typeof e[0]!="string"?F_(e[0],t):e.length===2?F_(e[1],t):{}}function F_(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?cS(n,t):Array.isArray(n)?{}:tf(n,t):{}}function aP(e){try{return e.clone()}catch(t){Zt&&V.warn("[Replay] Failed to clone response body",t)}}function cP(e){return new Promise((t,n)=>{const s=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);lP(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(s))})}async function lP(e){return await e.text()}async function uP(e,t,n){try{const s=dP(e,t,n),i=rS("resource.xhr",s);Bu(n.replay,i)}catch(s){Zt&&V.error("[Replay] Failed to capture xhr breadcrumb",s)}}function hP(e,t,n){const{xhr:s,input:i}=t;if(!s)return;const r=Il(i,n.textEncoder),o=s.getResponseHeader("content-length")?iS(s.getResponseHeader("content-length")):Il(s.response,n.textEncoder);r!==void 0&&(e.data.request_body_size=r),o!==void 0&&(e.data.response_body_size=o)}function dP(e,t,n){const s=Date.now(),{startTimestamp:i=s,endTimestamp:r=s,input:o,xhr:a}=t,{url:c,method:l,status_code:u=0,request_body_size:h,response_body_size:d}=e.data;if(!c)return null;if(!a||!Rl(c,n.networkDetailAllowUrls)||Rl(c,n.networkDetailDenyUrls)){const A=ua(h),D=ua(d);return{startTimestamp:i,endTimestamp:r,url:c,method:l,statusCode:u,request:A,response:D}}const f=a[js],m=f?tf(f.request_headers,n.networkRequestHeaders):{},_=tf(fP(a),n.networkResponseHeaders),[b,E]=n.networkCaptureBodies?jp(o):[void 0],[x,k]=n.networkCaptureBodies?pP(a):[void 0],C=Zs(m,h,b),R=Zs(_,d,x);return{startTimestamp:i,endTimestamp:r,url:c,method:l,statusCode:u,request:E?Dl(C,E):C,response:k?Dl(R,k):R}}function fP(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,s)=>{const[i,r]=s.split(": ");return n[i.toLowerCase()]=r,n},{}):{}}function pP(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{const n=e.response;return jp(n)}catch(n){t.push(n)}return Zt&&V.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function gP(e){const t=hi();try{const n=new TextEncoder,{networkDetailAllowUrls:s,networkDetailDenyUrls:i,networkCaptureBodies:r,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:s,networkDetailDenyUrls:i,networkCaptureBodies:r,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(l,u)=>mP(c,l,u)):(gp(G1(e)),mp(Y1(e)))}catch{}}function mP(e,t,n){if(!!t.data)try{_P(t)&&bP(n)&&(hP(t,n,e),uP(t,n,e)),yP(t)&&vP(n)&&(tP(t,n,e),Z1(t,n,e))}catch{Zt&&V.warn("Error when enriching network breadcrumb")}}function _P(e){return e.category==="xhr"}function yP(e){return e.category==="fetch"}function bP(e){return e&&e.xhr}function vP(e){return e&&e.response}let $_=null;function wP(e){return!!e.category}const SP=e=>t=>{if(!e.isEnabled())return;const n=EP(t);!n||Fu(e,n)};function EP(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return $_===t||!t||($_=t,!wP(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?TP(t):ls(t)}function TP(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return ls(e);let n=!1;const s=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>yc?(n=!0,`${i.slice(0,yc)}\u2026`):i;if(typeof i=="object")try{const r=Mn(i,7);return JSON.stringify(r).length>yc?(n=!0,`${JSON.stringify(r,null,2).slice(0,yc)}\u2026`):r}catch{}return i});return ls({...e,data:{...e.data,arguments:s,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function xP(e){const t=Ht().getScope(),n=hi();t.addScopeListener(SP(e)),U0(o1(e)),vu(z1(e)),gP(e);const s=j1(e,!B_(n));n&&n.addEventProcessor?n.addEventProcessor(s):J0(s),B_(n)&&(n.on("afterSendEvent",sS(e)),n.on("createDsc",i=>{const r=e.getSessionId();r&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(i.replay_id=r)}),n.on("startTransaction",i=>{e.lastTransaction=i}),n.on("finishTransaction",i=>{e.lastTransaction=i}),n.on("beforeSendFeedback",(i,r)=>{const o=e.getSessionId();r&&r.includeReplay&&e.isEnabled()&&o&&(e.flush(),i.contexts&&i.contexts.feedback&&(i.contexts.feedback.replay_id=o))}))}function B_(e){return!!(e&&e.on)}async function kP(e){try{return Promise.all($u(e,[CP(Wt.performance.memory)]))}catch{return[]}}function CP(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:s}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:s}}}}function IP(e,t,n){let s,i,r;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),s=e(),s}function c(){i!==void 0&&clearTimeout(i),r!==void 0&&clearTimeout(r),i=r=void 0}function l(){return i!==void 0||r!==void 0?a():s}function u(){return i&&clearTimeout(i),i=setTimeout(a,t),o&&r===void 0&&(r=setTimeout(a,o)),s}return u.cancel=c,u.flush=l,u}function DP(e){let t=!1;return(n,s)=>{if(!e.checkAndHandleExpiredSession()){Zt&&V.warn("[Replay] Received replay event after session expired.");return}const i=s||!t;t=!0,e.clickDetector&&e1(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!Hp(e,n,i))return!0;if(!i)return!1;if(MP(e,i),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){const r=e.eventBuffer.getEarliestTimestamp();r&&(Ue(`[Replay] Updating session start time to earliest event in buffer to ${new Date(r)}`,e.getOptions()._experiments.traceInternals),e.session.started=r,e.getOptions().stickySession&&Up(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function RP(e){const t=e.getOptions();return{type:St.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function MP(e,t){!t||!e.session||e.session.segmentId!==0||Hp(e,RP(e),!1)}function AP(e,t,n,s){return no(K0(e,bp(e),s,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function OP({recordingData:e,headers:t}){let n;const s=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${s}${e}`;else{const r=new TextEncoder().encode(s);n=new Uint8Array(r.length+e.length),n.set(r),n.set(e,r.length)}return n}async function PP({client:e,scope:t,replayId:n,event:s}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,r={event_id:n,integrations:i};e.emit&&e.emit("preprocessEvent",s,r);const o=await sw(e.getOptions(),s,r,t,e);if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:l}=a&&a.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:l||"0.0.0"},o}async function LP({recordingData:e,replayId:t,segmentId:n,eventContext:s,timestamp:i,session:r}){const o=OP({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:l,initialTimestamp:u}=s,h=Ht(),d=h.getClient(),f=h.getScope(),m=d&&d.getTransport(),_=d&&d.getDsn();if(!d||!m||!_||!r.sampled)return;const b={type:CA,replay_start_timestamp:u/1e3,timestamp:i/1e3,error_ids:c,trace_ids:l,urls:a,replay_id:t,segment_id:n,replay_type:r.sampled},E=await PP({scope:f,client:d,replayId:t,event:b});if(!E){d.recordDroppedEvent("event_processor","replay",b),Ue("An event processor returned `null`, will not send event.");return}delete E.sdkProcessingMetadata;const x=AP(E,o,_,d.getOptions().tunnel);let k;try{k=await m.send(x)}catch(R){const A=new Error(Mp);try{A.cause=R}catch{}throw A}if(!k)return k;if(typeof k.statusCode=="number"&&(k.statusCode<200||k.statusCode>=300))throw new lS(k.statusCode);const C=X0({},k);if(Y0(C,"replay"))throw new uS(C);return k}class lS extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class uS extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function hS(e,t={count:0,interval:OA}){const{recordingData:n,options:s}=e;if(!!n.length)try{return await LP(e),!0}catch(i){if(i instanceof lS||i instanceof uS)throw i;if(eR("Replays",{_retryCount:t.count}),Zt&&s._experiments&&s._experiments.captureExceptions&&hn(i),t.count>=PA){const r=new Error(`${Mp} - max retries exceeded`);try{r.cause=i}catch{}throw r}return t.interval*=++t.count,new Promise((r,o)=>{setTimeout(async()=>{try{await hS(e,t),r(!0)}catch(a){o(a)}},t.interval)})}}const dS="__THROTTLED",NP="__SKIPPED";function FP(e,t,n){const s=new Map,i=a=>{const c=a-n;s.forEach((l,u)=>{u<c&&s.delete(u)})},r=()=>[...s.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(i(c),r()>=t){const u=o;return o=!0,u?NP:dS}o=!1;const l=s.get(c)||0;return s.set(c,l+1),e(...a)}}class Ns{constructor({options:t,recordingOptions:n}){Ns.prototype.__init.call(this),Ns.prototype.__init2.call(this),Ns.prototype.__init3.call(this),Ns.prototype.__init4.call(this),Ns.prototype.__init5.call(this),Ns.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:IA,sessionIdleExpire:DA},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=IP(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=FP((o,a)=>O1(this,o,a),300,5);const{slowClickTimeout:s,slowClickIgnoreSelectors:i}=this.getOptions(),r=s?{threshold:Math.min(LA,s),timeout:s,scrollTimeout:NA,ignoreSelector:i?i.join(","):""}:void 0;r&&(this.clickDetector=new JO(this,r))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:s}=this._options;if(!(n<=0&&s<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Tr(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Tr("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const t=Mh({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Tr("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=Mh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{this._stopRecording=Qs({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:AA},emit:DP(this),onMutation:this._onMutationHandler})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(!!this._isEnabled){this._isEnabled=!1;try{Ue(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,I1(this)}catch(s){this._handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ue("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Ue("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();Ue("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const s=this.stopRecording();!t||!s||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Qd(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${Wt.location.pathname}${Wt.location.hash}${Wt.location.search}`,n=`${Wt.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const s=this._throttledAddEvent(t,n);if(s===dS){const i=ls({category:"replay.throttled"});this.addUpdate(()=>!Hp(this,{type:WO,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return s}getCurrentRoute(){const t=this.lastTransaction||Ht().getScope().getTransaction();if(!(!t||!["route","custom"].includes(t.metadata.source)))return t.name}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=x1({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){Zt&&V.error("[Replay]",t),Zt&&this._options._experiments&&this._options._experiments.captureExceptions&&hn(t)}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,s=Mh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=s}_checkSession(){if(!this.session)return!1;const t=this.session;return Zw(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){!this._isEnabled||(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Wt.document.addEventListener("visibilitychange",this._handleVisibilityChange),Wt.addEventListener("blur",this._handleWindowBlur),Wt.addEventListener("focus",this._handleWindowFocus),Wt.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(xP(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=b1(this)}_removeListeners(){try{Wt.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Wt.removeEventListener("blur",this._handleWindowBlur),Wt.removeEventListener("focus",this._handleWindowFocus),Wt.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{Wt.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=ls({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=ls({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{u1(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Qw(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Ue("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:St.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){const t=f1(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all($u(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;const s=n.getEarliestTimestamp();s&&s<this._context.initialTimestamp&&(this._context.initialTimestamp=s)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){Zt&&V.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await kP(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const s=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const r=await this.eventBuffer.finish();await hS({replayId:t,recordingData:r,segmentId:i,eventContext:s,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const s=hi();s&&s.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){Zt&&V.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const r=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(r||o){Ue(`[Replay] Session duration (${Math.floor(i/1e3)}s) is too ${r?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),r&&this._debouncedFlush();return}const a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&Ue("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){Zt&&V.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Up(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,s=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,r=s&&n>s;if(n>i||r){const o=ls({category:"replay.mutations",data:{count:n,limit:r}});this._createCustomBreadcrumb(o)}return r?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function ho(e,t,n,s){const i=typeof s=="string"?s.split(","):[],r=[...e,...i,...t];return typeof n!="undefined"&&(typeof n=="string"&&r.push(`.${n}`),Wn(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),r.join(",")}function $P({mask:e,unmask:t,block:n,unblock:s,ignore:i,blockClass:r,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:l}){const u=['base[href="/"]'],h=ho(e,[".sentry-mask","[data-sentry-mask]"],a,c),d=ho(t,[".sentry-unmask","[data-sentry-unmask]"]),f={maskTextSelector:h,unmaskTextSelector:d,blockSelector:ho(n,[".sentry-block","[data-sentry-block]",...u],r,o),unblockSelector:ho(s,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:ho(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],l)};return r instanceof RegExp&&(f.blockClass=r),a instanceof RegExp&&(f.maskTextClass=a),f}function BP({el:e,key:t,maskAttributes:n,maskAllText:s,privacyOptions:i,value:r}){return!s||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?r:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?r.replace(/[\S]/g,"*"):r}const U_='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',UP=["content-length","content-type","accept"];let H_=!1;class Uu{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=RA,flushMaxDelay:n=MA,minReplayDuration:s=FA,maxReplayDuration:i=T_,stickySession:r=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},sessionSampleRate:l,errorSampleRate:u,maskAllText:h=!0,maskAllInputs:d=!0,blockAllMedia:f=!0,mutationBreadcrumbLimit:m=750,mutationLimit:_=1e4,slowClickTimeout:b=7e3,slowClickIgnoreSelectors:E=[],networkDetailAllowUrls:x=[],networkDetailDenyUrls:k=[],networkCaptureBodies:C=!0,networkRequestHeaders:R=[],networkResponseHeaders:A=[],mask:D=[],maskAttributes:M=["title","placeholder"],unmask:H=[],block:F=[],unblock:j=[],ignore:$=[],maskFn:J,beforeAddRecordingEvent:et,beforeErrorSampling:Q,blockClass:X,blockSelector:it,maskInputOptions:nt,maskTextClass:lt,maskTextSelector:Ft,ignoreClass:Ot}={}){this.name=Uu.id;const Pt=$P({mask:D,unmask:H,block:F,unblock:j,ignore:$,blockClass:X,blockSelector:it,maskTextClass:lt,maskTextSelector:Ft,ignoreClass:Ot});if(this._recordingOptions={maskAllInputs:d,maskAllText:h,maskInputOptions:{...nt||{},password:!0},maskTextFn:J,maskInputFn:J,maskAttributeFn:(se,ut,B)=>BP({maskAttributes:M,maskAllText:h,privacyOptions:Pt,key:se,value:ut,el:B}),...Pt,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:se=>{try{se.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(s,$A),maxReplayDuration:Math.min(i,T_),stickySession:r,sessionSampleRate:l,errorSampleRate:u,useCompression:o,workerUrl:a,blockAllMedia:f,maskAllInputs:d,maskAllText:h,mutationBreadcrumbLimit:m,mutationLimit:_,slowClickTimeout:b,slowClickIgnoreSelectors:E,networkDetailAllowUrls:x,networkDetailDenyUrls:k,networkCaptureBodies:C,networkRequestHeaders:j_(R),networkResponseHeaders:j_(A),beforeAddRecordingEvent:et,beforeErrorSampling:Q,_experiments:c},typeof l=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${l} })`),this._initialOptions.sessionSampleRate=l),typeof u=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${u} })`),this._initialOptions.errorSampleRate=u),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${U_}`:U_),this._isInitialized&&Zm())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return H_}set _isInitialized(t){H_=t}setupOnce(){!Zm()||(this._setup(),setTimeout(()=>this._initialize()))}start(){!this._replay||this._replay.start()}startBuffering(){!this._replay||this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){!this._replay||this._replay.initializeSampling()}_setup(){const t=HP(this._initialOptions);this._replay=new Ns({options:t,recordingOptions:this._recordingOptions})}}Uu.__initStatic();function HP(e){const t=hi(),n=t&&t.getOptions(),s={sessionSampleRate:0,errorSampleRate:0,...$n(e)};return n?(e.sessionSampleRate==null&&e.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&Wn(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(s.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(s.errorSampleRate=n.replaysOnErrorSampleRate),s):(Wn(()=>{console.warn("SDK client is not available.")}),s)}function j_(e){return[...UP,...e.map(t=>t.toLowerCase())]}const fS=["activate","mount","update"],jP=/(?:^|[-_])(\w)/g,VP=e=>e.replace(jP,t=>t.toUpperCase()).replace(/[-_]/g,""),zP="<Root>",Ah="<Anonymous>",WP=(e,t)=>e.repeat?e.repeat(t):e,jo=(e,t)=>{if(!e)return Ah;if(e.$root===e)return zP;if(!e.$options)return Ah;const n=e.$options;let s=n.name||n._componentTag;const i=n.__file;if(!s&&i){const r=i.match(/([^/\\]+)\.vue$/);r&&(s=r[1])}return(s?`<${VP(s)}>`:Ah)+(i&&t!==!1?` at ${i}`:"")},qP=e=>{if(e&&(e._isVue||e.__isVue)&&e.$parent){const t=[];let n=0;for(;e;){if(t.length>0){const i=t[t.length-1];if(i.constructor===e.constructor){n++,e=e.$parent;continue}else n>0&&(t[t.length-1]=[i,n],n=0)}t.push(e),e=e.$parent}return`

found in

${t.map((i,r)=>`${(r===0?"---> ":WP(" ",5+r*2))+(Array.isArray(i)?`${jo(i[0])}... (${i[1]} recursive calls)`:jo(i))}`).join(`
`)}`}return`

(found in ${jo(e)})`},GP=(e,t)=>{const{errorHandler:n,warnHandler:s,silent:i}=e.config;e.config.errorHandler=(r,o,a)=>{const c=jo(o,!1),l=o?qP(o):"",u={componentName:c,lifecycleHook:a,trace:l};if(t.attachProps&&o&&(o.$options&&o.$options.propsData?u.propsData=o.$options.propsData:o.$props&&(u.propsData=o.$props)),setTimeout(()=>{Ht().captureException(r,{captureContext:{contexts:{vue:u}},mechanism:{handled:!1}})}),typeof n=="function"&&n.call(e,r,o,a),t.logErrors){const h=typeof console!="undefined",d=`Error in ${a}: "${r&&r.toString()}"`;s?s.call(null,d,o,l):h&&!i&&Wn(()=>{console.error(`[Vue warn]: ${d}${l}`)})}}},KP=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,V_="ui.vue",YP={activate:["activated","deactivated"],create:["beforeCreate","created"],unmount:["beforeUnmount","unmounted"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function ef(){return Ht().getScope().getTransaction()}function XP(e,t,n){e.$_sentryRootSpanTimer&&clearTimeout(e.$_sentryRootSpanTimer),e.$_sentryRootSpanTimer=setTimeout(()=>{e.$root&&e.$root.$_sentryRootSpan&&(e.$root.$_sentryRootSpan.finish(t),e.$root.$_sentryRootSpan=void 0)},n)}const JP=e=>{const t=(e.hooks||[]).concat(fS).filter((s,i,r)=>r.indexOf(s)===i),n={};for(const s of t){const i=YP[s];if(!i){KP&&V.warn(`Unknown hook: ${s}`);continue}for(const r of i)n[r]=function(){const o=this.$root===this;if(o){const l=ef();l&&(this.$_sentryRootSpan=this.$_sentryRootSpan||l.startChild({description:"Application Render",op:`${V_}.render`,origin:"auto.ui.vue"}))}const a=jo(this,!1),c=Array.isArray(e.trackComponents)?e.trackComponents.indexOf(a)>-1:e.trackComponents;if(!(!o&&!c))if(this.$_sentrySpans=this.$_sentrySpans||{},r==i[0]){const l=this.$root&&this.$root.$_sentryRootSpan||ef();if(l){const u=this.$_sentrySpans[s];u&&!u.endTimestamp&&u.finish(),this.$_sentrySpans[s]=l.startChild({description:`Vue <${a}>`,op:`${V_}.${s}`,origin:"auto.ui.vue"})}}else{const l=this.$_sentrySpans[s];if(!l)return;l.finish(),XP(this,ai(),e.timeout)}}}return n},QP=At,ZP={Vue:QP.Vue,attachProps:!0,logErrors:!0,hooks:fS,timeout:2e3,trackComponents:!1};class Hu{static __initStatic(){this.id="Vue"}constructor(t={}){this.name=Hu.id,this._options=t}setupOnce(t,n){this._setupIntegration(n())}_setupIntegration(t){const n=t.getClient(),s={...ZP,...n&&n.getOptions(),...this._options};if(!s.Vue&&!s.app){Wn(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured.\nUpdate your `Sentry.init` call with an appropriate config option:\n`app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).")});return}s.app?pp(s.app).forEach(r=>z_(r,s)):s.Vue&&z_(s.Vue,s)}}Hu.__initStatic();const z_=(e,t)=>{const n=e;(n._instance&&n._instance.isMounted)===!0&&Wn(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`.")}),GP(e,t),Eu(t)&&e.mixin(JP({...t,...t.tracingOptions}))};function tL(e={}){const t={_metadata:{sdk:{name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:yl}],version:yl}},defaultIntegrations:[...mw,new Hu],...e};BM(t)}function eL(e,t={}){return(n,s=!0,i=!0)=>{const r={"routing.instrumentation":"vue-router"};s&&Nt&&Nt.location&&n({name:Nt.location.pathname,op:"pageload",origin:"auto.pageload.vue",tags:r,metadata:{source:"url"}}),e.onError(o=>hn(o,{mechanism:{handled:!1}})),e.beforeEach((o,a,c)=>{const l=a.name==null&&a.matched.length===0,u={params:o.params,query:o.query};let h=o.path,d="url";if(o.name&&t.routeLabel!=="path"?(h=o.name.toString(),d="custom"):o.matched[0]&&o.matched[0].path&&(h=o.matched[0].path,d="route"),s&&l){const f=ef();f&&(f.metadata.source!=="custom"&&f.setName(h,d),f.setData("params",u.params),f.setData("query",u.query))}i&&!l&&n({name:h,op:"navigation",origin:"auto.navigation.vue",tags:r,data:u,metadata:{source:d}}),c&&c()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let i=e.charCodeAt(s);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},nL=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const i=e[n++];if(i<128)t[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=e[n++];t[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=e[n++],o=e[n++],a=e[n++],c=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[s++]=String.fromCharCode(55296+(c>>10)),t[s++]=String.fromCharCode(56320+(c&1023))}else{const r=e[n++],o=e[n++];t[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return t.join("")},gS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<e.length;i+=3){const r=e[i],o=i+1<e.length,a=o?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let d=(a&15)<<2|l>>6,f=l&63;c||(f=64,o||(d=64)),s.push(n[u],n[h],n[d],n[f])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):nL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<e.length;){const r=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,r==null||a==null||l==null||h==null)throw Error();const d=r<<2|a>>4;if(s.push(d),l!==64){const f=a<<4&240|l>>2;if(s.push(f),h!==64){const m=l<<6&192|h;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},sL=function(e){const t=pS(e);return gS.encodeByteArray(t,!0)},Ml=function(e){return sL(e).replace(/\./g,"")},mS=function(e){try{return gS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=()=>iL().__FIREBASE_DEFAULTS__,oL=()=>{if(typeof process=="undefined"||typeof process.env=="undefined")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},aL=()=>{if(typeof document=="undefined")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&mS(e[1]);return t&&JSON.parse(t)},Vp=()=>{try{return rL()||oL()||aL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},_S=e=>{var t,n;return(n=(t=Vp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},yS=e=>{const t=_S(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},cL=()=>{var e;return(e=Vp())===null||e===void 0?void 0:e.config},bS=e=>{var t;return(t=Vp())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Ml(JSON.stringify(n)),Ml(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uL(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function hL(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function dL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fL(){const e=Ne();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pL(){try{return typeof indexedDB=="object"}catch{return!1}}function gL(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;t(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="FirebaseError";class Kn extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=mL,Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fa.prototype.create)}}class Fa{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},i=`${this.service}/${t}`,r=this.errors[t],o=r?_L(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Kn(i,a,s)}}function _L(e,t){return e.replace(yL,(n,s)=>{const i=t[s];return i!=null?String(i):`<${s}?>`})}const yL=/\{\$([^}]+)}/g;function bL(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Al(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const i of n){if(!s.includes(i))return!1;const r=e[i],o=t[i];if(W_(r)&&W_(o)){if(!Al(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function W_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Eo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");t[decodeURIComponent(i)]=decodeURIComponent(r)}}),t}function To(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function vL(e,t){const n=new wL(e,t);return n.subscribe.bind(n)}class wL{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let i;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");SL(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:s},i.next===void 0&&(i.next=Oh),i.error===void 0&&(i.error=Oh),i.complete===void 0&&(i.complete=Oh);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console!="undefined"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SL(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Oh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(e){return e&&e._delegate?e._delegate:e}class ci{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new lL;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xL(t))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(t=Di){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Di){return this.instances.has(t)}getOptions(t=Di){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(t,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const i of s)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TL(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Di){return this.component?this.component.multipleInstances?t:Di:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TL(e){return e===Di?void 0:e}function xL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new EL(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Bt||(Bt={}));const CL={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},IL=Bt.INFO,DL={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},RL=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),i=DL[t];if(i)console[i](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zp{constructor(t){this.name=t,this._logLevel=IL,this._logHandler=RL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const ML=(e,t)=>t.some(n=>e instanceof n);let q_,G_;function AL(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OL(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wS=new WeakMap,nf=new WeakMap,SS=new WeakMap,Ph=new WeakMap,Wp=new WeakMap;function PL(e){const t=new Promise((n,s)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(ti(e.result)),i()},o=()=>{s(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&wS.set(n,e)}).catch(()=>{}),Wp.set(t,e),t}function LL(e){if(nf.has(e))return;const t=new Promise((n,s)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});nf.set(e,t)}let sf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return nf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||SS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ti(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function NL(e){sf=e(sf)}function FL(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(Lh(this),t,...n);return SS.set(s,t.sort?t.sort():[t]),ti(s)}:OL().includes(e)?function(...t){return e.apply(Lh(this),t),ti(wS.get(this))}:function(...t){return ti(e.apply(Lh(this),t))}}function $L(e){return typeof e=="function"?FL(e):(e instanceof IDBTransaction&&LL(e),ML(e,AL())?new Proxy(e,sf):e)}function ti(e){if(e instanceof IDBRequest)return PL(e);if(Ph.has(e))return Ph.get(e);const t=$L(e);return t!==e&&(Ph.set(e,t),Wp.set(t,e)),t}const Lh=e=>Wp.get(e);function BL(e,t,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(e,t),a=ti(o);return s&&o.addEventListener("upgradeneeded",c=>{s(ti(o.result),c.oldVersion,c.newVersion,ti(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{r&&c.addEventListener("close",()=>r()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const UL=["get","getKey","getAll","getAllKeys","count"],HL=["put","add","delete","clear"],Nh=new Map;function K_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Nh.get(t))return Nh.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,i=HL.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||UL.includes(n)))return;const r=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&c.done]))[0]};return Nh.set(t,r),r}NL(e=>({...e,get:(t,n,s)=>K_(t,n)||e.get(t,n,s),has:(t,n)=>!!K_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VL(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VL(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rf="@firebase/app",Y_="0.9.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new zp("@firebase/app"),zL="@firebase/app-compat",WL="@firebase/analytics-compat",qL="@firebase/analytics",GL="@firebase/app-check-compat",KL="@firebase/app-check",YL="@firebase/auth",XL="@firebase/auth-compat",JL="@firebase/database",QL="@firebase/database-compat",ZL="@firebase/functions",tN="@firebase/functions-compat",eN="@firebase/installations",nN="@firebase/installations-compat",sN="@firebase/messaging",iN="@firebase/messaging-compat",rN="@firebase/performance",oN="@firebase/performance-compat",aN="@firebase/remote-config",cN="@firebase/remote-config-compat",lN="@firebase/storage",uN="@firebase/storage-compat",hN="@firebase/firestore",dN="@firebase/firestore-compat",fN="firebase",pN="9.17.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="[DEFAULT]",gN={[rf]:"fire-core",[zL]:"fire-core-compat",[qL]:"fire-analytics",[WL]:"fire-analytics-compat",[KL]:"fire-app-check",[GL]:"fire-app-check-compat",[YL]:"fire-auth",[XL]:"fire-auth-compat",[JL]:"fire-rtdb",[QL]:"fire-rtdb-compat",[ZL]:"fire-fn",[tN]:"fire-fn-compat",[eN]:"fire-iid",[nN]:"fire-iid-compat",[sN]:"fire-fcm",[iN]:"fire-fcm-compat",[rN]:"fire-perf",[oN]:"fire-perf-compat",[aN]:"fire-rc",[cN]:"fire-rc-compat",[lN]:"fire-gcs",[uN]:"fire-gcs-compat",[hN]:"fire-fst",[dN]:"fire-fst-compat","fire-js":"fire-js",[fN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new Map,af=new Map;function mN(e,t){try{e.container.addComponent(t)}catch(n){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ji(e){const t=e.name;if(af.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;af.set(t,e);for(const n of Ol.values())mN(n,e);return!0}function ju(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ei=new Fa("app","Firebase",_N);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=pN;function ES(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:of,automaticDataCollectionEnabled:!1},t),i=s.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});if(n||(n=cL()),!n)throw ei.create("no-options");const r=Ol.get(i);if(r){if(Al(n,r.options)&&Al(s,r.config))return r;throw ei.create("duplicate-app",{appName:i})}const o=new kL(i);for(const c of af.values())o.addComponent(c);const a=new yN(n,s,o);return Ol.set(i,a),a}function qp(e=of){const t=Ol.get(e);if(!t&&e===of)return ES();if(!t)throw ei.create("no-app",{appName:e});return t}function Bn(e,t,n){var s;let i=(s=gN[e])!==null&&s!==void 0?s:e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${t}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(a.join(" "));return}Ji(new ci(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="firebase-heartbeat-database",vN=1,ha="firebase-heartbeat-store";let Fh=null;function TS(){return Fh||(Fh=BL(bN,vN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ha)}}}).catch(e=>{throw ei.create("idb-open",{originalErrorMessage:e.message})})),Fh}async function wN(e){try{return(await TS()).transaction(ha).objectStore(ha).get(xS(e))}catch(t){if(t instanceof Kn)Xi.warn(t.message);else{const n=ei.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xi.warn(n.message)}}}async function X_(e,t){try{const s=(await TS()).transaction(ha,"readwrite");return await s.objectStore(ha).put(t,xS(e)),s.done}catch(n){if(n instanceof Kn)Xi.warn(n.message);else{const s=ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(s.message)}}}function xS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=1024,EN=30*24*60*60*1e3;class TN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=J_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const r=new Date(i.date).valueOf();return Date.now()-r<=EN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:n,unsentEntries:s}=xN(this._heartbeatsCache.heartbeats),i=Ml(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function J_(){return new Date().toISOString().substring(0,10)}function xN(e,t=SN){const n=[];let s=e.slice();for(const i of e){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Q_(n)>t){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Q_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class kN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pL()?gL().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await wN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return X_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return X_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Q_(e){return Ml(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(e){Ji(new ci("platform-logger",t=>new jL(t),"PRIVATE")),Ji(new ci("heartbeat",t=>new TN(t),"PRIVATE")),Bn(rf,Y_,e),Bn(rf,Y_,"esm2017"),Bn("fire-js","")}CN("");var IN="firebase",DN="9.17.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn(IN,DN,"app");function Gp(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function kS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RN=kS,CS=new Fa("auth","Firebase",kS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new zp("@firebase/auth");function Xc(e,...t){Z_.logLevel<=Bt.ERROR&&Z_.error(`Auth (${io}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(e,...t){throw Kp(e,...t)}function Un(e,...t){return Kp(e,...t)}function IS(e,t,n){const s=Object.assign(Object.assign({},RN()),{[t]:n});return new Fa("auth","Firebase",s).create(t,{appName:e.name})}function MN(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&ln(e,"argument-error"),IS(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kp(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return CS.create(e,...t)}function ft(e,t,...n){if(!e)throw Kp(t,...n)}function us(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Xc(t),new Error(t)}function Ss(e,t){e||us(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new Map;function hs(e){Ss(e instanceof Function,"Expected a class definition");let t=ty.get(e);return t?(Ss(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ty.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(e,t){const n=ju(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(Al(r,t!=null?t:{}))return i;ln(i,"already-initialized")}return n.initialize({options:t})}function ON(e,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(hs);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function PN(){return ey()==="http:"||ey()==="https:"}function ey(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PN()||hL()||"connection"in navigator)?navigator.onLine:!0}function NN(){if(typeof navigator=="undefined")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ss(n>t,"Short delay should be less than long delay!"),this.isMobile=uL()||dL()}get(){return LN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(e,t){Ss(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Ba(3e4,6e4);function Ua(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ha(e,t,n,s,i={}){return RS(e,i,async()=>{let r={},o={};s&&(t==="GET"?o=s:r={body:JSON.stringify(s)});const a=$a(Object.assign({key:e.config.apiKey},o)).slice(1),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),DS.fetch()(MS(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},r))})}async function RS(e,t,n){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},FN),t);try{const i=new BN(e),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw wc(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw wc(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw wc(e,"user-disabled",o);const u=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw IS(e,u,l);ln(e,u)}}catch(i){if(i instanceof Kn)throw i;ln(e,"network-request-failed")}}async function ja(e,t,n,s,i={}){const r=await Ha(e,t,n,s,i);return"mfaPendingCredential"in r&&ln(e,"multi-factor-auth-required",{_serverResponse:r}),r}function MS(e,t,n,s){const i=`${t}${n}?${s}`;return e.config.emulator?Yp(e.config,i):`${e.config.apiScheme}://${i}`}class BN{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Un(this.auth,"network-request-failed")),$N.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wc(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Un(e,t,s);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(e,t){return Ha(e,"POST","/v1/accounts:delete",t)}async function HN(e,t){return Ha(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(e){if(!!e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function jN(e,t=!1){const n=di(e),s=await n.getIdToken(t),i=Xp(s);ft(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Vo($h(i.auth_time)),issuedAtTime:Vo($h(i.iat)),expirationTime:Vo($h(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function $h(e){return Number(e)*1e3}function Xp(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const i=mS(n);return i?JSON.parse(i):(Xc("Failed to decode base64 JWT payload"),null)}catch(i){return Xc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VN(e){const t=Xp(e);return ft(t,"internal-error"),ft(typeof t.exp!="undefined","internal-error"),ft(typeof t.iat!="undefined","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Kn&&zN(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function zN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(e){var t;const n=e.auth,s=await e.getIdToken(),i=await da(e,HN(n,{idToken:s}));ft(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const o=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?KN(r.providerUserInfo):[],a=GN(e.providerData,o),c=e.isAnonymous,l=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new AS(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function qN(e){const t=di(e);await Pl(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function GN(e,t){return[...e.filter(s=>!t.some(i=>i.providerId===s.providerId)),...t]}function KN(e){return e.map(t=>{var{providerId:n}=t,s=Gp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(e,t){const n=await RS(e,{},async()=>{const s=$a({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,o=MS(e,i,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",DS.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ft(t.idToken,"internal-error"),ft(typeof t.idToken!="undefined","internal-error"),ft(typeof t.refreshToken!="undefined","internal-error");const n="expiresIn"in t&&typeof t.expiresIn!="undefined"?Number(t.expiresIn):VN(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return ft(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await YN(t,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new fa;return s&&(ft(typeof s=="string","internal-error",{appName:t}),o.refreshToken=s),i&&(ft(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),r&&(ft(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fa,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(e,t){ft(typeof e=="string"||typeof e=="undefined","internal-error",{appName:t})}class zi{constructor(t){var{uid:n,auth:s,stsTokenManager:i}=t,r=Gp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new AS(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await da(this,this.stsTokenManager.getToken(this.auth,t));return ft(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return jN(this,t)}reload(){return qN(this)}_assign(t){this!==t&&(ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new zi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Pl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await da(this,UN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,i,r,o,a,c,l,u;const h=(s=n.displayName)!==null&&s!==void 0?s:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(l=n.createdAt)!==null&&l!==void 0?l:void 0,x=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:k,emailVerified:C,isAnonymous:R,providerData:A,stsTokenManager:D}=n;ft(k&&D,t,"internal-error");const M=fa.fromJSON(this.name,D);ft(typeof k=="string",t,"internal-error"),Ds(h,t.name),Ds(d,t.name),ft(typeof C=="boolean",t,"internal-error"),ft(typeof R=="boolean",t,"internal-error"),Ds(f,t.name),Ds(m,t.name),Ds(_,t.name),Ds(b,t.name),Ds(E,t.name),Ds(x,t.name);const H=new zi({uid:k,auth:t,email:d,emailVerified:C,displayName:h,isAnonymous:R,photoURL:m,phoneNumber:f,tenantId:_,stsTokenManager:M,createdAt:E,lastLoginAt:x});return A&&Array.isArray(A)&&(H.providerData=A.map(F=>Object.assign({},F))),b&&(H._redirectEventId=b),H}static async _fromIdTokenResponse(t,n,s=!1){const i=new fa;i.updateFromServerResponse(n);const r=new zi({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:s});return await Pl(r),r}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}OS.type="NONE";const ny=OS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(e,t,n){return`firebase:${e}:${t}:${n}`}class xr{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Jc(this.userKey,i.apiKey,r),this.fullPersistenceKey=Jc("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?zi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new xr(hs(ny),t,s);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let r=i[0]||hs(ny);const o=Jc(s,t.config.apiKey,t.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){const h=zi._fromJSON(t,u);l!==r&&(a=h),r=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new xr(r,t,s):(r=c[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==r)try{await l._remove(o)}catch{}})),new xr(r,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(PS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($S(t))return"Blackberry";if(BS(t))return"Webos";if(Jp(t))return"Safari";if((t.includes("chrome/")||LS(t))&&!t.includes("edge/"))return"Chrome";if(FS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PS(e=Ne()){return/firefox\//i.test(e)}function Jp(e=Ne()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function LS(e=Ne()){return/crios\//i.test(e)}function NS(e=Ne()){return/iemobile/i.test(e)}function FS(e=Ne()){return/android/i.test(e)}function $S(e=Ne()){return/blackberry/i.test(e)}function BS(e=Ne()){return/webos/i.test(e)}function Vu(e=Ne()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function XN(e=Ne()){var t;return Vu(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function JN(){return fL()&&document.documentMode===10}function US(e=Ne()){return Vu(e)||FS(e)||BS(e)||$S(e)||/windows phone/i.test(e)||NS(e)}function QN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(e,t=[]){let n;switch(e){case"Browser":n=sy(Ne());break;case"Worker":n=`${sy(Ne())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=r=>new Promise((o,a)=>{try{const c=t(r);o(c)}catch(c){a(c)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(t,n,s){this.app=t,this.heartbeatServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iy(this),this.idTokenSubscription=new iy(this),this.beforeStateQueue=new ZN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=hs(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await xr.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===a)&&(c==null?void 0:c.user)&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Pl(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=NN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?di(t):null;return n&&ft(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Fa("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&hs(t)||this._popupRedirectResolver;ft(n,this,"argument-error"),this.redirectPersistenceManager=await xr.create(this,[hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ft(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?t.addObserver(n,s,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return s&&(n["X-Firebase-Client"]=s),n}}function ir(e){return di(e)}class iy{constructor(t){this.auth=t,this.observer=null,this.addObserver=vL(n=>this.observer=n)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eF(e,t,n){const s=ir(e);ft(s._canInitEmulator,s,"emulator-config-failed"),ft(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),r=jS(t),{host:o,port:a}=nF(t),c=a===null?"":`:${a}`;s.config.emulator={url:`${r}//${o}${c}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||sF()}function jS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nF(e){const t=jS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:ry(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:ry(o)}}}function ry(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function sF(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,n){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}async function iF(e,t){return Ha(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(e,t){return ja(e,"POST","/v1/accounts:signInWithPassword",Ua(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(e,t){return ja(e,"POST","/v1/accounts:signInWithEmailLink",Ua(e,t))}async function aF(e,t){return ja(e,"POST","/v1/accounts:signInWithEmailLink",Ua(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Qp{constructor(t,n,s,i=null){super("password",s),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new pa(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new pa(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return rF(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return oF(t,{email:this._email,oobCode:this._password});default:ln(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return iF(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return aF(t,{idToken:n,email:this._email,oobCode:this._password});default:ln(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kr(e,t){return ja(e,"POST","/v1/accounts:signInWithIdp",Ua(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="http://localhost";class Qi extends Qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Qi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:i}=n,r=Gp(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new Qi(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return kr(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,kr(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,kr(t,n)}buildRequest(){const t={requestUri:cF,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=$a(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uF(e){const t=Eo(To(e)).link,n=t?Eo(To(t)).deep_link_id:null,s=Eo(To(e)).deep_link_id;return(s?Eo(To(s)).link:null)||s||n||t||e}class Zp{constructor(t){var n,s,i,r,o,a;const c=Eo(To(t)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(s=c.oobCode)!==null&&s!==void 0?s:null,h=lF((i=c.mode)!==null&&i!==void 0?i:null);ft(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(r=c.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=uF(t);try{return new Zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(t,n){return pa._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Zp.parseLink(n);return ft(s,"argument-error"),pa._fromEmailAndCode(t,s.code,s.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends tg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Va{constructor(){super("facebook.com")}static credential(t){return Qi._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Va{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Qi._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return as.credential(n,s)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Va{constructor(){super("github.com")}static credential(t){return Qi._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Us.credential(t.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Va{constructor(){super("twitter.com")}static credential(t,n){return Qi._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Hs.credential(n,s)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(e,t){return ja(e,"POST","/v1/accounts:signUp",Ua(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,i=!1){const r=await zi._fromIdTokenResponse(t,s,i),o=oy(s);return new Es({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const i=oy(s);return new Es({user:t,providerId:i,_tokenResponse:s,operationType:n})}}function oy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hF(e){var t;const n=ir(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Es({user:n.currentUser,providerId:null,operationType:"signIn"});const s=await VS(n,{returnSecureToken:!0}),i=await Es._fromIdTokenResponse(n,"signIn",s,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Kn{constructor(t,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Ll.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,i){return new Ll(t,n,s,i)}}function zS(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Ll._fromErrorAndOperation(e,r,t,s):r})}async function dF(e,t,n=!1){const s=await da(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Es._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(e,t,n=!1){const{auth:s}=e,i="reauthenticate";try{const r=await da(e,zS(s,i,t,e),n);ft(r.idToken,s,"internal-error");const o=Xp(r.idToken);ft(o,s,"internal-error");const{sub:a}=o;return ft(e.uid===a,s,"user-mismatch"),Es._forOperation(e,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&ln(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(e,t,n=!1){const s="signIn",i=await zS(e,s,t),r=await Es._fromIdTokenResponse(e,s,i);return n||await e._updateCurrentUser(r.user),r}async function pF(e,t){return WS(ir(e),t)}async function gF(e,t,n){const s=ir(e),i=await VS(s,{returnSecureToken:!0,email:t,password:n}),r=await Es._fromIdTokenResponse(s,"signIn",i);return await s._updateCurrentUser(r.user),r}function mF(e,t,n){return pF(di(e),ro.credential(t,n))}function _F(e,t,n,s){return di(e).onIdTokenChanged(t,n,s)}function yF(e,t,n){return di(e).beforeAuthStateChanged(t,n)}const Nl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nl,"1"),this.storage.removeItem(Nl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(){const e=Ne();return Jp(e)||Vu(e)}const vF=1e3,wF=10;class GS extends qS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=bF()&&QN(),this.fallbackToPolling=US(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&t(n,i,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const s=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(s,t.newValue):this.storage.removeItem(s);else if(this.localCache[s]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);JN()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,wF):i()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},vF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}GS.type="LOCAL";const SF=GS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS extends qS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}KS.type="SESSION";const YS=KS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(e){return Promise.all(e.map(async t=>{try{const n=await t;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const s=new zu(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,r)),c=await EF(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,c)=>{const l=eg("",20);i.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(d.data.response);break;default:clearTimeout(u),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function xF(e){Hn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return typeof Hn().WorkerGlobalScope!="undefined"&&typeof Hn().importScripts=="function"}async function kF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CF(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function IF(){return XS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebaseLocalStorageDb",DF=1,Fl="firebaseLocalStorage",QS="fbase_key";class za{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wu(e,t){return e.transaction([Fl],t?"readwrite":"readonly").objectStore(Fl)}function RF(){const e=indexedDB.deleteDatabase(JS);return new za(e).toPromise()}function lf(){const e=indexedDB.open(JS,DF);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Fl,{keyPath:QS})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Fl)?t(s):(s.close(),await RF(),t(await lf()))})})}async function ay(e,t,n){const s=Wu(e,!0).put({[QS]:t,value:n});return new za(s).toPromise()}async function MF(e,t){const n=Wu(e,!1).get(t),s=await new za(n).toPromise();return s===void 0?null:s.value}function cy(e,t){const n=Wu(e,!0).delete(t);return new za(n).toPromise()}const AF=800,OF=3;class ZS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lf(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>OF)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zu._getInstance(IF()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await kF(),!this.activeServiceWorker)return;this.sender=new TF(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);!s||((t=s[0])===null||t===void 0?void 0:t.fulfilled)&&((n=s[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||CF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lf();return await ay(t,Nl,"1"),await cy(t,Nl),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ay(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>MF(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>cy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const r=Wu(i,!1).getAll();return new za(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:i,value:r}of t)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZS.type="LOCAL";const PF=ZS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function NF(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=i=>{const r=Un("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",LF().appendChild(s)})}function FF(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new Ba(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(e,t){return t?hs(t):(ft(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends Qp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return kr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return kr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return kr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function $F(e){return WS(e.auth,new ng(e),e.bypassAuthState)}function BF(e){const{auth:t,user:n}=e;return ft(n,t,"internal-error"),fF(n,new ng(e),e.bypassAuthState)}async function UF(e){const{auth:t,user:n}=e;return ft(n,t,"internal-error"),dF(n,new ng(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(t,n,s,i,r=!1){this.auth=t,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $F;case"linkViaPopup":case"linkViaRedirect":return UF;case"reauthViaPopup":case"reauthViaRedirect":return BF;default:ln(this.auth,"internal-error")}}resolve(t){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=new Ba(2e3,1e4);async function jF(e,t,n){const s=ir(e);MN(e,t,tg);const i=tE(s,n);return new $i(s,"signInViaPopup",t,i).executeNotNull()}class $i extends eE{constructor(t,n,s,i,r){super(t,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,$i.currentPopupAction&&$i.currentPopupAction.cancel(),$i.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ft(t,this.auth,"internal-error"),t}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const t=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$i.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,HF.get())};t()}}$i.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="pendingRedirect",Qc=new Map;class zF extends eE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Qc.get(this.auth._key());if(!t){try{const s=await WF(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Qc.set(this.auth._key(),t)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WF(e,t){const n=KF(t),s=GF(e);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function qF(e,t){Qc.set(e._key(),t)}function GF(e){return hs(e._redirectPersistence)}function KF(e){return Jc(VF,e.config.apiKey,e.name)}async function YF(e,t,n=!1){const s=ir(e),i=tE(s,t),o=await new zF(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=10*60*1e3;class JF{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!QF(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!nE(t)){const i=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XF&&this.cachedEventUids.clear(),this.cachedEventUids.has(ly(t))}saveEventToCache(t){this.cachedEventUids.add(ly(t)),this.lastProcessedEventTime=Date.now()}}function ly(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function nE({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function QF(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nE(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZF(e,t={}){return Ha(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e$=/^https?/;async function n$(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ZF(e);for(const n of t)try{if(s$(n))return}catch{}ln(e,"unauthorized-domain")}function s$(e){const t=cf(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!e$.test(n))return!1;if(t$.test(e))return s===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=new Ba(3e4,6e4);function uy(){const e=Hn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function r$(e){return new Promise((t,n)=>{var s,i,r;function o(){uy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uy(),n(Un(e,"network-request-failed"))},timeout:i$.get()})}if(!((i=(s=Hn().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((r=Hn().gapi)===null||r===void 0)&&r.load)o();else{const a=FF("iframefcb");return Hn()[a]=()=>{gapi.load?o():n(Un(e,"network-request-failed"))},NF(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(t=>{throw Zc=null,t})}let Zc=null;function o$(e){return Zc=Zc||r$(e),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=new Ba(5e3,15e3),c$="__/auth/iframe",l$="emulator/auth/iframe",u$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d$(e){const t=e.config;ft(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Yp(t,l$):`https://${e.config.authDomain}/${c$}`,s={apiKey:t.apiKey,appName:e.name,v:io},i=h$.get(e.config.apiHost);i&&(s.eid=i);const r=e._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${$a(s).slice(1)}`}async function f$(e){const t=await o$(e),n=Hn().gapi;return ft(n,e,"internal-error"),t.open({where:document.body,url:d$(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u$,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=Un(e,"network-request-failed"),a=Hn().setTimeout(()=>{r(o)},a$.get());function c(){Hn().clearTimeout(a),i(s)}s.ping(c).then(c,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g$=500,m$=600,_$="_blank",y$="http://localhost";class hy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b$(e,t,n,s=g$,i=m$){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const c=Object.assign(Object.assign({},p$),{width:s.toString(),height:i.toString(),top:r,left:o}),l=Ne().toLowerCase();n&&(a=LS(l)?_$:n),PS(l)&&(t=t||y$,c.scrollbars="yes");const u=Object.entries(c).reduce((d,[f,m])=>`${d}${f}=${m},`,"");if(XN(l)&&a!=="_self")return v$(t||"",a),new hy(null);const h=window.open(t||"",a,u);ft(h,e,"popup-blocked");try{h.focus()}catch{}return new hy(h)}function v$(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$="__/auth/handler",S$="emulator/auth/handler";function dy(e,t,n,s,i,r){ft(e.config.authDomain,e,"auth-domain-config-required"),ft(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:io,eventId:i};if(t instanceof tg){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",bL(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,l]of Object.entries(r||{}))o[c]=l}if(t instanceof Va){const c=t.getScopes().filter(l=>l!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];return`${E$(e)}?${$a(a).slice(1)}`}function E$({config:e}){return e.emulator?Yp(e,S$):`https://${e.authDomain}/${w$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="webStorageSupport";class T${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YS,this._completeRedirectFn=YF,this._overrideRedirectResult=qF}async _openPopup(t,n,s,i){var r;Ss((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=dy(t,n,s,cf(),i);return b$(t,o,eg())}async _openRedirect(t,n,s,i){return await this._originValidation(t),xF(dy(t,n,s,cf(),i)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Ss(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await f$(t),s=new JF(t);return n.register("authEvent",i=>(ft(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Bh,{type:Bh},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Bh];o!==void 0&&n(!!o),ln(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=n$(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return US()||Jp()||Vu()}}const x$=T$;var fy="@firebase/auth",py="0.21.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);!n||(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function I$(e){Ji(new ci("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:r,authDomain:o}=s.options;return((a,c)=>{ft(r&&!r.includes(":"),"invalid-api-key",{appName:a.name}),ft(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:r,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HS(e)},u=new tF(a,c,l);return ON(u,n),u})(s,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ji(new ci("auth-internal",t=>{const n=ir(t.getProvider("auth").getImmediate());return(s=>new k$(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(fy,py,C$(e)),Bn(fy,py,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=5*60,R$=bS("authIdTokenMaxAge")||D$;let gy=null;const M$=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>R$)return;const i=n==null?void 0:n.token;gy!==i&&(gy=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function A$(e=qp()){const t=ju(e,"auth");if(t.isInitialized())return t.getImmediate();const n=AN(e,{popupRedirectResolver:x$,persistence:[PF,SF,YS]}),s=bS("authTokenSyncURL");if(s){const r=M$(s);yF(n,r,()=>r(n.currentUser)),_F(n,o=>r(o))}const i=_S("auth");return i&&eF(n,`http://${i}`),n}I$("Browser");var O$=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ot,sg=sg||{},gt=O$||self;function $l(){}function qu(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Wa(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function P$(e){return Object.prototype.hasOwnProperty.call(e,Uh)&&e[Uh]||(e[Uh]=++L$)}var Uh="closure_uid_"+(1e9*Math.random()>>>0),L$=0;function N$(e,t,n){return e.call.apply(e.bind,arguments)}function F$(e,t,n){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,s),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Pe(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pe=N$:Pe=F$,Pe.apply(null,arguments)}function Sc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),e.apply(this,s)}}function Ce(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(s,i,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(s,o)}}function fi(){this.s=this.s,this.o=this.o}var $$=0;fi.prototype.s=!1;fi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),$$!=0)&&P$(this)};fi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ig(e){const t=e.length;if(0<t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e[s];return n}return[]}function my(e,t){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(qu(s)){const i=e.length||0,r=s.length||0;e.length=i+r;for(let o=0;o<r;o++)e[i+o]=s[o]}else e.push(s)}}function Le(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var B$=function(){if(!gt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{gt.addEventListener("test",$l,t),gt.removeEventListener("test",$l,t)}catch{}return e}();function Bl(e){return/^[\s\xa0]*$/.test(e)}var _y=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Hh(e,t){return e<t?-1:e>t?1:0}function Gu(){var e=gt.navigator;return e&&(e=e.userAgent)?e:""}function Ln(e){return Gu().indexOf(e)!=-1}function rg(e){return rg[" "](e),e}rg[" "]=$l;function U$(e){var t=V$;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var H$=Ln("Opera"),ga=Ln("Trident")||Ln("MSIE"),iE=Ln("Edge"),uf=iE||ga,rE=Ln("Gecko")&&!(Gu().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge"))&&!(Ln("Trident")||Ln("MSIE"))&&!Ln("Edge"),j$=Gu().toLowerCase().indexOf("webkit")!=-1&&!Ln("Edge");function oE(){var e=gt.document;return e?e.documentMode:void 0}var hf;t:{var jh="",Vh=function(){var e=Gu();if(rE)return/rv:([^\);]+)(\)|;)/.exec(e);if(iE)return/Edge\/([\d\.]+)/.exec(e);if(ga)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(j$)return/WebKit\/(\S+)/.exec(e);if(H$)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Vh&&(jh=Vh?Vh[1]:""),ga){var zh=oE();if(zh!=null&&zh>parseFloat(jh)){hf=String(zh);break t}}hf=jh}var V$={};function z$(){return U$(function(){let e=0;const t=_y(String(hf)).split("."),n=_y("9").split("."),s=Math.max(t.length,n.length);for(let o=0;e==0&&o<s;o++){var i=t[o]||"",r=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i[0].length==0&&r[0].length==0)break;e=Hh(i[1].length==0?0:parseInt(i[1],10),r[1].length==0?0:parseInt(r[1],10))||Hh(i[2].length==0,r[2].length==0)||Hh(i[2],r[2]),i=i[3],r=r[3]}while(e==0)}return 0<=e})}gt.document&&ga&&oE();function ma(e,t){if(Le.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(rE){t:{try{rg(t.nodeName);var i=!0;break t}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:W$[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ma.X.h.call(this)}}Ce(ma,Le);var W$={2:"touch",3:"pen",4:"mouse"};ma.prototype.h=function(){ma.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qa="closure_listenable_"+(1e6*Math.random()|0),q$=0;function G$(e,t,n,s,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!s,this.ha=i,this.key=++q$,this.ba=this.ea=!1}function Ku(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function og(e,t,n){for(const s in e)t.call(n,e[s],s,e)}function aE(e){const t={};for(const n in e)t[n]=e[n];return t}const yy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cE(e,t){let n,s;for(let i=1;i<arguments.length;i++){s=arguments[i];for(n in s)e[n]=s[n];for(let r=0;r<yy.length;r++)n=yy[r],Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}}function Yu(e){this.src=e,this.g={},this.h=0}Yu.prototype.add=function(e,t,n,s,i){var r=e.toString();e=this.g[r],e||(e=this.g[r]=[],this.h++);var o=ff(e,t,s,i);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new G$(t,this.src,r,!!s,i),t.ea=n,e.push(t)),t};function df(e,t){var n=t.type;if(n in e.g){var s=e.g[n],i=sE(s,t),r;(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(Ku(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ff(e,t,n,s){for(var i=0;i<e.length;++i){var r=e[i];if(!r.ba&&r.listener==t&&r.capture==!!n&&r.ha==s)return i}return-1}var ag="closure_lm_"+(1e6*Math.random()|0),Wh={};function lE(e,t,n,s,i){if(s&&s.once)return hE(e,t,n,s,i);if(Array.isArray(t)){for(var r=0;r<t.length;r++)lE(e,t[r],n,s,i);return null}return n=ug(n),e&&e[qa]?e.N(t,n,Wa(s)?!!s.capture:!!s,i):uE(e,t,n,!1,s,i)}function uE(e,t,n,s,i,r){if(!t)throw Error("Invalid event type");var o=Wa(i)?!!i.capture:!!i,a=lg(e);if(a||(e[ag]=a=new Yu(e)),n=a.add(t,n,s,o,r),n.proxy)return n;if(s=K$(),n.proxy=s,s.src=e,s.listener=n,e.addEventListener)B$||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),s,i);else if(e.attachEvent)e.attachEvent(fE(t.toString()),s);else if(e.addListener&&e.removeListener)e.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function K$(){function e(n){return t.call(e.src,e.listener,n)}const t=Y$;return e}function hE(e,t,n,s,i){if(Array.isArray(t)){for(var r=0;r<t.length;r++)hE(e,t[r],n,s,i);return null}return n=ug(n),e&&e[qa]?e.O(t,n,Wa(s)?!!s.capture:!!s,i):uE(e,t,n,!0,s,i)}function dE(e,t,n,s,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)dE(e,t[r],n,s,i);else s=Wa(s)?!!s.capture:!!s,n=ug(n),e&&e[qa]?(e=e.i,t=String(t).toString(),t in e.g&&(r=e.g[t],n=ff(r,n,s,i),-1<n&&(Ku(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete e.g[t],e.h--)))):e&&(e=lg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ff(t,n,s,i)),(n=-1<e?t[e]:null)&&cg(n))}function cg(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[qa])df(t.i,e);else{var n=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(n,s,e.capture):t.detachEvent?t.detachEvent(fE(n),s):t.addListener&&t.removeListener&&t.removeListener(s),(n=lg(t))?(df(n,e),n.h==0&&(n.src=null,t[ag]=null)):Ku(e)}}}function fE(e){return e in Wh?Wh[e]:Wh[e]="on"+e}function Y$(e,t){if(e.ba)e=!0;else{t=new ma(t,this);var n=e.listener,s=e.ha||e.src;e.ea&&cg(e),e=n.call(s,t)}return e}function lg(e){return e=e[ag],e instanceof Yu?e:null}var qh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ug(e){return typeof e=="function"?e:(e[qh]||(e[qh]=function(t){return e.handleEvent(t)}),e[qh])}function Se(){fi.call(this),this.i=new Yu(this),this.P=this,this.I=null}Ce(Se,fi);Se.prototype[qa]=!0;Se.prototype.removeEventListener=function(e,t,n,s){dE(this,e,t,n,s)};function xe(e,t){var n,s=e.I;if(s)for(n=[];s;s=s.I)n.push(s);if(e=e.P,s=t.type||t,typeof t=="string")t=new Le(t,e);else if(t instanceof Le)t.target=t.target||e;else{var i=t;t=new Le(s,e),cE(t,i)}if(i=!0,n)for(var r=n.length-1;0<=r;r--){var o=t.g=n[r];i=Ec(o,s,!0,t)&&i}if(o=t.g=e,i=Ec(o,s,!0,t)&&i,i=Ec(o,s,!1,t)&&i,n)for(r=0;r<n.length;r++)o=t.g=n[r],i=Ec(o,s,!1,t)&&i}Se.prototype.M=function(){if(Se.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],s=0;s<n.length;s++)Ku(n[s]);delete e.g[t],e.h--}}this.I=null};Se.prototype.N=function(e,t,n,s){return this.i.add(String(e),t,!1,n,s)};Se.prototype.O=function(e,t,n,s){return this.i.add(String(e),t,!0,n,s)};function Ec(e,t,n,s){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,r=0;r<t.length;++r){var o=t[r];if(o&&!o.ba&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.ea&&df(e.i,o),i=a.call(c,s)!==!1&&i}}return i&&!s.defaultPrevented}var hg=gt.JSON.stringify;function X$(){var e=mE;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class J${constructor(){this.h=this.g=null}add(t,n){const s=pE.get();s.set(t,n),this.h?this.h.next=s:this.g=s,this.h=s}}var pE=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Q$,e=>e.reset());class Q${constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Z$(e){gt.setTimeout(()=>{throw e},0)}function gE(e,t){pf||tB(),gf||(pf(),gf=!0),mE.add(e,t)}var pf;function tB(){var e=gt.Promise.resolve(void 0);pf=function(){e.then(eB)}}var gf=!1,mE=new J$;function eB(){for(var e;e=X$();){try{e.h.call(e.g)}catch(n){Z$(n)}var t=pE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}gf=!1}function Xu(e,t){Se.call(this),this.h=e||1,this.g=t||gt,this.j=Pe(this.lb,this),this.l=Date.now()}Ce(Xu,Se);ot=Xu.prototype;ot.ca=!1;ot.R=null;ot.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),xe(this,"tick"),this.ca&&(dg(this),this.start()))}};ot.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function dg(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}ot.M=function(){Xu.X.M.call(this),dg(this),delete this.g};function fg(e,t,n){if(typeof e=="function")n&&(e=Pe(e,n));else if(e&&typeof e.handleEvent=="function")e=Pe(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:gt.setTimeout(e,t||0)}function _E(e){e.g=fg(()=>{e.g=null,e.i&&(e.i=!1,_E(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class nB extends fi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:_E(this)}M(){super.M(),this.g&&(gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _a(e){fi.call(this),this.h=e,this.g={}}Ce(_a,fi);var by=[];function yE(e,t,n,s){Array.isArray(n)||(n&&(by[0]=n.toString()),n=by);for(var i=0;i<n.length;i++){var r=lE(t,n[i],s||e.handleEvent,!1,e.h||e);if(!r)break;e.g[r.key]=r}}function bE(e){og(e.g,function(t,n){this.g.hasOwnProperty(n)&&cg(t)},e),e.g={}}_a.prototype.M=function(){_a.X.M.call(this),bE(this)};_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ju(){this.g=!0}Ju.prototype.Aa=function(){this.g=!1};function sB(e,t,n,s,i,r){e.info(function(){if(e.g)if(r)for(var o="",a=r.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+s+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function iB(e,t,n,s,i,r,o){e.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+i+"]: "+t+`
`+n+`
`+r+" "+o})}function br(e,t,n,s){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+oB(e,n)+(s?" "+s:"")})}function rB(e,t){e.info(function(){return"TIMEOUT: "+t})}Ju.prototype.info=function(){};function oB(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var s=n[e];if(!(2>s.length)){var i=s[1];if(Array.isArray(i)&&!(1>i.length)){var r=i[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return hg(n)}catch{return t}}var oo={},vy=null;function pg(){return vy=vy||new Se}oo.Pa="serverreachability";function vE(e){Le.call(this,oo.Pa,e)}Ce(vE,Le);function ya(e){const t=pg();xe(t,new vE(t))}oo.STAT_EVENT="statevent";function wE(e,t){Le.call(this,oo.STAT_EVENT,e),this.stat=t}Ce(wE,Le);function Ve(e){const t=pg();xe(t,new wE(t,e))}oo.Qa="timingevent";function SE(e,t){Le.call(this,oo.Qa,e),this.size=t}Ce(SE,Le);function Ga(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return gt.setTimeout(function(){e()},t)}var gg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},aB={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function mg(){}mg.prototype.h=null;function wy(e){return e.h||(e.h=e.i())}function cB(){}var Ka={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function _g(){Le.call(this,"d")}Ce(_g,Le);function yg(){Le.call(this,"c")}Ce(yg,Le);var mf;function Qu(){}Ce(Qu,mg);Qu.prototype.g=function(){return new XMLHttpRequest};Qu.prototype.i=function(){return{}};mf=new Qu;function Ya(e,t,n,s){this.l=e,this.j=t,this.m=n,this.U=s||1,this.S=new _a(this),this.O=lB,e=uf?125:void 0,this.T=new Xu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new EE}function EE(){this.i=null,this.g="",this.h=!1}var lB=45e3,_f={},Ul={};ot=Ya.prototype;ot.setTimeout=function(e){this.O=e};function yf(e,t,n){e.K=1,e.v=th(Ts(t)),e.s=n,e.P=!0,TE(e,null)}function TE(e,t){e.F=Date.now(),Xa(e),e.A=Ts(e.v);var n=e.A,s=e.U;Array.isArray(s)||(s=[String(s)]),AE(n.i,"t",s),e.C=0,n=e.l.H,e.h=new EE,e.g=ZE(e.l,n?t:null,!e.s),0<e.N&&(e.L=new nB(Pe(e.La,e,e.g),e.N)),yE(e.S,e.g,"readystatechange",e.ib),t=e.H?aE(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),ya(),sB(e.j,e.u,e.A,e.m,e.U,e.s)}ot.ib=function(e){e=e.target;const t=this.L;t&&ds(e)==3?t.l():this.La(e)};ot.La=function(e){try{if(e==this.g)t:{const u=ds(this.g);var t=this.g.Ea();const h=this.g.aa();if(!(3>u)&&(u!=3||uf||this.g&&(this.h.h||this.g.fa()||xy(this.g)))){this.I||u!=4||t==7||(t==8||0>=h?ya(3):ya(2)),Zu(this);var n=this.g.aa();this.Y=n;e:if(xE(this)){var s=xy(this.g);e="";var i=s.length,r=ds(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Bi(this),zo(this);var o="";break e}this.h.i=new gt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:r&&t==i-1});s.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,iB(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){e:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bl(a)){var l=a;break e}}l=null}if(n=l)br(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bf(this,n);else{this.i=!1,this.o=3,Ve(12),Bi(this),zo(this);break t}}this.P?(kE(this,u,o),uf&&this.i&&u==3&&(yE(this.S,this.T,"tick",this.hb),this.T.start())):(br(this.j,this.m,o,null),bf(this,o)),u==4&&Bi(this),this.i&&!this.I&&(u==4?YE(this.l,this):(this.i=!1,Xa(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ve(12)):(this.o=0,Ve(13)),Bi(this),zo(this)}}}catch{}finally{}};function xE(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function kE(e,t,n){let s=!0,i;for(;!e.I&&e.C<n.length;)if(i=uB(e,n),i==Ul){t==4&&(e.o=4,Ve(14),s=!1),br(e.j,e.m,null,"[Incomplete Response]");break}else if(i==_f){e.o=4,Ve(15),br(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}else br(e.j,e.m,i,null),bf(e,i);xE(e)&&i!=Ul&&i!=_f&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Ve(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),xg(t),t.K=!0,Ve(11))):(br(e.j,e.m,n,"[Invalid Chunked Response]"),Bi(e),zo(e))}ot.hb=function(){if(this.g){var e=ds(this.g),t=this.g.fa();this.C<t.length&&(Zu(this),kE(this,e,t),this.i&&e!=4&&Xa(this))}};function uB(e,t){var n=e.C,s=t.indexOf(`
`,n);return s==-1?Ul:(n=Number(t.substring(n,s)),isNaN(n)?_f:(s+=1,s+n>t.length?Ul:(t=t.substr(s,n),e.C=s+n,t)))}ot.cancel=function(){this.I=!0,Bi(this)};function Xa(e){e.V=Date.now()+e.O,CE(e,e.O)}function CE(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ga(Pe(e.gb,e),t)}function Zu(e){e.B&&(gt.clearTimeout(e.B),e.B=null)}ot.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(rB(this.j,this.A),this.K!=2&&(ya(),Ve(17)),Bi(this),this.o=2,zo(this)):CE(this,this.V-e)};function zo(e){e.l.G==0||e.I||YE(e.l,e)}function Bi(e){Zu(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,dg(e.T),bE(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function bf(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||vf(n.h,e))){if(!e.J&&vf(n.h,e)&&n.G==3){try{var s=n.Fa.g.parse(t)}catch{s=null}if(Array.isArray(s)&&s.length==3){var i=s;if(i[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Vl(n),ih(n);else break t;Tg(n),Ve(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Ga(Pe(n.cb,n),6e3));if(1>=LE(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ui(n,11)}else if((e.J||n.g==e)&&Vl(n),!Bl(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.T=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.I=l[1],n.ka=l[2];const u=l[3];u!=null&&(n.ma=u,n.j.info("VER="+n.ma));const h=l[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(s=1.5*d,n.J=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const f=e.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var r=s.h;r.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(bg(r,r.h),r.h=null))}if(s.D){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(s.za=_,Jt(s.F,s.D,_))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),s=n;var o=e;if(s.sa=QE(s,s.H?s.ka:null,s.V),o.J){NE(s.h,o);var a=o,c=s.J;c&&a.setTimeout(c),a.B&&(Zu(a),Xa(a)),s.g=o}else GE(s);0<n.i.length&&rh(n)}else l[0]!="stop"&&l[0]!="close"||Ui(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Ui(n,7):Eg(n):l[0]!="noop"&&n.l&&n.l.wa(l),n.A=0)}}ya(4)}catch{}}function hB(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map!="undefined"&&e instanceof Map||typeof Set!="undefined"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(qu(e)){for(var t=[],n=e.length,s=0;s<n;s++)t.push(e[s]);return t}t=[],n=0;for(s in e)t[n++]=e[s];return t}function dB(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map!="undefined"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set!="undefined"&&e instanceof Set)){if(qu(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const s in e)t[n++]=s;return t}}}function IE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(qu(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=dB(e),s=hB(e),i=s.length,r=0;r<i;r++)t.call(void 0,s[r],n&&n[r],e)}var DE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fB(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),i=null;if(0<=s){var r=e[n].substring(0,s);i=e[n].substring(s+1)}else r=e[n];t(r,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Wi(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Wi){this.h=t!==void 0?t:e.h,Hl(this,e.j),this.s=e.s,this.g=e.g,jl(this,e.m),this.l=e.l,t=e.i;var n=new ba;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Sy(this,n),this.o=e.o}else e&&(n=String(e).match(DE))?(this.h=!!t,Hl(this,n[1]||"",!0),this.s=xo(n[2]||""),this.g=xo(n[3]||"",!0),jl(this,n[4]),this.l=xo(n[5]||"",!0),Sy(this,n[6]||"",!0),this.o=xo(n[7]||"")):(this.h=!!t,this.i=new ba(null,this.h))}Wi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ko(t,Ey,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ko(t,Ey,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ko(n,n.charAt(0)=="/"?mB:gB,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ko(n,yB)),e.join("")};function Ts(e){return new Wi(e)}function Hl(e,t,n){e.j=n?xo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Sy(e,t,n){t instanceof ba?(e.i=t,bB(e.i,e.h)):(n||(t=ko(t,_B)),e.i=new ba(t,e.h))}function Jt(e,t,n){e.i.set(t,n)}function th(e){return Jt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ko(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,pB),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pB(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ey=/[#\/\?@]/g,gB=/[#\?:]/g,mB=/[#\?]/g,_B=/[#\?@]/g,yB=/#/g;function ba(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pi(e){e.g||(e.g=new Map,e.h=0,e.i&&fB(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ot=ba.prototype;ot.add=function(e,t){pi(this),this.i=null,e=ao(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function RE(e,t){pi(e),t=ao(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ME(e,t){return pi(e),t=ao(e,t),e.g.has(t)}ot.forEach=function(e,t){pi(this),this.g.forEach(function(n,s){n.forEach(function(i){e.call(t,i,s,this)},this)},this)};ot.oa=function(){pi(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let s=0;s<t.length;s++){const i=e[s];for(let r=0;r<i.length;r++)n.push(t[s])}return n};ot.W=function(e){pi(this);let t=[];if(typeof e=="string")ME(this,e)&&(t=t.concat(this.g.get(ao(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};ot.set=function(e,t){return pi(this),this.i=null,e=ao(this,e),ME(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ot.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function AE(e,t,n){RE(e,t),0<n.length&&(e.i=null,e.g.set(ao(e,t),ig(n)),e.h+=n.length)}ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var s=t[n];const r=encodeURIComponent(String(s)),o=this.W(s);for(s=0;s<o.length;s++){var i=r;o[s]!==""&&(i+="="+encodeURIComponent(String(o[s]))),e.push(i)}}return this.i=e.join("&")};function ao(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function bB(e,t){t&&!e.j&&(pi(e),e.i=null,e.g.forEach(function(n,s){var i=s.toLowerCase();s!=i&&(RE(this,s),AE(this,i,n))},e)),e.j=t}var vB=class{constructor(e,t){this.h=e,this.g=t}};function OE(e){this.l=e||wB,gt.PerformanceNavigationTiming?(e=gt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(gt.g&&gt.g.Ga&&gt.g.Ga()&&gt.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wB=10;function PE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function LE(e){return e.h?1:e.g?e.g.size:0}function vf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function bg(e,t){e.g?e.g.add(t):e.h=t}function NE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}OE.prototype.cancel=function(){if(this.i=FE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function FE(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return ig(e.i)}function vg(){}vg.prototype.stringify=function(e){return gt.JSON.stringify(e,void 0)};vg.prototype.parse=function(e){return gt.JSON.parse(e,void 0)};function SB(){this.g=new vg}function EB(e,t,n){const s=n||"";try{IE(e,function(i,r){let o=i;Wa(i)&&(o=hg(i)),t.push(s+r+"="+encodeURIComponent(o))})}catch(i){throw t.push(s+"type="+encodeURIComponent("_badmap")),i}}function TB(e,t){const n=new Ju;if(gt.Image){const s=new Image;s.onload=Sc(Tc,n,s,"TestLoadImage: loaded",!0,t),s.onerror=Sc(Tc,n,s,"TestLoadImage: error",!1,t),s.onabort=Sc(Tc,n,s,"TestLoadImage: abort",!1,t),s.ontimeout=Sc(Tc,n,s,"TestLoadImage: timeout",!1,t),gt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=e}else t(!1)}function Tc(e,t,n,s,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(s)}catch{}}function eh(e){this.l=e.ac||null,this.j=e.jb||!1}Ce(eh,mg);eh.prototype.g=function(){return new nh(this.l,this.j)};eh.prototype.i=function(e){return function(){return e}}({});function nh(e,t){Se.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ce(nh,Se);var wg=0;ot=nh.prototype;ot.open=function(e,t){if(this.readyState!=wg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,va(this)};ot.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||gt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=wg};ot.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof gt.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$E(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function $E(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}ot.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ja(this):va(this),this.readyState==3&&$E(this)}};ot.Va=function(e){this.g&&(this.response=this.responseText=e,Ja(this))};ot.Ua=function(e){this.g&&(this.response=e,Ja(this))};ot.ga=function(){this.g&&Ja(this)};function Ja(e){e.readyState=4,e.l=null,e.j=null,e.A=null,va(e)}ot.setRequestHeader=function(e,t){this.v.append(e,t)};ot.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ot.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function va(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(nh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var xB=gt.JSON.parse;function he(e){Se.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=BE,this.K=this.L=!1}Ce(he,Se);var BE="",kB=/^https?$/i,CB=["POST","PUT"];ot=he.prototype;ot.Ka=function(e){this.L=e};ot.da=function(e,t,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mf.g(),this.C=this.u?wy(this.u):wy(mf),this.g.onreadystatechange=Pe(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(r){Ty(this,r);return}if(e=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var i in s)n.set(i,s[i]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const r of s.keys())n.set(r,s.get(r));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),i=gt.FormData&&e instanceof gt.FormData,!(0<=sE(CB,t))||s||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jE(this),0<this.B&&((this.K=IB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pe(this.qa,this)):this.A=fg(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(r){Ty(this,r)}};function IB(e){return ga&&z$()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}ot.qa=function(){typeof sg!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xe(this,"timeout"),this.abort(8))};function Ty(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,UE(e),sh(e)}function UE(e){e.D||(e.D=!0,xe(e,"complete"),xe(e,"error"))}ot.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xe(this,"complete"),xe(this,"abort"),sh(this))};ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sh(this,!0)),he.X.M.call(this)};ot.Ha=function(){this.s||(this.F||this.v||this.l?HE(this):this.fb())};ot.fb=function(){HE(this)};function HE(e){if(e.h&&typeof sg!="undefined"&&(!e.C[1]||ds(e)!=4||e.aa()!=2)){if(e.v&&ds(e)==4)fg(e.Ha,0,e);else if(xe(e,"readystatechange"),ds(e)==4){e.h=!1;try{const a=e.aa();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var s;if(s=a===0){var i=String(e.H).match(DE)[1]||null;if(!i&&gt.self&&gt.self.location){var r=gt.self.location.protocol;i=r.substr(0,r.length-1)}s=!kB.test(i?i.toLowerCase():"")}n=s}if(n)xe(e,"complete"),xe(e,"success");else{e.m=6;try{var o=2<ds(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",UE(e)}}finally{sh(e)}}}}function sh(e,t){if(e.g){jE(e);const n=e.g,s=e.C[0]?$l:null;e.g=null,e.C=null,t||xe(e,"ready");try{n.onreadystatechange=s}catch{}}}function jE(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(gt.clearTimeout(e.A),e.A=null)}function ds(e){return e.g?e.g.readyState:0}ot.aa=function(){try{return 2<ds(this)?this.g.status:-1}catch{return-1}};ot.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};ot.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),xB(t)}};function xy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case BE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ot.Ea=function(){return this.m};ot.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function VE(e){let t="";return og(e,function(n,s){t+=s,t+=":",t+=n,t+=`\r
`}),t}function Sg(e,t,n){t:{for(s in n){var s=!1;break t}s=!0}s||(n=VE(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Jt(e,t,n))}function fo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zE(e){this.Ca=0,this.i=[],this.j=new Ju,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=fo("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=fo("baseRetryDelayMs",5e3,e),this.bb=fo("retryDelaySeedMs",1e4,e),this.$a=fo("forwardChannelMaxRetries",2,e),this.ta=fo("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new OE(e&&e.concurrentRequestLimit),this.Fa=new SB,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}ot=zE.prototype;ot.ma=8;ot.G=1;function Eg(e){if(WE(e),e.G==3){var t=e.U++,n=Ts(e.F);Jt(n,"SID",e.I),Jt(n,"RID",t),Jt(n,"TYPE","terminate"),Qa(e,n),t=new Ya(e,e.j,t,void 0),t.K=2,t.v=th(Ts(n)),n=!1,gt.navigator&&gt.navigator.sendBeacon&&(n=gt.navigator.sendBeacon(t.v.toString(),"")),!n&&gt.Image&&(new Image().src=t.v,n=!0),n||(t.g=ZE(t.l,null),t.g.da(t.v)),t.F=Date.now(),Xa(t)}JE(e)}function ih(e){e.g&&(xg(e),e.g.cancel(),e.g=null)}function WE(e){ih(e),e.u&&(gt.clearTimeout(e.u),e.u=null),Vl(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&gt.clearTimeout(e.m),e.m=null)}function rh(e){PE(e.h)||e.m||(e.m=!0,gE(e.Ja,e),e.C=0)}function DB(e,t){return LE(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=Ga(Pe(e.Ja,e,t),XE(e,e.C)),e.C++,!0)}ot.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Ya(this,this.j,e,void 0);let r=this.s;if(this.S&&(r?(r=aE(r),cE(r,this.S)):r=this.S),this.o!==null||this.N||(i.H=r,r=null),this.O)t:{for(var t=0,n=0;n<this.i.length;n++){e:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break e}s=void 0}if(s===void 0)break;if(t+=s,4096<t){t=n;break t}if(t===4096||n===this.i.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=qE(this,i,t),n=Ts(this.F),Jt(n,"RID",e),Jt(n,"CVER",22),this.D&&Jt(n,"X-HTTP-Session-Id",this.D),Qa(this,n),r&&(this.N?t="headers="+encodeURIComponent(String(VE(r)))+"&"+t:this.o&&Sg(n,this.o,r)),bg(this.h,i),this.Ya&&Jt(n,"TYPE","init"),this.O?(Jt(n,"$req",t),Jt(n,"SID","null"),i.Z=!0,yf(i,n,null)):yf(i,n,t),this.G=2}}else this.G==3&&(e?ky(this,e):this.i.length==0||PE(this.h)||ky(this))};function ky(e,t){var n;t?n=t.m:n=e.U++;const s=Ts(e.F);Jt(s,"SID",e.I),Jt(s,"RID",n),Jt(s,"AID",e.T),Qa(e,s),e.o&&e.s&&Sg(s,e.o,e.s),n=new Ya(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=qE(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),bg(e.h,n),yf(n,s,t)}function Qa(e,t){e.ia&&og(e.ia,function(n,s){Jt(t,s,n)}),e.l&&IE({},function(n,s){Jt(t,s,n)})}function qE(e,t,n){n=Math.min(e.i.length,n);var s=e.l?Pe(e.l.Ra,e.l,e):null;t:{var i=e.i;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=i[0].h,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let c=0;c<n;c++){let l=i[c].h;const u=i[c].g;if(l-=r,0>l)r=Math.max(0,i[c].h-100),a=!1;else try{EB(u,o,"req"+l+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break t}}}return e=e.i.splice(0,n),t.D=e,s}function GE(e){e.g||e.u||(e.Z=1,gE(e.Ia,e),e.A=0)}function Tg(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=Ga(Pe(e.Ia,e),XE(e,e.A)),e.A++,!0)}ot.Ia=function(){if(this.u=null,KE(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Ga(Pe(this.eb,this),e)}};ot.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ve(10),ih(this),KE(this))};function xg(e){e.B!=null&&(gt.clearTimeout(e.B),e.B=null)}function KE(e){e.g=new Ya(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Ts(e.sa);Jt(t,"RID","rpc"),Jt(t,"SID",e.I),Jt(t,"CI",e.L?"0":"1"),Jt(t,"AID",e.T),Jt(t,"TYPE","xmlhttp"),Qa(e,t),e.o&&e.s&&Sg(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=th(Ts(t)),n.s=null,n.P=!0,TE(n,e)}ot.cb=function(){this.v!=null&&(this.v=null,ih(this),Tg(this),Ve(19))};function Vl(e){e.v!=null&&(gt.clearTimeout(e.v),e.v=null)}function YE(e,t){var n=null;if(e.g==t){Vl(e),xg(e),e.g=null;var s=2}else if(vf(e.h,t))n=t.D,NE(e.h,t),s=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(s==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;s=pg(),xe(s,new SE(s,n)),rh(e)}else GE(e);else if(i=t.o,i==3||i==0&&0<e.pa||!(s==1&&DB(e,t)||s==2&&Tg(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ui(e,5);break;case 4:Ui(e,10);break;case 3:Ui(e,6);break;default:Ui(e,2)}}}function XE(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ui(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var s=Pe(e.kb,e);n||(n=new Wi("//www.google.com/images/cleardot.gif"),gt.location&&gt.location.protocol=="http"||Hl(n,"https"),th(n)),TB(n.toString(),s)}else Ve(2);e.G=0,e.l&&e.l.va(t),JE(e),WE(e)}ot.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function JE(e){if(e.G=0,e.la=[],e.l){const t=FE(e.h);(t.length!=0||e.i.length!=0)&&(my(e.la,t),my(e.la,e.i),e.h.i.length=0,ig(e.i),e.i.length=0),e.l.ua()}}function QE(e,t,n){var s=n instanceof Wi?Ts(n):new Wi(n,void 0);if(s.g!="")t&&(s.g=t+"."+s.g),jl(s,s.m);else{var i=gt.location;s=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var r=new Wi(null,void 0);s&&Hl(r,s),t&&(r.g=t),i&&jl(r,i),n&&(r.l=n),s=r}return n=e.D,t=e.za,n&&t&&Jt(s,n,t),Jt(s,"VER",e.ma),Qa(e,s),s}function ZE(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new he(new eh({jb:!0})):new he(e.ra),t.Ka(e.H),t}function tT(){}ot=tT.prototype;ot.xa=function(){};ot.wa=function(){};ot.va=function(){};ot.ua=function(){};ot.Ra=function(){};function un(e,t){Se.call(this),this.g=new zE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Bl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Bl(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new co(this)}Ce(un,Se);un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Ve(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=QE(e,null,e.V),rh(e)};un.prototype.close=function(){Eg(this.g)};un.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=hg(e),e=n);t.i.push(new vB(t.ab++,e)),t.G==3&&rh(t)};un.prototype.M=function(){this.g.l=null,delete this.j,Eg(this.g),delete this.g,un.X.M.call(this)};function eT(e){_g.call(this);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ce(eT,_g);function nT(){yg.call(this),this.status=1}Ce(nT,yg);function co(e){this.g=e}Ce(co,tT);co.prototype.xa=function(){xe(this.g,"a")};co.prototype.wa=function(e){xe(this.g,new eT(e))};co.prototype.va=function(e){xe(this.g,new nT)};co.prototype.ua=function(){xe(this.g,"b")};un.prototype.send=un.prototype.u;un.prototype.open=un.prototype.m;un.prototype.close=un.prototype.close;gg.NO_ERROR=0;gg.TIMEOUT=8;gg.HTTP_ERROR=6;aB.COMPLETE="complete";cB.EventType=Ka;Ka.OPEN="a";Ka.CLOSE="b";Ka.ERROR="c";Ka.MESSAGE="d";Se.prototype.listen=Se.prototype.N;he.prototype.listenOnce=he.prototype.O;he.prototype.getLastError=he.prototype.Oa;he.prototype.getLastErrorCode=he.prototype.Ea;he.prototype.getStatus=he.prototype.aa;he.prototype.getResponseJson=he.prototype.Sa;he.prototype.getResponseText=he.prototype.fa;he.prototype.send=he.prototype.da;he.prototype.setWithCredentials=he.prototype.Ka;const Cy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Re.UNAUTHENTICATED=new Re(null),Re.GOOGLE_CREDENTIALS=new Re("google-credentials-uid"),Re.FIRST_PARTY=new Re("first-party-uid"),Re.MOCK_USER=new Re("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="9.17.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new zp("@firebase/firestore");function tn(e,...t){if(Ur.logLevel<=Bt.DEBUG){const n=t.map(Cg);Ur.debug(`Firestore (${Za}): ${e}`,...n)}}function kg(e,...t){if(Ur.logLevel<=Bt.ERROR){const n=t.map(Cg);Ur.error(`Firestore (${Za}): ${e}`,...n)}}function RB(e,...t){if(Ur.logLevel<=Bt.WARN){const n=t.map(Cg);Ur.warn(`Firestore (${Za}): ${e}`,...n)}}function Cg(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(e="Unexpected state"){const t=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: `+e;throw kg(t),new Error(t)}function zl(e,t){e||Ig()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nn extends Kn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class MB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Re.UNAUTHENTICATED))}shutdown(){}}class AB{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OB{constructor(t){this.t=t,this.currentUser=Re.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let s=this.i;const i=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let r=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Cr,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=r;t.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{tn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(tn("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Cr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(tn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(zl(typeof s.accessToken=="string"),new sT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return zl(t===null||typeof t=="string"),new Re(t)}}class PB{constructor(t,n,s,i){this.h=t,this.l=n,this.m=s,this.g=i,this.type="FirstParty",this.user=Re.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(zl(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class LB{constructor(t,n,s,i){this.h=t,this.l=n,this.m=s,this.g=i}getToken(){return Promise.resolve(new PB(this.h,this.l,this.m,this.g))}start(t,n){t.enqueueRetryable(()=>n(Re.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NB{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FB{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,n){const s=r=>{r.error!=null&&tn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.A;return this.A=r.token,tn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>s(r))};const i=r=>{tn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.T.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.T.getImmediate({optional:!0});r?i(r):tn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(zl(typeof n.token=="string"),this.A=n.token,new NB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(e){const t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const i=$B(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=t.charAt(i[r]%t.length))}return s}}function iT(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(t,n,s,i,r,o,a,c){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class Wl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Wl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iy,Ct;(Ct=Iy||(Iy={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";function Gh(){return typeof document!="undefined"?document:null}class HB{constructor(t,n,s=1e3,i=1.5,r=6e4){this.Hs=t,this.timerId=n,this.mo=s,this.yo=i,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const n=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-s);i>0&&tn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t,n,s,i,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,s,i,r){const o=Date.now()+s,a=new Dg(t,n,o,i,r);return a.start(s),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nn(en.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jB(e,t){if(kg("AsyncQueue",`${t}: ${e}`),iT(e))return new nn(en.UNAVAILABLE,`${t}: ${e}`);throw e}function VB(e,t,n,s){if(t===!0&&s===!0)throw new nn(en.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function zB(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ig()}function WB(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new nn(en.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zB(e);throw new nn(en.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=new Map;class Ry{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new nn(en.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new nn(en.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,VB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t,n,s,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ry({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new nn(en.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new nn(en.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ry(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new MB;switch(n.type){case"gapi":const s=n.client;return new LB(s,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new nn(en.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Dy.get(t);n&&(tn("ComponentProvider","Removing Datastore"),Dy.delete(t),n.terminate())}(this),Promise.resolve()}}function qB(e,t,n,s={}){var i;const r=(e=WB(e,rT))._getSettings();if(r.host!=="firestore.googleapis.com"&&r.host!==t&&RB("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:`${t}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=Re.MOCK_USER;else{o=vS(s.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const c=s.mockUserToken.sub||s.mockUserToken.user_id;if(!c)throw new nn(en.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Re(c)}e._authCredentials=new AB(new sT(o,a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(t,n,s,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=Re.UNAUTHENTICATED,this.clientId=BB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async r=>{tn("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(s,r=>(tn("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new nn(en.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=jB(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}class KB{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new HB(this,"async_queue_retry"),this.Wc=()=>{const n=Gh();n&&tn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const t=Gh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const n=Gh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Cr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(t){if(!iT(t))throw t;tn("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(t){const n=this.Bc.then(()=>(this.Gc=!0,t().catch(s=>{this.Kc=s,this.Gc=!1;const i=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(s);throw kg("INTERNAL UNHANDLED ERROR: ",i),s}).then(s=>(this.Gc=!1,s))));return this.Bc=n,n}enqueueAfterDelay(t,n,s){this.zc(),this.jc.indexOf(t)>-1&&(n=0);const i=Dg.createAndSchedule(this,t,n,s,r=>this.Yc(r));return this.Uc.push(i),i}zc(){this.Kc&&Ig()}verifyOperationInProgress(){}async Xc(){let t;do t=this.Bc,await t;while(t!==this.Bc)}Zc(t){for(const n of this.Uc)if(n.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const n=this.Uc.indexOf(t);this.Uc.splice(n,1)}}class YB extends rT{constructor(t,n,s,i){super(t,n,s,i),this.type="firestore",this._queue=new KB,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||JB(this),this._firestoreClient.terminate()}}function XB(e,t){const n=typeof e=="object"?e:qp(),s=typeof e=="string"?e:t||"(default)",i=ju(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=yS("firestore");r&&qB(i,...r)}return i}function JB(e){var t;const n=e._freezeSettings(),s=function(i,r,o,a){return new UB(i,r,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new GB(e._authCredentials,e._appCheckCredentials,e._queue,s)}(function(e,t=!0){(function(n){Za=n})(io),Ji(new ci("firestore",(n,{instanceIdentifier:s,options:i})=>{const r=n.getProvider("app").getImmediate(),o=new YB(new OB(n.getProvider("auth-internal")),new FB(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new nn(en.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(a.options.projectId,c)}(r,s),r);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Bn(Cy,"3.8.3",e),Bn(Cy,"3.8.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="firebasestorage.googleapis.com",QB="storageBucket",ZB=2*60*1e3,tU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends Kn{constructor(t,n,s=0){super(Kh(t),`Firebase Storage: ${n} (${Kh(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Kh(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qn||(qn={}));function Kh(e){return"storage/"+e}function eU(){const e="An unknown error occurred, please check the error payload for server response.";return new Yn(qn.UNKNOWN,e)}function nU(){return new Yn(qn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sU(){return new Yn(qn.CANCELED,"User canceled the upload/download.")}function iU(e){return new Yn(qn.INVALID_URL,"Invalid URL '"+e+"'.")}function rU(e){return new Yn(qn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function My(e){return new Yn(qn.INVALID_ARGUMENT,e)}function aT(){return new Yn(qn.APP_DELETED,"The Firebase app was deleted.")}function oU(e){return new Yn(qn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=gn.makeFromUrl(t,n)}catch{return new gn(t,"")}if(s.path==="")return s;throw rU(t)}static makeFromUrl(t,n){let s=null;const i="([A-Za-z0-9.\\-_]+)";function r(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${i}/o${d}`,"i"),m={bucket:1,path:3},_=n===oT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",E=new RegExp(`^https?://${_}/${i}/${b}`,"i"),k=[{regex:a,indices:c,postModify:r},{regex:f,indices:m,postModify:l},{regex:E,indices:{bucket:1,path:2},postModify:l}];for(let C=0;C<k.length;C++){const R=k[C],A=R.regex.exec(t);if(A){const D=A[R.indices.bucket];let M=A[R.indices.path];M||(M=""),s=new gn(D,M),R.postModify(s);break}}if(s==null)throw iU(t);return s}}class aU{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(e,t,n){let s=1,i=null,r=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...b){l||(l=!0,t.apply(null,b))}function h(b){i=setTimeout(()=>{i=null,e(f,c())},b)}function d(){r&&clearTimeout(r)}function f(b,...E){if(l){d();return}if(b){d(),u.call(null,b,...E);return}if(c()||o){d(),u.call(null,b,...E);return}s<64&&(s*=2);let k;a===1?(a=2,k=0):k=(s+Math.random())*1e3,h(k)}let m=!1;function _(b){m||(m=!0,d(),!l&&(i!==null?(b||(a=2),clearTimeout(i),h(0)):b||(a=1)))}return h(0),r=setTimeout(()=>{o=!0,_(!0)},n),_}function lU(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(e){return e!==void 0}function Ay(e,t,n,s){if(s<t)throw My(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw My(`Invalid value for '${e}'. Expected ${n} or less.`)}function hU(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const i=t(s)+"="+t(e[s]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ql;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ql||(ql={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,r=t.indexOf(e)!==-1;return n||i||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(t,n,s,i,r,o,a,c,l,u,h,d=!0){this.url_=t,this.method_=n,this.headers_=s,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const t=(s,i)=>{if(i){s(!1,new xc(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=a=>{const c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const a=r.getErrorCode()===ql.NO_ERROR,c=r.getStatus();if(!a||dU(c,this.additionalRetryCodes_)&&this.retry){const u=r.getErrorCode()===ql.ABORT;s(!1,new xc(!1,null,u));return}const l=this.successCodes_.indexOf(c)!==-1;s(!0,new xc(l,r))})},n=(s,i)=>{const r=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());uU(c)?r(c):r()}catch(c){o(c)}else if(a!==null){const c=eU();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?aT():sU();o(c)}else{const c=nU();o(c)}};this.canceled_?n(!1,new xc(!1,null,!0)):this.backoffId_=cU(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&lU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xc{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function pU(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function gU(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function mU(e,t){t&&(e["X-Firebase-GMPID"]=t)}function _U(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function yU(e,t,n,s,i,r,o=!0){const a=hU(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return mU(l,t),pU(l,n),gU(l,r),_U(l,s),new fU(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function vU(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t,n){this._service=t,n instanceof gn?this._location=n:this._location=gn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Gl(t,n)}get root(){const t=new gn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vU(this._location.path)}get storage(){return this._service}get parent(){const t=bU(this._location.path);if(t===null)return null;const n=new gn(this._location.bucket,t);return new Gl(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw oU(t)}}function Oy(e,t){const n=t==null?void 0:t[QB];return n==null?null:gn.makeFromBucketSpec(n,e)}function wU(e,t,n,s={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=s;i&&(e._overrideAuthToken=typeof i=="string"?i:vS(i,e.app.options.projectId))}class SU{constructor(t,n,s,i,r){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=oT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZB,this._maxUploadRetryTime=tU,this._requests=new Set,i!=null?this._bucket=gn.makeFromBucketSpec(i,this._host):this._bucket=Oy(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,t):this._bucket=Oy(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Ay("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Ay("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Gl(this,t)}_makeRequest(t,n,s,i,r=!0){if(this._deleted)return new aU(aT());{const o=yU(t,this._appId,s,i,n,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[s,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,i).getPromise()}}const Py="@firebase/storage",Ly="0.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="storage";function EU(e=qp(),t){e=di(e);const s=ju(e,cT).getImmediate({identifier:t}),i=yS("storage");return i&&TU(s,...i),s}function TU(e,t,n,s={}){wU(e,t,n,s)}function xU(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new SU(n,s,i,t,io)}function kU(){Ji(new ci(cT,xU,"PUBLIC").setMultipleInstances(!0)),Bn(Py,Ly,""),Bn(Py,Ly,"esm2017")}kU();const CU={apiKey:"AIzaSyAjFwD4yxlxQhu-BH_s6GBkN4mmsk4wJkg",authDomain:"crohns-food-tracker.firebaseapp.com",projectId:"crohns-food-tracker",storageBucket:"crohns-food-tracker.appspot.com",messagingSenderId:"214611572141",appId:"1:214611572141:web:9004ff3e3531e9f8ae5d24",measurementId:"G-0RV46C1JM5"},Rg=ES(CU);let Ee=A$(Rg);Ee.createUserWithEmailAndPassword=gF;Ee.signInWithEmailAndPassword=mF;Ee.signInAnonymously=hF;Ee.signInWithPopup=jF;Ee.GoogleAuthProvider=as;XB(Rg);EU(Rg);const An=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE"});class IU{constructor(t){this.message=t}}const Ms=Qr("errorStore",{state:()=>({errorMessage:null}),actions:{setError(e){this.errorMessage===null&&(this.errorMessage=new IU(e))},resetErrorMessage(){this.errorMessage=null}}});class vt{static displayGenericError(){console.log("Error occurred. Please try again.")}static handleUserAuthError(t,n){Ms().setError("Error occurred during user authentication. Please try again."),hn(n,{tags:{operation:"Authentication"},extra:{user:t}})}static handleGetAllError(t,n,s){Ms().setError("Error retrieving data. Please try again."),hn(s,{tags:{operation:An.GET,itemType:n},extra:{userAuthToken:t}})}static handleGetByIdError(t,n,s,i){Ms().setError("Error retrieving data. Please try again."),hn(i,{tags:{operation:An.GET,itemType:n},extra:{userAuthToken:t}})}static handleAddError(t,n,s,i){Ms().setError(`Error updating ${n}s. Please try again.`),hn(i,{tags:{operation:An.POST,itemType:n},extra:{items:s,userAuthToken:t}})}static handleUpdateError(t,n,s,i){Ms().setError(`Error updating ${n}. Please try again.`),hn(i,{tags:{operation:An.PUT,itemType:n},extra:{item:s,userAuthToken:t}})}static handleDeleteError(t,n,s,i){Ms().setError(`Error deleting ${n}s. Please try again.`),hn(i,{tags:{operation:An.GET,itemType:n},extra:{items:s,userAuthToken:t}})}static handleChartError(t,n,s,i){Ms().setError("Error editing chart. Please try again."),hn(i,{tags:{operation:An.GET,chartType:n},extra:{chart:s,userAuthToken:t}})}}const gi=Qr("userStore",{state:()=>({user:null,isLoading:!1}),getters:{isLoggedIn:e=>e.user!==null},actions:{async initalizeAuthListener(){this.isLoading=!0,await Ee.onAuthStateChanged(e=>{this.user=e||null,this.isLoading=!1})},async getAccessToken(){try{return this.user?await this.user.getIdToken():null}catch(e){vt.handleUserAuthError(this.user,e)}},async registerUser(e,t){try{await Ee.createUserWithEmailAndPassword(Ee,e,t)}catch(n){vt.handleUserAuthError(this.user,n)}},async loginUser(e,t){try{await Ee.signInWithEmailAndPassword(Ee,e,t)}catch(n){vt.handleUserAuthError(this.user,n)}},async loginUserAnonymously(){try{await Ee.signInAnonymously(Ee)}catch(e){vt.handleUserAuthError(this.user,e)}},async loginUserGoogle(){try{await Ee.signInWithPopup(Ee,new Ee.GoogleAuthProvider)}catch(e){vt.handleUserAuthError(this.user,e)}},async logoutUser(){try{await Ee.signOut()}catch(e){vt.handleUserAuthError(this.user,e)}}}});var DU="/assets/beaver.c7d98d25.png",pe=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n};const oh=e=>(Xr("data-v-18c52b15"),e=e(),Jr(),e),RU={class:"container"},MU={class:"flex-column primary-background-color"},AU=oh(()=>z("label",{id:"email-label",for:"email-input"},[z("b",null,"Email")],-1)),OU=oh(()=>z("label",{id:"password-label",for:"password-input"},[z("b",null,"Password")],-1)),PU={key:0,id:"confirm-password-label",for:"confirm-password-input"},LU=oh(()=>z("b",null,"Confirm Password",-1)),NU=[LU],FU={key:2,class:"error-text"},$U={class:"link-container"},BU=oh(()=>z("a",{href:"#"},"Forgot password?",-1)),UU={class:"flex-column"},HU=["src"],jU={__name:"Login",setup(e){const t=gi(),n=oe(!1),s=oe(!1),i=oe(!1);let r={email:"",password:"",confirmPassword:""};async function o(){i.value="",await t.loginUserAnonymously()}async function a(){s.value=!0,i.value="";try{if(n.value)if(r.confirmPassword&&r.password===r.confirmPassword)t.registerUser(r.email,r.password);else throw new Error("Passwords do not match");else t.loginUser(r.email,r.password)}catch(u){i.value=u.message}s.value=!1}async function c(){i.value="";try{await t.loginUserGoogle()}catch(u){i.value=u.message}}function l(){n.value=!n.value}return(u,h)=>(q(),Z("div",RU,[z("div",MU,[z("h1",null,re(n.value?"Create Your Account":"Logo"),1),AU,je(z("input",{type:"email",id:"email-input",placeholder:"Enter email","onUpdate:modelValue":h[0]||(h[0]=d=>rt(r).email=d),required:""},null,512),[[ys,rt(r).email]]),OU,je(z("input",{type:"password",id:"password-input",placeholder:"Enter password","onUpdate:modelValue":h[1]||(h[1]=d=>rt(r).password=d),required:""},null,512),[[ys,rt(r).password]]),n.value?(q(),Z("label",PU,NU)):Rt("",!0),n.value?je((q(),Z("input",{key:1,type:"password",id:"confirm-password-input",placeholder:"Enter password","onUpdate:modelValue":h[2]||(h[2]=d=>rt(r).confirmPassword=d),required:""},null,512)),[[ys,rt(r).confirmPassword]]):Rt("",!0),z("button",{onClick:h[3]||(h[3]=d=>a()),class:"default-button"},re(n.value?"Register":"Login"),1),z("button",{class:"accent-button",onClick:h[4]||(h[4]=d=>l())},re(n.value?"Already have an account?":"Don't have an account?"),1),z("button",{class:"default-button",onClick:h[5]||(h[5]=d=>c())},re(n.value?"Sign up with Google":"Sign in with Google"),1),i.value?(q(),Z("p",FU,re(i.value),1)):Rt("",!0),z("div",$U,[BU,z("a",{href:"#",onClick:h[6]||(h[6]=d=>o())},"Try it out?")])]),z("div",UU,[z("img",{src:rt(DU)},null,8,HU)])]))}};var lT=pe(jU,[["__scopeId","data-v-18c52b15"]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const pr=typeof window!="undefined";function VU(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const $t=Object.assign;function Yh(e,t){const n={};for(const s in t){const i=t[s];n[s]=wn(i)?i.map(e):e(i)}return n}const Wo=()=>{},wn=Array.isArray,zU=/\/$/,WU=e=>e.replace(zU,"");function Xh(e,t,n="/"){let s,i={},r="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,a>-1?a:t.length),i=e(r)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=YU(s!=null?s:t,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:o}}function qU(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ny(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function GU(e,t,n){const s=t.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Hr(t.matched[s],n.matched[i])&&uT(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Hr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function uT(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!KU(e[n],t[n]))return!1;return!0}function KU(e,t){return wn(e)?Fy(e,t):wn(t)?Fy(t,e):e===t}function Fy(e,t){return wn(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function YU(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/");let i=n.length-1,r,o;for(r=0;r<s.length;r++)if(o=s[r],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(r-(r===s.length?1:0)).join("/")}var wa;(function(e){e.pop="pop",e.push="push"})(wa||(wa={}));var qo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(qo||(qo={}));function XU(e){if(!e)if(pr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),WU(e)}const JU=/^[^#]+#/;function QU(e,t){return e.replace(JU,"#")+t}function ZU(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const ah=()=>({left:window.pageXOffset,top:window.pageYOffset});function tH(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=ZU(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function $y(e,t){return(history.state?history.state.position-t:-1)+e}const wf=new Map;function eH(e,t){wf.set(e,t)}function nH(e){const t=wf.get(e);return wf.delete(e),t}let sH=()=>location.protocol+"//"+location.host;function hT(e,t){const{pathname:n,search:s,hash:i}=t,r=e.indexOf("#");if(r>-1){let a=i.includes(e.slice(r))?e.slice(r).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),Ny(c,"")}return Ny(n,e)+s+i}function iH(e,t,n,s){let i=[],r=[],o=null;const a=({state:d})=>{const f=hT(e,location),m=n.value,_=t.value;let b=0;if(d){if(n.value=f,t.value=d,o&&o===m){o=null;return}b=_?d.position-_.position:0}else s(f);i.forEach(E=>{E(n.value,m,{delta:b,type:wa.pop,direction:b?b>0?qo.forward:qo.back:qo.unknown})})};function c(){o=n.value}function l(d){i.push(d);const f=()=>{const m=i.indexOf(d);m>-1&&i.splice(m,1)};return r.push(f),f}function u(){const{history:d}=window;!d.state||d.replaceState($t({},d.state,{scroll:ah()}),"")}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:h}}function By(e,t,n,s=!1,i=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:i?ah():null}}function rH(e){const{history:t,location:n}=window,s={value:hT(e,n)},i={value:t.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,l,u){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:sH()+e+c;try{t[u?"replaceState":"pushState"](l,"",d),i.value=l}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function o(c,l){const u=$t({},t.state,By(i.value.back,c,i.value.forward,!0),l,{position:i.value.position});r(c,u,!0),s.value=c}function a(c,l){const u=$t({},i.value,t.state,{forward:c,scroll:ah()});r(u.current,u,!0);const h=$t({},By(s.value,c,null),{position:u.position+1},l);r(c,h,!1),s.value=c}return{location:s,state:i,push:a,replace:o}}function oH(e){e=XU(e);const t=rH(e),n=iH(e,t.state,t.location,t.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=$t({location:"",base:e,go:s,createHref:QU.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function aH(e){return typeof e=="string"||e&&typeof e=="object"}function dT(e){return typeof e=="string"||typeof e=="symbol"}const Rs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},fT=Symbol("");var Uy;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Uy||(Uy={}));function jr(e,t){return $t(new Error,{type:e,[fT]:!0},t)}function Xn(e,t){return e instanceof Error&&fT in e&&(t==null||!!(e.type&t))}const Hy="[^/]+?",cH={sensitive:!1,strict:!1,start:!0,end:!0},lH=/[.+*?^${}()[\]/\\]/g;function uH(e,t){const n=$t({},cH,t),s=[];let i=n.start?"^":"";const r=[];for(const l of e){const u=l.length?[]:[90];n.strict&&!l.length&&(i+="/");for(let h=0;h<l.length;h++){const d=l[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(i+="/"),i+=d.value.replace(lH,"\\$&"),f+=40;else if(d.type===1){const{value:m,repeatable:_,optional:b,regexp:E}=d;r.push({name:m,repeatable:_,optional:b});const x=E||Hy;if(x!==Hy){f+=10;try{new RegExp(`(${x})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${m}" (${x}): `+C.message)}}let k=_?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;h||(k=b&&l.length<2?`(?:/${k})`:"/"+k),b&&(k+="?"),i+=k,f+=20,b&&(f+=-8),_&&(f+=-20),x===".*"&&(f+=-50)}u.push(f)}s.push(u)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",m=r[d-1];h[m.name]=f&&m.repeatable?f.split("/"):f}return h}function c(l){let u="",h=!1;for(const d of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:m,repeatable:_,optional:b}=f,E=m in l?l[m]:"";if(wn(E)&&!_)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const x=wn(E)?E.join("/"):E;if(!x)if(b)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=x}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:c}}function hH(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function dH(e,t){let n=0;const s=e.score,i=t.score;for(;n<s.length&&n<i.length;){const r=hH(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(jy(s))return 1;if(jy(i))return-1}return i.length-s.length}function jy(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const fH={type:0,value:""},pH=/[a-zA-Z0-9_]/;function gH(e){if(!e)return[[]];if(e==="/")return[[fH]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${l}": ${f}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,c,l="",u="";function h(){!l||(n===0?r.push({type:0,value:l}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):d();break;case 4:d(),n=s;break;case 1:c==="("?n=2:pH.test(c)?d():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),h(),o(),i}function mH(e,t,n){const s=uH(gH(e.path),n),i=$t(s,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function _H(e,t){const n=[],s=new Map;t=Wy({strict:!1,end:!0,sensitive:!1},t);function i(u){return s.get(u)}function r(u,h,d){const f=!d,m=yH(u);m.aliasOf=d&&d.record;const _=Wy(t,u),b=[m];if("alias"in u){const k=typeof u.alias=="string"?[u.alias]:u.alias;for(const C of k)b.push($t({},m,{components:d?d.record.components:m.components,path:C,aliasOf:d?d.record:m}))}let E,x;for(const k of b){const{path:C}=k;if(h&&C[0]!=="/"){const R=h.record.path,A=R[R.length-1]==="/"?"":"/";k.path=h.record.path+(C&&A+C)}if(E=mH(k,h,_),d?d.alias.push(E):(x=x||E,x!==E&&x.alias.push(E),f&&u.name&&!zy(E)&&o(u.name)),m.children){const R=m.children;for(let A=0;A<R.length;A++)r(R[A],E,d&&d.children[A])}d=d||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&c(E)}return x?()=>{o(x)}:Wo}function o(u){if(dT(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&dH(u,n[h])>=0&&(u.record.path!==n[h].record.path||!pT(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!zy(u)&&s.set(u.record.name,u)}function l(u,h){let d,f={},m,_;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw jr(1,{location:u});_=d.record.name,f=$t(Vy(h.params,d.keys.filter(x=>!x.optional).map(x=>x.name)),u.params&&Vy(u.params,d.keys.map(x=>x.name))),m=d.stringify(f)}else if("path"in u)m=u.path,d=n.find(x=>x.re.test(m)),d&&(f=d.parse(m),_=d.record.name);else{if(d=h.name?s.get(h.name):n.find(x=>x.re.test(h.path)),!d)throw jr(1,{location:u,currentLocation:h});_=d.record.name,f=$t({},h.params,u.params),m=d.stringify(f)}const b=[];let E=d;for(;E;)b.unshift(E.record),E=E.parent;return{name:_,path:m,params:f,matched:b,meta:vH(b)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function Vy(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function yH(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:bH(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function bH(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="boolean"?n:n[s];return t}function zy(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function vH(e){return e.reduce((t,n)=>$t(t,n.meta),{})}function Wy(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function pT(e,t){return t.children.some(n=>n===e||pT(e,n))}const gT=/#/g,wH=/&/g,SH=/\//g,EH=/=/g,TH=/\?/g,mT=/\+/g,xH=/%5B/g,kH=/%5D/g,_T=/%5E/g,CH=/%60/g,yT=/%7B/g,IH=/%7C/g,bT=/%7D/g,DH=/%20/g;function Mg(e){return encodeURI(""+e).replace(IH,"|").replace(xH,"[").replace(kH,"]")}function RH(e){return Mg(e).replace(yT,"{").replace(bT,"}").replace(_T,"^")}function Sf(e){return Mg(e).replace(mT,"%2B").replace(DH,"+").replace(gT,"%23").replace(wH,"%26").replace(CH,"`").replace(yT,"{").replace(bT,"}").replace(_T,"^")}function MH(e){return Sf(e).replace(EH,"%3D")}function AH(e){return Mg(e).replace(gT,"%23").replace(TH,"%3F")}function OH(e){return e==null?"":AH(e).replace(SH,"%2F")}function Kl(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function PH(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(mT," "),o=r.indexOf("="),a=Kl(o<0?r:r.slice(0,o)),c=o<0?null:Kl(r.slice(o+1));if(a in t){let l=t[a];wn(l)||(l=t[a]=[l]),l.push(c)}else t[a]=c}return t}function qy(e){let t="";for(let n in e){const s=e[n];if(n=MH(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(wn(s)?s.map(r=>r&&Sf(r)):[s&&Sf(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function LH(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=wn(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const NH=Symbol(""),Gy=Symbol(""),Ag=Symbol(""),vT=Symbol(""),Ef=Symbol("");function po(){let e=[];function t(s){return e.push(s),()=>{const i=e.indexOf(s);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Fs(e,t,n,s,i){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(jr(4,{from:n,to:t})):h instanceof Error?a(h):aH(h)?a(jr(2,{from:t,to:h})):(r&&s.enterCallbacks[i]===r&&typeof h=="function"&&r.push(h),o())},l=e.call(s&&s.instances[i],t,n,c);let u=Promise.resolve(l);e.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function Jh(e,t,n,s){const i=[];for(const r of e)for(const o in r.components){let a=r.components[o];if(!(t!=="beforeRouteEnter"&&!r.instances[o]))if(FH(a)){const l=(a.__vccOpts||a)[t];l&&i.push(Fs(l,n,s,r,o))}else{let c=a();i.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=VU(l)?l.default:l;r.components[o]=u;const d=(u.__vccOpts||u)[t];return d&&Fs(d,n,s,r,o)()}))}}return i}function FH(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ky(e){const t=Nn(Ag),n=Nn(vT),s=Qt(()=>t.resolve(rt(e.to))),i=Qt(()=>{const{matched:c}=s.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(Hr.bind(null,u));if(d>-1)return d;const f=Yy(c[l-2]);return l>1&&Yy(u)===f&&h[h.length-1].path!==f?h.findIndex(Hr.bind(null,c[l-2])):d}),r=Qt(()=>i.value>-1&&HH(n.params,s.value.params)),o=Qt(()=>i.value>-1&&i.value===n.matched.length-1&&uT(n.params,s.value.params));function a(c={}){return UH(c)?t[rt(e.replace)?"replace":"push"](rt(e.to)).catch(Wo):Promise.resolve()}return{route:s,href:Qt(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}const $H=i0({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ky,setup(e,{slots:t}){const n=Yr(Ky(e)),{options:s}=Nn(Ag),i=Qt(()=>({[Xy(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Xy(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:op("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),BH=$H;function UH(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function HH(e,t){for(const n in t){const s=t[n],i=e[n];if(typeof s=="string"){if(s!==i)return!1}else if(!wn(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Yy(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Xy=(e,t,n)=>e!=null?e:t!=null?t:n,jH=i0({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Nn(Ef),i=Qt(()=>e.route||s.value),r=Nn(Gy,0),o=Qt(()=>{let l=rt(r);const{matched:u}=i.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=Qt(()=>i.value.matched[o.value]);jc(Gy,Qt(()=>o.value+1)),jc(NH,a),jc(Ef,i);const c=oe();return Xs(()=>[c.value,a.value,e.name],([l,u,h],[d,f,m])=>{u&&(u.instances[h]=l,f&&f!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),l&&u&&(!f||!Hr(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(_=>_(l))},{flush:"post"}),()=>{const l=i.value,u=e.name,h=a.value,d=h&&h.components[u];if(!d)return Jy(n.default,{Component:d,route:l});const f=h.props[u],m=f?f===!0?l.params:typeof f=="function"?f(l):f:null,b=op(d,$t({},m,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return Jy(n.default,{Component:b,route:l})||b}}});function Jy(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const VH=jH;function zH(e){const t=_H(e.routes,e),n=e.parseQuery||PH,s=e.stringifyQuery||qy,i=e.history,r=po(),o=po(),a=po(),c=wk(Rs);let l=Rs;pr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Yh.bind(null,B=>""+B),h=Yh.bind(null,OH),d=Yh.bind(null,Kl);function f(B,G){let W,tt;return dT(B)?(W=t.getRecordMatcher(B),tt=G):tt=B,t.addRoute(tt,W)}function m(B){const G=t.getRecordMatcher(B);G&&t.removeRoute(G)}function _(){return t.getRoutes().map(B=>B.record)}function b(B){return!!t.getRecordMatcher(B)}function E(B,G){if(G=$t({},G||c.value),typeof B=="string"){const p=Xh(n,B,G.path),g=t.resolve({path:p.path},G),v=i.createHref(p.fullPath);return $t(p,g,{params:d(g.params),hash:Kl(p.hash),redirectedFrom:void 0,href:v})}let W;if("path"in B)W=$t({},B,{path:Xh(n,B.path,G.path).path});else{const p=$t({},B.params);for(const g in p)p[g]==null&&delete p[g];W=$t({},B,{params:h(B.params)}),G.params=h(G.params)}const tt=t.resolve(W,G),bt=B.hash||"";tt.params=u(d(tt.params));const O=qU(s,$t({},B,{hash:RH(bt),path:tt.path})),y=i.createHref(O);return $t({fullPath:O,hash:bt,query:s===qy?LH(B.query):B.query||{}},tt,{redirectedFrom:void 0,href:y})}function x(B){return typeof B=="string"?Xh(n,B,c.value.path):$t({},B)}function k(B,G){if(l!==B)return jr(8,{from:G,to:B})}function C(B){return D(B)}function R(B){return C($t(x(B),{replace:!0}))}function A(B){const G=B.matched[B.matched.length-1];if(G&&G.redirect){const{redirect:W}=G;let tt=typeof W=="function"?W(B):W;return typeof tt=="string"&&(tt=tt.includes("?")||tt.includes("#")?tt=x(tt):{path:tt},tt.params={}),$t({query:B.query,hash:B.hash,params:"path"in tt?{}:B.params},tt)}}function D(B,G){const W=l=E(B),tt=c.value,bt=B.state,O=B.force,y=B.replace===!0,p=A(W);if(p)return D($t(x(p),{state:typeof p=="object"?$t({},bt,p.state):bt,force:O,replace:y}),G||W);const g=W;g.redirectedFrom=G;let v;return!O&&GU(s,tt,W)&&(v=jr(16,{to:g,from:tt}),Ft(tt,tt,!0,!1)),(v?Promise.resolve(v):H(g,tt)).catch(w=>Xn(w)?Xn(w,2)?w:lt(w):it(w,g,tt)).then(w=>{if(w){if(Xn(w,2))return D($t({replace:y},x(w.to),{state:typeof w.to=="object"?$t({},bt,w.to.state):bt,force:O}),G||g)}else w=j(g,tt,!0,y,bt);return F(g,tt,w),w})}function M(B,G){const W=k(B,G);return W?Promise.reject(W):Promise.resolve()}function H(B,G){let W;const[tt,bt,O]=WH(B,G);W=Jh(tt.reverse(),"beforeRouteLeave",B,G);for(const p of tt)p.leaveGuards.forEach(g=>{W.push(Fs(g,B,G))});const y=M.bind(null,B,G);return W.push(y),lr(W).then(()=>{W=[];for(const p of r.list())W.push(Fs(p,B,G));return W.push(y),lr(W)}).then(()=>{W=Jh(bt,"beforeRouteUpdate",B,G);for(const p of bt)p.updateGuards.forEach(g=>{W.push(Fs(g,B,G))});return W.push(y),lr(W)}).then(()=>{W=[];for(const p of B.matched)if(p.beforeEnter&&!G.matched.includes(p))if(wn(p.beforeEnter))for(const g of p.beforeEnter)W.push(Fs(g,B,G));else W.push(Fs(p.beforeEnter,B,G));return W.push(y),lr(W)}).then(()=>(B.matched.forEach(p=>p.enterCallbacks={}),W=Jh(O,"beforeRouteEnter",B,G),W.push(y),lr(W))).then(()=>{W=[];for(const p of o.list())W.push(Fs(p,B,G));return W.push(y),lr(W)}).catch(p=>Xn(p,8)?p:Promise.reject(p))}function F(B,G,W){for(const tt of a.list())tt(B,G,W)}function j(B,G,W,tt,bt){const O=k(B,G);if(O)return O;const y=G===Rs,p=pr?history.state:{};W&&(tt||y?i.replace(B.fullPath,$t({scroll:y&&p&&p.scroll},bt)):i.push(B.fullPath,bt)),c.value=B,Ft(B,G,W,y),lt()}let $;function J(){$||($=i.listen((B,G,W)=>{if(!ut.listening)return;const tt=E(B),bt=A(tt);if(bt){D($t(bt,{replace:!0}),tt).catch(Wo);return}l=tt;const O=c.value;pr&&eH($y(O.fullPath,W.delta),ah()),H(tt,O).catch(y=>Xn(y,12)?y:Xn(y,2)?(D(y.to,tt).then(p=>{Xn(p,20)&&!W.delta&&W.type===wa.pop&&i.go(-1,!1)}).catch(Wo),Promise.reject()):(W.delta&&i.go(-W.delta,!1),it(y,tt,O))).then(y=>{y=y||j(tt,O,!1),y&&(W.delta&&!Xn(y,8)?i.go(-W.delta,!1):W.type===wa.pop&&Xn(y,20)&&i.go(-1,!1)),F(tt,O,y)}).catch(Wo)}))}let et=po(),Q=po(),X;function it(B,G,W){lt(B);const tt=Q.list();return tt.length?tt.forEach(bt=>bt(B,G,W)):console.error(B),Promise.reject(B)}function nt(){return X&&c.value!==Rs?Promise.resolve():new Promise((B,G)=>{et.add([B,G])})}function lt(B){return X||(X=!B,J(),et.list().forEach(([G,W])=>B?W(B):G()),et.reset()),B}function Ft(B,G,W,tt){const{scrollBehavior:bt}=e;if(!pr||!bt)return Promise.resolve();const O=!W&&nH($y(B.fullPath,0))||(tt||!W)&&history.state&&history.state.scroll||null;return ep().then(()=>bt(B,G,O)).then(y=>y&&tH(y)).catch(y=>it(y,B,G))}const Ot=B=>i.go(B);let Pt;const se=new Set,ut={currentRoute:c,listening:!0,addRoute:f,removeRoute:m,hasRoute:b,getRoutes:_,resolve:E,options:e,push:C,replace:R,go:Ot,back:()=>Ot(-1),forward:()=>Ot(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:Q.add,isReady:nt,install(B){const G=this;B.component("RouterLink",BH),B.component("RouterView",VH),B.config.globalProperties.$router=G,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>rt(c)}),pr&&!Pt&&c.value===Rs&&(Pt=!0,C(i.location).catch(bt=>{}));const W={};for(const bt in Rs)W[bt]=Qt(()=>c.value[bt]);B.provide(Ag,G),B.provide(vT,Yr(W)),B.provide(Ef,c);const tt=B.unmount;se.add(B),B.unmount=function(){se.delete(B),se.size<1&&(l=Rs,$&&$(),$=null,c.value=Rs,Pt=!1,X=!1),tt()}}};return ut}function lr(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function WH(e,t){const n=[],s=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(l=>Hr(l,a))?s.push(a):n.push(a));const c=e.matched[o];c&&(t.matched.find(l=>Hr(l,c))||i.push(c))}return[n,s,i]}class qH{static convertDateToUTC(t){return t.setUTCHours(0,0,0,0),t}}class GH{constructor(t,n,s,i){this.id=t,this.date=n,this.dateValue=qH.convertDateToUTC(new Date(n)).toISOString(),this.foodItems=s,this.components=i}}const de=Object.freeze({FOODITEM:"food",CHART:"chart",DATELOG:"date log",COMPONENT:"component"});class pt{static getAPIUrl(){return"http://localhost:7500"}static GETRequestParams(t){const n="Bearer "+t;return{method:An.GET,headers:{Authorization:n}}}static POSTRequestParams(t,n){const s="Bearer "+t;return{method:An.POST,headers:{Authorization:s,"Content-Type":"application/json"},body:JSON.stringify(n)}}static PUTRequestParams(t,n){const s="Bearer "+t;return{method:An.PUT,headers:{Authorization:s,"Content-Type":"application/json"},body:JSON.stringify(n)}}static DELETERequestParams(t,n){const s="Bearer "+t;return{method:An.DELETE,headers:{Authorization:s,"Content-Type":"application/json"},body:JSON.stringify(n)}}}class KH{async getAllDateLogs(t){try{const n=`${pt.getAPIUrl()}/api/datelogs`;return(await fetch(n,pt.GETRequestParams(t))).json()}catch(n){vt.handleGetAllError(t,de.DATELOG,n)}}async getDateLogById(t,n){try{const s=`${pt.getAPIUrl()}/api/datelogs/${n}`;return(await fetch(s,pt.GETRequestParams(t))).json()}catch(s){vt.handleGetByIdError(t,de.DATELOG,n,s)}}async addDateLogs(t,n){try{const s=`${pt.getAPIUrl()}/api/datelogs`;return await fetch(s,pt.POSTRequestParams(t,n))}catch(s){vt.handleAddError(t,de.DATELOG,n,s)}}async updateDateLog(t,n){try{const s=`${pt.getAPIUrl()}/api/datelogs/${n.id}`;return await fetch(s,pt.PUTRequestParams(t,n))}catch(s){vt.handleUpdateError(t,de.DATELOG,n,s)}}async deleteDateLogs(t,n){try{const s=`${pt.getAPIUrl()}/api/datelogs`;return await fetch(s,pt.DELETERequestParams(t,n))}catch(s){vt.handleDeleteError(t,de.DATELOG,n,s)}}}class Qh{constructor(){this.dateLogController=new KH,this.userStore=gi()}async getAllDateLogs(){try{const t=await this.userStore.getAccessToken(),n=await this.dateLogController.getAllDateLogs(t);return n?JSON.parse(n):[]}catch(t){throw t}}async getDateLogById(t){try{const n=await this.userStore.getAccessToken();return await this.dateLogController.getDateLogById(n,t)}catch(n){throw n}}async addDateLogs(t){try{const n=await this.userStore.getAccessToken();return await this.dateLogController.addDateLogs(n,t)}catch(n){throw n}}async updateDateLog(t){try{const n=await this.userStore.getAccessToken();await this.dateLogController.updateDateLog(n,t)}catch(n){throw n}}async deleteDateLogs(t){try{const n=await this.userStore.getAccessToken();return await this.dateLogController.deleteDateLogs(n,t)}catch(n){throw n}}}const ch=Qr("dateLogStore",{state:()=>({dateLogs:[],selectedDateLog:null,dateLogCopy:null,dayTitle:"Today",baseComponents:[]}),getters:{yesterdayDate:()=>{const e=new Date;return e.setDate(e.getDate()-1),e},tomorrowDate:()=>{const e=new Date;return e.setDate(e.getDate()+1),e}},actions:{async initializeStore(e,t){this.baseComponents=t,this.initializeDateLogs(e)},async initializeDateLogs(e){try{const t=new Qh;this.dateLogs=await t.getAllDateLogs(),this.setSelectedDateLog(e)}catch{vt.displayGenericError()}},async addDateLogs(e){try{await new Qh().addDateLogs(e),this.selectedDateLog&&await this.initializeDateLogs(this.selectedDateLog.date),this.dateLogCopy=null}catch{vt.displayGenericError()}},async deleteDateLogs(e){try{const t=new Qh,n=e.map(s=>s.id);await t.deleteDateLogs(e),this.dateLogs=await this.dateLogs.filter(s=>!n.includes(s.id))}catch{vt.displayGenericError()}},async selectDay(e){await this.setSelectedDateLog(e),this.setDayTitle()},setSelectedDateLog(e){this.selectedDateLog=this.dateLogs.find(t=>t.date===e)?this.dateLogs.find(t=>t!==void 0&&t.date===e):this.setNewDateFields(e)},setNewDateFields(e){const t=new GH("",e,[],this.baseComponents);return t.components.map(n=>(n.values=n.typeId===1?5:n.typeId===2?"":[],n)),t},async addDateLogComponent(e){this.dateLogs.map(t=>{t.components.push(e)}),await this.addDateLogs(this.dateLogs)},async removeDateLogComponent(e){this.dateLogs.map(t=>{t.components=t.components.filter(n=>n.id!==e.id)}),await this.addDateLogs(this.dateLogs)},setDayTitle(){if(!this.selectedDateLog)throw Error;switch(this.selectedDateLog.date){case new Date().toLocaleDateString():this.dayTitle="Today";break;case this.tomorrowDate.toLocaleDateString():this.dayTitle="Tomorrow";break;case this.yesterdayDate.toLocaleDateString():this.dayTitle="Yesterday";break;default:this.dayTitle=this.selectedDateLog.date;break}},containsFoodDuplicate(e){var t;return(t=this.selectedDateLog)==null?void 0:t.foodItems.some(n=>n.name.toLowerCase()===e.toLowerCase())}}}),YH={class:"component-box"},XH={class:"content-wrapper"},JH={key:0,class:"trash-icon"},QH={class:"component-name"},ZH={key:1,class:"change-icon"},t2={class:"component-options-container",id:"component-checkbox"},e2=["name","id","disabled","onUpdate:modelValue"],n2=["for"],s2={__name:"MultiSelectComponent",props:{component:Object,disabled:Boolean,layout:Boolean},emits:["toggleComponentSelection","deleteComponent"],setup(e,{emit:t}){function n(i){t("toggleComponentSelection",i)}function s(i){t("deleteComponent",i)}return(i,r)=>{const o=Gn("ion-icon");return q(),Z("form",YH,[z("div",XH,[e.layout&&!e.component.selected?(q(),Z("span",JH,[dt(o,{name:"trash-outline",class:"bi",onClick:r[0]||(r[0]=a=>s(e.component))})])):Rt("",!0),z("h3",QH,re(e.component.name),1),e.layout?(q(),Z("span",ZH,[dt(o,{name:e.component.selected?"remove-circle-outline":"add-circle-outline",class:Vn(e.component.selected?"bi red":"bi green")},null,8,["name","class"]),dt(o,{name:e.component.selected?"remove-circle":"add-circle",class:Vn(e.component.selected?"bi red":"bi green"),onClick:r[1]||(r[1]=a=>n(e.component))},null,8,["name","class"])])):Rt("",!0)]),z("div",t2,[(q(!0),Z(Gt,null,Ge(e.component.selectOptions,(a,c)=>(q(),Z("div",{class:"component-checkbox",key:c},[je(z("input",{type:"checkbox",name:"btncheckbox_"+e.component.id,id:"btncheckbox_"+c,disabled:e.disabled,"onUpdate:modelValue":l=>e.component.values[c]=l},null,8,e2),[[sI,e.component.values[c]]]),z("label",{for:"btncheckbox_"+c},re(a.text),9,n2)]))),128))])])}}};var i2=pe(s2,[["__scopeId","data-v-a4990828"]]);const r2={class:"component-box"},o2={class:"content-wrapper"},a2={key:0,class:"trash-icon"},c2={class:"component-name"},l2={key:1,class:"change-icon"},u2={class:"component-options-container",id:"component-radio",role:"group"},h2=["name","id","disabled","value"],d2=["for"],f2={__name:"SingleSelectComponent",props:{component:Object,disabled:Boolean,layout:Boolean},emits:["toggleComponentSelection","deleteComponent"],setup(e,{emit:t}){function n(i){t("toggleComponentSelection",i)}function s(i){t("deleteComponent",i)}return(i,r)=>{const o=Gn("ion-icon");return q(),Z("form",r2,[z("div",o2,[e.layout&&!e.component.selected?(q(),Z("span",a2,[dt(o,{name:"trash-outline",class:"bi",onClick:r[0]||(r[0]=a=>s(e.component))})])):Rt("",!0),z("h3",c2,re(e.component.name),1),e.layout?(q(),Z("span",l2,[dt(o,{name:e.component.selected?"remove-circle-outline":"add-circle-outline",class:Vn(e.component.selected?"bi red":"bi green")},null,8,["name","class"]),dt(o,{name:e.component.selected?"remove-circle":"add-circle",class:Vn(e.component.selected?"bi red":"bi green"),onClick:r[1]||(r[1]=a=>n(e.component))},null,8,["name","class"])])):Rt("",!0)]),z("div",u2,[(q(!0),Z(Gt,null,Ge(e.component.selectOptions,(a,c)=>(q(),Z("div",{class:"component-radio",key:a},[je(z("input",{type:"radio",name:"btnradio_"+e.component.id,id:"btnradio_"+c,disabled:e.disabled,value:a.value,"onUpdate:modelValue":r[2]||(r[2]=l=>e.component.values=l)},null,8,h2),[[iI,e.component.values]]),z("label",{for:"btnradio_"+c},re(a.text),9,d2)]))),128))])])}}};var p2=pe(f2,[["__scopeId","data-v-e537c052"]]);const g2={class:"component-box"},m2={class:"content-wrapper"},_2={key:0,class:"trash-icon"},y2=["id"],b2={key:1,class:"change-icon"},v2=["disabled","aria-labelledby"],w2=["disabled","aria-labelledby"],S2={key:2},E2={__name:"SliderComponent",props:{component:Object,disabled:Boolean,layout:Boolean},emits:["toggleComponentSelection","deleteComponent"],setup(e,{emit:t}){const n=e,s=5;let i=Qt(()=>{const a=n.component.values/10*100;return{background:n.disabled?`linear-gradient(90deg, #999999 ${a}%, #d1d3d1 ${a}%)`:`linear-gradient(90deg, #846F91 ${a}%, #d1d3d1 ${a}%)`}});function r(a){t("toggleComponentSelection",a)}function o(a){t("deleteComponent",a)}return(a,c)=>{const l=Gn("ion-icon");return q(),Z("form",g2,[z("div",m2,[e.layout&&!e.component.selected?(q(),Z("span",_2,[dt(l,{name:"trash-outline",class:"bi",onClick:c[0]||(c[0]=u=>o(e.component))})])):Rt("",!0),z("h3",{id:"component-name-"+e.component.id,class:"component-name"},re(e.component.name),9,y2),e.layout?(q(),Z("span",b2,[dt(l,{name:e.component.selected?"remove-circle-outline":"add-circle-outline",class:Vn(e.component.selected?"bi red":"bi green")},null,8,["name","class"]),dt(l,{name:e.component.selected?"remove-circle":"add-circle",class:Vn(e.component.selected?"bi red":"bi green"),onClick:c[1]||(c[1]=u=>r(e.component))},null,8,["name","class"])])):Rt("",!0)]),e.layout?je((q(),Z("input",{key:0,type:"range",id:"component-range",min:"0",max:"10",step:"0.10",class:"layout-slider",disabled:e.disabled,"onUpdate:modelValue":c[2]||(c[2]=u=>s=u),style:{background:"linear-gradient(90deg, #999999 50%, #d1d3d1 50%)"},"aria-labelledby":"component-name-"+e.component.id},null,8,v2)),[[ys,s]]):je((q(),Z("input",{key:1,type:"range",id:"component-range",min:"0",max:"10",step:"0.10",disabled:e.disabled,"onUpdate:modelValue":c[3]||(c[3]=u=>e.component.values=u),style:Ra(rt(i)),"aria-labelledby":"component-name-"+e.component.id},null,12,w2)),[[ys,e.component.values]]),e.layout?Rt("",!0):(q(),Z("h4",S2,"Value: "+re(e.component.values),1))])}}};var T2=pe(E2,[["__scopeId","data-v-6117eb7b"]]);const x2={},k2={class:"component-box-content"};function C2(e,t){return q(),Z("div",k2,[c0(e.$slots,"content",{},void 0,!0)])}var Zh=pe(x2,[["render",C2],["__scopeId","data-v-66a077f2"]]);const Tf={__name:"ComponentDisplay",props:{component:Object,disabled:Boolean,layout:Boolean},emits:["toggleComponentSelection","deleteComponent"],setup(e,{emit:t}){function n(i){t("toggleComponentSelection",i)}function s(i){t("deleteComponent",i)}return(i,r)=>(q(),Z("div",null,[e.component.typeId===1?(q(),_e(Zh,{key:0},{content:Ys(()=>[dt(T2,{component:e.component,disabled:e.disabled,layout:e.layout,onToggleComponentSelection:r[0]||(r[0]=o=>n(e.component)),onDeleteComponent:r[1]||(r[1]=o=>s(e.component))},null,8,["component","disabled","layout"])]),_:1})):Rt("",!0),e.component.typeId===2?(q(),_e(Zh,{key:1},{content:Ys(()=>[e.component.typeId===2?(q(),_e(p2,{key:0,component:e.component,disabled:e.disabled,layout:e.layout,onToggleComponentSelection:r[2]||(r[2]=o=>n(e.component)),onDeleteComponent:r[3]||(r[3]=o=>s(e.component))},null,8,["component","disabled","layout"])):Rt("",!0)]),_:1})):Rt("",!0),e.component.typeId===3?(q(),_e(Zh,{key:2},{content:Ys(()=>[e.component.typeId===3?(q(),_e(i2,{key:0,component:e.component,disabled:e.disabled,layout:e.layout,onToggleComponentSelection:r[4]||(r[4]=o=>n(e.component)),onDeleteComponent:r[5]||(r[5]=o=>s(e.component))},null,8,["component","disabled","layout"])):Rt("",!0)]),_:1})):Rt("",!0)]))}},I2={class:"food-item"},D2={class:"content-wrapper"},R2={class:"food-item-name"},M2={key:0,class:"change-icon"},A2={__name:"FoodItem",props:{foodItem:Object,editMode:Boolean},setup(e){const t=ch();function n(s){const i=t.selectedDateLog.foodItems.indexOf(s);i>-1&&t.selectedDateLog.foodItems.splice(i,1)}return(s,i)=>{const r=Gn("ion-icon");return q(),Z("li",I2,[z("div",D2,[z("h3",R2,re(e.foodItem.name),1),e.editMode?(q(),Z("span",M2,[dt(r,{name:"remove-circle-outline",class:"bi"}),dt(r,{name:"remove-circle",class:"bi",onClick:i[0]||(i[0]=o=>n(e.foodItem))})])):Rt("",!0)])])}}};var O2=pe(A2,[["__scopeId","data-v-31fc9d4f"]]);const P2={class:"food-item-list"},L2={__name:"FoodItemList",props:{foodItems:Array,editMode:Boolean},setup(e){return(t,n)=>(q(),Z("ul",P2,[(q(!0),Z(Gt,null,Ge(e.foodItems,s=>(q(),_e(O2,{key:s.name,foodItem:s,editMode:e.editMode},null,8,["foodItem","editMode"]))),128))]))}};var N2=pe(L2,[["__scopeId","data-v-8da78edc"]]);const wT=e=>(Xr("data-v-6d605db6"),e=e(),Jr(),e),F2={key:0,class:"container"},$2={class:"flex-column"},B2=wT(()=>z("h2",null,"What you ate today: ",-1)),U2={key:0,class:"search-container"},H2={class:"list-wrapper"},j2={class:"flex-column"},V2=wT(()=>z("h2",null,"Components: ",-1)),z2={class:"list-wrapper"},W2={__name:"FoodLogBase",props:{editMode:Boolean},setup(e){const t=ch(),n=oe(""),s=oe(null);function i(){if(n.value==="")return;if(t.containsFoodDuplicate(n.value)){r(s.value,"This food is already in the list");return}const o={id:null,name:n.value};t.selectedDateLog.foodItems.push(o),n.value=""}function r(o,a){o.setCustomValidity(a),o.reportValidity(),setTimeout(()=>{o.setCustomValidity("")},2e3)}return(o,a)=>rt(t).selectedDateLog?(q(),Z("div",F2,[z("div",$2,[B2,e.editMode?(q(),Z("div",U2,[je(z("input",{list:"existing-food-items",id:"food-item-search",placeholder:"Type to search...","onUpdate:modelValue":a[0]||(a[0]=c=>n.value=c),onKeyup:a[1]||(a[1]=cI(c=>i(),["enter"])),class:"search-input",ref_key:"foodItemInput",ref:s},null,544),[[ys,n.value]]),z("button",{onClick:a[2]||(a[2]=c=>i()),class:"search-button"},"Add")])):Rt("",!0),z("div",H2,[dt(N2,{foodItems:rt(t).selectedDateLog.foodItems,editMode:e.editMode},null,8,["foodItems","editMode"])])]),z("div",j2,[V2,z("div",z2,[(q(!0),Z(Gt,null,Ge(rt(t).selectedDateLog.components,c=>(q(),_e(Tf,{key:c.id,component:c,disabled:!e.editMode,layout:!1},null,8,["component","disabled"]))),128))])])])):Rt("",!0)}};var q2=pe(W2,[["__scopeId","data-v-6d605db6"]]),G2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ST={exports:{}};(function(e,t){(function(n,s){e.exports=s()})(G2,function(){return function(){var n={d:function(O,y){for(var p in y)n.o(y,p)&&!n.o(O,p)&&Object.defineProperty(O,p,{enumerable:!0,get:y[p]})},o:function(O,y){return Object.prototype.hasOwnProperty.call(O,y)}},s={};n.d(s,{default:function(){return tt}});var i={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},r={classes:"",inline:!1,locale:{days:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],daysShort:["\u0412\u043E\u0441","\u041F\u043E\u043D","\u0412\u0442\u043E","\u0421\u0440\u0435","\u0427\u0435\u0442","\u041F\u044F\u0442","\u0421\u0443\u0431"],daysMin:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],months:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],monthsShort:["\u042F\u043D\u0432","\u0424\u0435\u0432","\u041C\u0430\u0440","\u0410\u043F\u0440","\u041C\u0430\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","\u0410\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],today:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F",clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:i.days,minView:i.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function o(O){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof O=="string"?y.querySelector(O):O}function a(){let{tagName:O="div",className:y="",innerHtml:p="",id:g="",attrs:v={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=document.createElement(O);return y&&w.classList.add(...y.split(" ")),g&&(w.id=g),p&&(w.innerHTML=p),v&&c(w,v),w}function c(O,y){for(let[p,g]of Object.entries(y))g!==void 0&&O.setAttribute(p,g);return O}function l(O){return new Date(O.getFullYear(),O.getMonth()+1,0).getDate()}function u(O){let y=O.getHours(),{hours:p,dayPeriod:g}=h(y);return{year:O.getFullYear(),month:O.getMonth(),fullMonth:O.getMonth()+1<10?"0"+(O.getMonth()+1):O.getMonth()+1,date:O.getDate(),fullDate:O.getDate()<10?"0"+O.getDate():O.getDate(),day:O.getDay(),hours:y,fullHours:d(y),hours12:p,dayPeriod:g,fullHours12:d(p),minutes:O.getMinutes(),fullMinutes:O.getMinutes()<10?"0"+O.getMinutes():O.getMinutes()}}function h(O){return{dayPeriod:O>11?"pm":"am",hours:O%12==0?12:O%12}}function d(O){return O<10?"0"+O:O}function f(O){let y=10*Math.floor(O.getFullYear()/10);return[y,y+9]}function m(){let O=[];for(var y=arguments.length,p=new Array(y),g=0;g<y;g++)p[g]=arguments[g];return p.forEach(v=>{if(typeof v=="object")for(let w in v)v[w]&&O.push(w);else v&&O.push(v)}),O.join(" ")}function _(O,y){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.days;if(!O||!y)return!1;let g=u(O),v=u(y);return{[i.days]:g.date===v.date&&g.month===v.month&&g.year===v.year,[i.months]:g.month===v.month&&g.year===v.year,[i.years]:g.year===v.year}[p]}function b(O,y,p){let g=x(O,!1).getTime(),v=x(y,!1).getTime();return p?g>=v:g>v}function E(O,y){return!b(O,y,!0)}function x(O){let y=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],p=new Date(O.getTime());return typeof y!="boolean"||y||function(g){g.setHours(0,0,0,0)}(p),p}function k(O,y,p){O.length?O.forEach(g=>{g.addEventListener(y,p)}):O.addEventListener(y,p)}function C(O,y){return!(!O||O===document||O instanceof DocumentFragment)&&(O.matches(y)?O:C(O.parentNode,y))}function R(O,y,p){return O>p?p:O<y?y:O}function A(O){for(var y=arguments.length,p=new Array(y>1?y-1:0),g=1;g<y;g++)p[g-1]=arguments[g];return p.filter(v=>v).forEach(v=>{for(let[w,S]of Object.entries(v))if(S!==void 0&&S.toString()==="[object Object]"){let T=O[w]!==void 0?O[w].toString():void 0,I=S.toString(),L=Array.isArray(S)?[]:{};O[w]=O[w]?T!==I?L:O[w]:L,A(O[w],S)}else O[w]=S}),O}function D(O){let y=O;return O instanceof Date||(y=new Date(O)),isNaN(y.getTime())&&(console.log(`Unable to convert value "${O}" to Date object`),y=!1),y}function M(O){let y="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+y+")("+O+")($|<|"+y+")","g")}function H(O,y,p){return(y=function(g){var v=function(w,S){if(typeof w!="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var I=T.call(w,"string");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(g);return typeof v=="symbol"?v:String(v)}(y))in O?Object.defineProperty(O,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):O[y]=p,O}class F{constructor(){let{type:y,date:p,dp:g,opts:v,body:w}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};H(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),H(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),H(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),H(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),H(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),H(this,"onChangeFocusDate",S=>{if(!S)return void(this.focused&&this.removeFocus());let T=_(S,this.date,this.type);T?this.focus():!T&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),H(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=y,this.singleType=this.type.slice(0,-1),this.date=p,this.dp=g,this.opts=v,this.body=w,this.customData=!1,this.init()}init(){let{range:y,onRenderCell:p}=this.opts;p&&(this.customData=p({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),y&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var y;let{year:p,month:g,date:v}=u(this.date),w=((y=this.customData)===null||y===void 0?void 0:y.attrs)||{};this.$cell=a({className:this._getClassName(),attrs:{"data-year":p,"data-month":g,"data-date":v,...w}})}_getClassName(){var y,p;let g=new Date,{selectOtherMonths:v,selectOtherYears:w}=this.opts,{minDate:S,maxDate:T}=this.dp,{day:I}=u(this.date),L=this._isOutOfMinMaxRange(),P=(y=this.customData)===null||y===void 0?void 0:y.disabled,N=m("air-datepicker-cell",`-${this.singleType}-`,{"-current-":_(g,this.date,this.type),"-min-date-":S&&_(S,this.date,this.type),"-max-date-":T&&_(T,this.date,this.type)}),U="";switch(this.type){case i.days:U=m({"-weekend-":this.dp.isWeekend(I),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!v||L||P});break;case i.months:U=m({"-disabled-":L||P});break;case i.years:U=m({"-other-decade-":this.isOtherDecade,"-disabled-":L||this.isOtherDecade&&!w||P})}return m(N,U,(p=this.customData)===null||p===void 0?void 0:p.classes)}_getHtml(){var y;let{year:p,month:g,date:v}=u(this.date),{showOtherMonths:w,showOtherYears:S}=this.opts;if((y=this.customData)!==null&&y!==void 0&&y.html)return this.customData.html;switch(this.type){case i.days:return!w&&this.isOtherMonth?"":v;case i.months:return this.dp.locale[this.opts.monthsField][g];case i.years:return!S&&this.isOtherDecade?"":p}}_isOutOfMinMaxRange(){let{minDate:y,maxDate:p}=this.dp,{type:g,date:v}=this,{month:w,year:S,date:T}=u(v),I=g===i.days,L=g===i.years,P=!!y&&new Date(S,L?y.getMonth():w,I?T:y.getDate()),N=!!p&&new Date(S,L?p.getMonth():w,I?T:p.getDate());return y&&p?E(P,y)||b(N,p):y?E(P,y):p?b(N,p):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:y,rangeDateTo:p}=this.dp,g=m({"-in-range-":y&&p&&(v=this.date,w=y,S=p,b(v,w)&&E(v,S)),"-range-from-":y&&_(this.date,y,this.type),"-range-to-":p&&_(this.date,p,this.type)});var v,w,S;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),g&&this.$cell.classList.add(...g.split(" "))}_handleSelectedStatus(){let y=this.dp._checkIfDateIsSelected(this.date,this.type);y?this.select():!y&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){_(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function j(O,y,p){return(y=function(g){var v=function(w,S){if(typeof w!="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var I=T.call(w,"string");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(g);return typeof v=="symbol"?v:String(v)}(y))in O?Object.defineProperty(O,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):O[y]=p,O}let $={[i.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${i.days}-"></div>`,[i.months]:`<div class="air-datepicker-body--cells -${i.months}-"></div>`,[i.years]:`<div class="air-datepicker-body--cells -${i.years}-"></div>`};const J=".air-datepicker-cell";class et{constructor(y){let{dp:p,type:g,opts:v}=y;j(this,"handleClick",w=>{let S=w.target.closest(J).adpCell;if(S.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let T=this.dp._checkIfDateIsSelected(S.date,S.type);T?this.dp._handleAlreadySelectedDates(T,S.date):this.dp.selectDate(S.date)}),j(this,"handleDayNameClick",w=>{let S=w.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(S),datepicker:this.dp})}),j(this,"onChangeCurrentView",w=>{w!==this.type?this.hide():(this.show(),this.render())}),j(this,"onMouseOverCell",w=>{let S=C(w.target,J);this.dp.setFocusDate(!!S&&S.adpCell.date)}),j(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),j(this,"onClickBody",w=>{let{onClickDayName:S}=this.opts,T=w.target;T.closest(J)&&this.handleClick(w),S&&T.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(w)}),j(this,"onMouseDown",w=>{this.pressed=!0;let S=C(w.target,J),T=S&&S.adpCell;_(T.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),_(T.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),j(this,"onMouseMove",w=>{if(!this.pressed||!this.dp.isMinViewReached)return;w.preventDefault();let S=C(w.target,J),T=S&&S.adpCell,{selectedDates:I,rangeDateTo:L,rangeDateFrom:P}=this.dp;if(!T||T.isDisabled)return;let{date:N}=T;if(I.length===2){if(this.rangeFromFocused&&!b(N,L)){let{hours:U,minutes:K}=u(P);N.setHours(U),N.setMinutes(K),this.dp.rangeDateFrom=N,this.dp.replaceDate(P,N)}if(this.rangeToFocused&&!E(N,P)){let{hours:U,minutes:K}=u(L);N.setHours(U),N.setMinutes(K),this.dp.rangeDateTo=N,this.dp.replaceDate(L,N)}}}),j(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),j(this,"onChangeViewDate",(w,S)=>{if(!this.isVisible)return;let T=f(w),I=f(S);switch(this.dp.currentView){case i.days:if(_(w,S,i.months))return;break;case i.months:if(_(w,S,i.years))return;break;case i.years:if(T[0]===I[0]&&T[1]===I[1])return}this.render()}),j(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(w=>{this.$cells.appendChild(w.render())})}),this.dp=p,this.type=g,this.opts=v,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===i.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:y,dynamicRange:p}=this.opts;k(this.$el,"mouseover",this.onMouseOverCell),k(this.$el,"mouseout",this.onMouseOutCell),k(this.$el,"click",this.onClickBody),y&&p&&(k(this.$el,"mousedown",this.onMouseDown),k(this.$el,"mousemove",this.onMouseMove),k(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=a({className:`air-datepicker-body -${this.type}-`,innerHtml:$[this.type]}),this.$names=o(".air-datepicker-body--day-names",this.$el),this.$cells=o(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,p="",g=this.dp.isWeekend,{onClickDayName:v}=this.opts,w=y,S=0;for(;S<7;){let T=w%7;p+=`<div class="${m("air-datepicker-body--day-name",{[i.cssClassWeekend]:g(T),"-clickable-":!!v})}" data-day-index='${T}'>${this.dp.locale.daysMin[T]}</div>`,S++,w++}return p}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(y){let{type:p,dp:g,opts:v}=this;return new F({type:p,dp:g,opts:v,date:y,body:this})}_generateCells(){et.getDatesFunction(this.type)(this.dp,y=>{this.cells.push(this._generateCell(y))})}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(y=>y.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(y,p){let{viewDate:g,locale:{firstDay:v}}=y,w=l(g),{year:S,month:T}=u(g),I=new Date(S,T,1),L=new Date(S,T,w),P=I.getDay()-v,N=6-L.getDay()+v;P=P<0?P+7:P,N=N>6?N-7:N;let U=function(Lt,Ie){let{year:En,month:_i,date:yi}=u(Lt);return new Date(En,_i,yi-Ie)}(I,P),K=w+P+N,st=U.getDate(),{year:at,month:_t}=u(U),kt=0;const Tt=[];for(;kt<K;){let Lt=new Date(at,_t,st+kt);p&&p(Lt),Tt.push(Lt),kt++}return Tt}static getMonthsDates(y,p){let{year:g}=y.parsedViewDate,v=0,w=[];for(;v<12;){const S=new Date(g,v);w.push(S),p&&p(S),v++}return w}static getYearsDates(y,p){let g=f(y.viewDate),v=g[0]-1,w=g[1]+1,S=v,T=[];for(;S<=w;){const I=new Date(S,0);T.push(I),p&&p(I),S++}return T}static getDatesFunction(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.days;return{[i.days]:et.getDaysDates,[i.months]:et.getMonthsDates,[i.years]:et.getYearsDates}[y]}}function Q(O,y,p){return(y=function(g){var v=function(w,S){if(typeof w!="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var I=T.call(w,"string");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(g);return typeof v=="symbol"?v:String(v)}(y))in O?Object.defineProperty(O,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):O[y]=p,O}class X{constructor(y){let{dp:p,opts:g}=y;Q(this,"onClickNav",v=>{let w=C(v.target,".air-datepicker-nav--action");if(!w)return;let S=w.dataset.action;this.dp[S]()}),Q(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),Q(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),Q(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),Q(this,"update",()=>{let{prevHtml:v,nextHtml:w}=this.opts;this.$prev.innerHTML=v,this.$next.innerHTML=w,this._resetNavStatus(),this.render(),this.handleNavStatus()}),Q(this,"renderDelay",()=>{setTimeout(this.render)}),Q(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(v,w){for(let S in w)w[S]?v.classList.add(S):v.classList.remove(S)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=p,this.opts=g,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=o(".air-datepicker-nav--title",this.$el),this.$prev=o('[data-action="prev"]',this.$el),this.$next=o('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(i.eventChangeTime,this.render))}destroy(){this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(i.eventChangeTime,this.render))}_createElement(){this.$el=a({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:y,opts:p}=this,g=p.navTitles[y.currentView];return typeof g=="function"?g(y):y.formatDate(y.viewDate,g)}handleNavStatus(){let{disableNavWhenOutOfRange:y}=this.opts,{minDate:p,maxDate:g}=this.dp;if(!p&&!g||!y)return;let{year:v,month:w}=this.dp.parsedViewDate,S=!!p&&u(p),T=!!g&&u(g);switch(this.dp.currentView){case i.days:p&&S.month>=w&&S.year>=v&&this._disableNav("prev"),g&&T.month<=w&&T.year<=v&&this._disableNav("next");break;case i.months:p&&S.year>=v&&this._disableNav("prev"),g&&T.year<=v&&this._disableNav("next");break;case i.years:{let I=f(this.dp.viewDate);p&&S.year>=I[0]&&this._disableNav("prev"),g&&T.year<=I[1]&&this._disableNav("next");break}}}_disableNav(y){o('[data-action="'+y+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(y){for(var p=arguments.length,g=new Array(p>1?p-1:0),v=1;v<p;v++)g[v-1]=arguments[v];y.length?y.forEach(w=>{w.classList.remove(...g)}):y.classList.remove(...g)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:y,nextHtml:p}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${y}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${p}</div>`}get isNavIsFunction(){let{navTitles:y}=this.opts;return Object.keys(y).find(p=>typeof y[p]=="function")}}var it={today:{content:O=>O.locale.today,onClick:O=>O.setViewDate(new Date)},clear:{content:O=>O.locale.clear,onClick:O=>O.clear()}};class nt{constructor(y){let{dp:p,opts:g}=y;this.dp=p,this.opts=g,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=a({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:y}=this.opts;Array.isArray(y)||(y=[y]),y.forEach(p=>{let g=p;typeof p=="string"&&it[p]&&(g=it[p]);let v=this.createButton(g);g.onClick&&this.attachEventToButton(v,g.onClick),this.$el.appendChild(v)})}attachEventToButton(y,p){y.addEventListener("click",()=>{p(this.dp)})}createButton(y){let{content:p,className:g,tagName:v="button",attrs:w={}}=y;return a({tagName:v,innerHtml:`<span tabindex='-1'>${typeof p=="function"?p(this.dp):p}</span>`,className:m("air-datepicker-button",g),attrs:w})}render(){this.generateButtons()}}function lt(O,y,p){return(y=function(g){var v=function(w,S){if(typeof w!="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var I=T.call(w,"string");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(g);return typeof v=="symbol"?v:String(v)}(y))in O?Object.defineProperty(O,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):O[y]=p,O}class Ft{constructor(){let{opts:y,dp:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lt(this,"toggleTimepickerIsActive",v=>{this.dp.timepickerIsActive=v}),lt(this,"onChangeSelectedDate",v=>{let{date:w,updateTime:S=!1}=v;w&&(this.setMinMaxTime(w),this.setCurrentTime(!!S&&w),this.addTimeToDate(w))}),lt(this,"onChangeLastSelectedDate",v=>{v&&(this.setTime(v),this.render())}),lt(this,"onChangeInputRange",v=>{let w=v.target;this[w.getAttribute("name")]=w.value,this.updateText(),this.dp.trigger(i.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),lt(this,"onMouseEnterLeave",v=>{let w=v.target.getAttribute("name"),S=this.$minutesText;w==="hours"&&(S=this.$hoursText),S.classList.toggle("-focus-")}),lt(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),lt(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=y,this.dp=p;let{timeFormat:g}=this.dp.locale;g&&(g.match(M("h"))||g.match(M("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let y="input";navigator.userAgent.match(/trident/gi)&&(y="change"),k(this.$ranges,y,this.onChangeInputRange),k(this.$ranges,"mouseenter",this.onMouseEnterLeave),k(this.$ranges,"mouseleave",this.onMouseEnterLeave),k(this.$ranges,"focus",this.onFocus),k(this.$ranges,"mousedown",this.onFocus),k(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=a({className:m("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:y,hours:p,displayHours:g,minutes:v,minHours:w,minMinutes:S,maxHours:T,maxMinutes:I,dayPeriod:L,opts:{hoursStep:P,minutesStep:N}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${d(g)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${d(v)}</span>   `+(y?`<span class='air-datepicker-time--current-ampm'>${L}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${p}" min="${w}" max="${T}" step="${P}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${v}" min="${S}" max="${I}" step="${N}"/>   </div></div>`}defineDOM(){let y=p=>o(p,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=y('[name="hours"]'),this.$minutes=y('[name="minutes"]'),this.$hoursText=y(".air-datepicker-time--current-hours"),this.$minutesText=y(".air-datepicker-time--current-minutes"),this.$ampm=y(".air-datepicker-time--current-ampm")}setTime(y){this.setMinMaxTime(y),this.setCurrentTime(y)}addTimeToDate(y){y&&(y.setHours(this.hours),y.setMinutes(this.minutes))}setMinMaxTime(y){if(this.setMinMaxTimeFromOptions(),y){let{minDate:p,maxDate:g}=this.dp;p&&_(y,p)&&this.setMinTimeFromMinDate(p),g&&_(y,g)&&this.setMaxTimeFromMaxDate(g)}}setCurrentTime(y){let{hours:p,minutes:g}=y?u(y):this;this.hours=R(p,this.minHours,this.maxHours),this.minutes=R(g,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:y,minMinutes:p,maxHours:g,maxMinutes:v}=this.opts;this.minHours=R(y,0,23),this.minMinutes=R(p,0,59),this.maxHours=R(g,0,23),this.maxMinutes=R(v,0,59)}setMinTimeFromMinDate(y){let{lastSelectedDate:p}=this.dp;this.minHours=y.getHours(),p&&p.getHours()>y.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=y.getMinutes()}setMaxTimeFromMaxDate(y){let{lastSelectedDate:p}=this.dp;this.maxHours=y.getHours(),p&&p.getHours()<y.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=y.getMinutes()}updateSliders(){c(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,c(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=d(this.displayHours),this.$minutesText.innerHTML=d(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(y){this._hours=y;let{hours:p,dayPeriod:g}=h(y);this.displayHours=this.ampm?p:y,this.dayPeriod=g}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function Ot(O,y,p){return(y=function(g){var v=function(w,S){if(typeof w!="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var I=T.call(w,"string");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(g);return typeof v=="symbol"?v:String(v)}(y))in O?Object.defineProperty(O,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):O[y]=p,O}class Pt{constructor(y){let{dp:p,opts:g}=y;Ot(this,"pressedKeys",new Set),Ot(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],v=>v.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],v=>v.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],v=>v.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],v=>v.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],v=>v.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],v=>v.year-=10],[["Control","Shift","ArrowUp"],(v,w)=>w.up()]])),Ot(this,"handleHotKey",v=>{let w=this.hotKeys.get(v),S=u(this.getInitialFocusDate());w(S,this.dp);let{year:T,month:I,date:L}=S,P=l(new Date(T,I));P<L&&(L=P);let N=this.dp.getClampedDate(new Date(T,I,L));this.dp.setFocusDate(N,{viewDateTransition:!0})}),Ot(this,"isHotKeyPressed",()=>{let v=!1,w=this.pressedKeys.size,S=T=>this.pressedKeys.has(T);for(let[T]of this.hotKeys){if(v)break;if(Array.isArray(T[0]))T.forEach(I=>{v||w!==I.length||(v=I.every(S)&&T)});else{if(w!==T.length)continue;v=T.every(S)&&T}}return v}),Ot(this,"isArrow",v=>v>=37&&v<=40),Ot(this,"onKeyDown",v=>{let{key:w,which:S}=v,{dp:T,dp:{focusDate:I},opts:L}=this;this.registerKey(w);let P=this.isHotKeyPressed();if(P)return v.preventDefault(),void this.handleHotKey(P);if(this.isArrow(S))return v.preventDefault(),void this.focusNextCell(w);if(w==="Enter"){if(T.currentView!==L.minView)return void T.down();if(I){let N=T._checkIfDateIsSelected(I);return void(N?T._handleAlreadySelectedDates(N,I):T.selectDate(I))}}w==="Escape"&&this.dp.hide()}),Ot(this,"onKeyUp",v=>{this.removeKey(v.key)}),this.dp=p,this.opts=g,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:y}=this.dp;y.addEventListener("keydown",this.onKeyDown),y.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:y}=this.dp;y.removeEventListener("keydown",this.onKeyDown),y.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:y,currentView:p,selectedDates:g,parsedViewDate:{year:v,month:w}}=this.dp,S=y||g[g.length-1];if(!S)switch(p){case i.days:S=new Date(v,w,new Date().getDate());break;case i.months:S=new Date(v,w,1);break;case i.years:S=new Date(v,0,1)}return S}focusNextCell(y){let p=this.getInitialFocusDate(),{currentView:g}=this.dp,{days:v,months:w,years:S}=i,T=u(p),I=T.year,L=T.month,P=T.date;switch(y){case"ArrowLeft":g===v&&(P-=1),g===w&&(L-=1),g===S&&(I-=1);break;case"ArrowUp":g===v&&(P-=7),g===w&&(L-=3),g===S&&(I-=4);break;case"ArrowRight":g===v&&(P+=1),g===w&&(L+=1),g===S&&(I+=1);break;case"ArrowDown":g===v&&(P+=7),g===w&&(L+=3),g===S&&(I+=4)}let N=this.dp.getClampedDate(new Date(I,L,P));this.dp.setFocusDate(N,{viewDateTransition:!0})}registerKey(y){this.pressedKeys.add(y)}removeKey(y){this.pressedKeys.delete(y)}}let se={on(O,y){this.__events||(this.__events={}),this.__events[O]?this.__events[O].push(y):this.__events[O]=[y]},off(O,y){this.__events&&this.__events[O]&&(this.__events[O]=this.__events[O].filter(p=>p!==y))},removeAllEvents(){this.__events={}},trigger(O){for(var y=arguments.length,p=new Array(y>1?y-1:0),g=1;g<y;g++)p[g-1]=arguments[g];this.__events&&this.__events[O]&&this.__events[O].forEach(v=>{v(...p)})}};function ut(O,y,p){return(y=function(g){var v=function(w,S){if(typeof w!="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var I=T.call(w,"string");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(g);return typeof v=="symbol"?v:String(v)}(y))in O?Object.defineProperty(O,y,{value:p,enumerable:!0,configurable:!0,writable:!0}):O[y]=p,O}let B="",G="",W=!1;class tt{static buildGlobalContainer(y){W=!0,B=a({className:y,id:y}),o("body").appendChild(B)}constructor(y,p){var g=this;if(ut(this,"viewIndexes",[i.days,i.months,i.years]),ut(this,"next",()=>{let{year:S,month:T}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(S,T+1,1));break;case i.months:this.setViewDate(new Date(S+1,T,1));break;case i.years:this.setViewDate(new Date(S+10,0,1))}}),ut(this,"prev",()=>{let{year:S,month:T}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(S,T-1,1));break;case i.months:this.setViewDate(new Date(S-1,T,1));break;case i.years:this.setViewDate(new Date(S-10,0,1))}}),ut(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),ut(this,"setPosition",function(S){let T=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(S=S||g.opts.position)=="function")return void(g.customHide=S({$datepicker:g.$datepicker,$target:g.$el,$pointer:g.$pointer,isViewChange:T,done:g._finishHide}));let I,L,{isMobile:P}=g.opts,N=g.$el.getBoundingClientRect(),U=g.$el.getBoundingClientRect(),K=g.$datepicker.offsetParent,st=g.$el.offsetParent,at=g.$datepicker.getBoundingClientRect(),_t=S.split(" "),kt=window.scrollY,Tt=window.scrollX,Lt=g.opts.offset,Ie=_t[0],En=_t[1];if(P)g.$datepicker.style.cssText="left: 50%; top: 50%";else{if(K===st&&K!==document.body&&(U={top:g.$el.offsetTop,left:g.$el.offsetLeft,width:N.width,height:g.$el.offsetHeight},kt=0,Tt=0),K!==st&&K!==document.body){let _i=K.getBoundingClientRect();U={top:N.top-_i.top,left:N.left-_i.left,width:N.width,height:N.height},kt=0,Tt=0}switch(Ie){case"top":I=U.top-at.height-Lt;break;case"right":L=U.left+U.width+Lt;break;case"bottom":I=U.top+U.height+Lt;break;case"left":L=U.left-at.width-Lt}switch(En){case"top":I=U.top;break;case"right":L=U.left+U.width-at.width;break;case"bottom":I=U.top+U.height-at.height;break;case"left":L=U.left;break;case"center":/left|right/.test(Ie)?I=U.top+U.height/2-at.height/2:L=U.left+U.width/2-at.width/2}g.$datepicker.style.cssText=`left: ${L+Tt}px; top: ${I+kt}px`}}),ut(this,"_setInputValue",()=>{let{opts:S,$altField:T,locale:{dateFormat:I}}=this,{altFieldDateFormat:L,altField:P}=S;P&&T&&(T.value=this._getInputValue(L)),this.$el.value=this._getInputValue(I)}),ut(this,"_getInputValue",S=>{let{selectedDates:T,opts:I}=this,{multipleDates:L,multipleDatesSeparator:P}=I;if(!T.length)return"";let N=typeof S=="function",U=N?S(L?T:T[0]):T.map(K=>this.formatDate(K,S));return U=N?U:U.join(P),U}),ut(this,"_checkIfDateIsSelected",function(S){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.days,I=!1;return g.selectedDates.some(L=>{let P=_(S,L,T);return I=P&&L,P}),I}),ut(this,"_scheduleCallAfterTransition",S=>{this._cancelScheduledCall(),S&&S(!1),this._onTransitionEnd=()=>{S&&S(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),ut(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),ut(this,"setViewDate",S=>{if(!((S=D(S))instanceof Date)||_(S,this.viewDate))return;let T=this.viewDate;this.viewDate=S;let{onChangeViewDate:I}=this.opts;if(I){let{month:L,year:P}=this.parsedViewDate;I({month:L,year:P,decade:this.curDecade})}this.trigger(i.eventChangeViewDate,S,T)}),ut(this,"setFocusDate",function(S){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!S||(S=D(S))instanceof Date)&&(g.focusDate=S,g.opts.range&&S&&g._handleRangeOnFocus(),g.trigger(i.eventChangeFocusDate,S,T))}),ut(this,"setCurrentView",S=>{if(this.viewIndexes.includes(S)){if(this.currentView=S,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(i.eventChangeCurrentView,S),!this.views[S]){let T=this.views[S]=new et({dp:this,opts:this.opts,type:S});this.shouldUpdateDOM&&this.$content.appendChild(T.$el)}this.opts.onChangeView&&this.opts.onChangeView(S)}}),ut(this,"_updateLastSelectedDate",S=>{this.lastSelectedDate=S,this.trigger(i.eventChangeLastSelectedDate,S)}),ut(this,"destroy",()=>{let{showEvent:S,isMobile:T}=this.opts,I=this.$datepicker.parentNode;I&&I.removeChild(this.$datepicker),this.$el.removeEventListener(S,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),T&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),ut(this,"update",function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=A({},g.opts);A(g.opts,S);let{timepicker:I,buttons:L,range:P,selectedDates:N,isMobile:U}=g.opts,K=g.visible||g.treatAsInline;g._createMinMaxDates(),g._limitViewDateByMaxMinDates(),g._handleLocale(),!T.selectedDates&&N&&g.selectDate(N),S.view&&g.setCurrentView(S.view),g._setInputValue(),T.range&&!P?(g.rangeDateTo=!1,g.rangeDateFrom=!1):!T.range&&P&&g.selectedDates.length&&(g.rangeDateFrom=g.selectedDates[0],g.rangeDateTo=g.selectedDates[1]),T.timepicker&&!I?(K&&g.timepicker.destroy(),g.timepicker=!1,g.$timepicker.parentNode.removeChild(g.$timepicker)):!T.timepicker&&I&&g._addTimepicker(),!T.buttons&&L?g._addButtons():T.buttons&&!L?(g.buttons.destroy(),g.$buttons.parentNode.removeChild(g.$buttons)):K&&T.buttons&&L&&g.buttons.clearHtml().render(),!T.isMobile&&U?(g.treatAsInline||G||g._createMobileOverlay(),g._addMobileAttributes(),g.visible&&g._showMobileOverlay()):T.isMobile&&!U&&(g._removeMobileAttributes(),g.visible&&(G.classList.remove("-active-"),typeof g.opts.position!="function"&&g.setPosition())),K&&(g.nav.update(),g.views[g.currentView].render(),g.currentView===i.days&&g.views[g.currentView].renderDayNames())}),ut(this,"isOtherMonth",S=>{let{month:T}=u(S);return T!==this.parsedViewDate.month}),ut(this,"isOtherYear",S=>{let{year:T}=u(S);return T!==this.parsedViewDate.year}),ut(this,"isOtherDecade",S=>{let{year:T}=u(S),[I,L]=f(this.viewDate);return T<I||T>L}),ut(this,"_onChangeSelectedDate",S=>{let{silent:T}=S;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!T&&this._triggerOnSelect()})}),ut(this,"_onChangeFocusedDate",function(S){let{viewDateTransition:T}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!S)return;let I=!1;T&&(I=g.isOtherMonth(S)||g.isOtherYear(S)||g.isOtherDecade(S)),I&&g.setViewDate(S),g.opts.onFocus&&g.opts.onFocus({datepicker:g,date:S})}),ut(this,"_onChangeTime",S=>{let{hours:T,minutes:I}=S,L=new Date,{lastSelectedDate:P,opts:{onSelect:N}}=this,U=P;P||(U=L);let K=this.getCell(U,this.currentViewSingular),st=K&&K.adpCell;st&&st.isDisabled||(U.setHours(T),U.setMinutes(I),P?(this._setInputValue(),N&&this._triggerOnSelect()):this.selectDate(U))}),ut(this,"_onFocus",S=>{this.visible||this.show()}),ut(this,"_onBlur",S=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),ut(this,"_onMouseDown",S=>{this.inFocus=!0}),ut(this,"_onMouseUp",S=>{this.inFocus=!1,this.$el.focus()}),ut(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),ut(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),ut(this,"getViewDates",function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i.days;return et.getDatesFunction(S)(g)}),ut(this,"isWeekend",S=>this.opts.weekends.includes(S)),ut(this,"getClampedDate",S=>{let{minDate:T,maxDate:I}=this,L=S;return I&&b(S,I)?L=I:T&&E(S,T)&&(L=T),L}),this.$el=o(y),!this.$el)return;this.$datepicker=a({className:"air-datepicker"}),this.opts=A({},r,p),this.$customContainer=!!this.opts.container&&o(this.opts.container),this.$altField=o(this.opts.altField||!1);let{view:v,startDate:w}=this.opts;w||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=D(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=v,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:y,treatAsInline:p,opts:{inline:g,isMobile:v,selectedDates:w,keyboardNav:S,onlyTimepicker:T}}=this,I=o("body");(!W||W&&B&&!I.contains(B))&&!g&&this.elIsInput&&!this.$customContainer&&tt.buildGlobalContainer(tt.defaultGlobalContainerId),!v||G||p||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(g||this._bindEvents(),S&&!T&&(this.keyboardNav=new Pt({dp:this,opts:y}))),w&&this.selectDate(w,{silent:!0}),this.opts.visible&&!p&&this.show(),v&&!p&&this.$el.setAttribute("readonly",!0),p&&this._createComponents()}_createMobileOverlay(){G=a({className:"air-datepicker-overlay"}),B.appendChild(G)}_createComponents(){let{opts:y,treatAsInline:p,opts:{inline:g,buttons:v,timepicker:w,position:S,classes:T,onlyTimepicker:I,isMobile:L}}=this;this._buildBaseHtml(),this.elIsInput&&(g||this._setPositionClasses(S)),!g&&this.elIsInput||this.$datepicker.classList.add("-inline-"),T&&this.$datepicker.classList.add(...T.split(" ")),I&&this.$datepicker.classList.add("-only-timepicker-"),L&&!p&&this._addMobileAttributes(),this.views[this.currentView]=new et({dp:this,type:this.currentView,opts:y}),this.nav=new X({dp:this,opts:y}),w&&this._addTimepicker(),v&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let y in this.views)this.views[y].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){G.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){G.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:y,maxDate:p}=this.opts;this.minDate=!!y&&D(y),this.maxDate=!!p&&D(p)}_addTimepicker(){this.$timepicker=a({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new Ft({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=a({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new nt({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(i.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(i.eventChangeFocusDate,this._onChangeFocusedDate),this.on(i.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:y}=this.opts;var p,g;this.elIsInput?y?(p=this.$datepicker,(g=this.$el).parentNode.insertBefore(p,g.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=o(".air-datepicker--content",this.$datepicker),this.$pointer=o(".air-datepicker--pointer",this.$datepicker),this.$nav=o(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:y,dateFormat:p,firstDay:g,timepicker:v,onlyTimepicker:w,timeFormat:S,dateTimeSeparator:T}=this.opts;var I;this.locale=(I=y,JSON.parse(JSON.stringify(I))),p&&(this.locale.dateFormat=p),S!==void 0&&S!==""&&(this.locale.timeFormat=S);let{timeFormat:L}=this.locale;if(g!==""&&(this.locale.firstDay=g),v&&typeof p!="function"){let P=L?T:"";this.locale.dateFormat=[this.locale.dateFormat,L||""].join(P)}w&&typeof p!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(y){if(typeof y=="function")return void this.$datepicker.classList.add("-custom-position-");let p=(y=y.split(" "))[0],g=`air-datepicker -${p}-${y[1]}- -from-${p}-`;this.$datepicker.classList.add(...g.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:y,minDate:p,maxDate:g}=this;g&&b(y,g)&&this.setViewDate(g),p&&E(y,p)&&this.setViewDate(p)}formatDate(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,p=arguments.length>1?arguments[1]:void 0;if(y=D(y),!(y instanceof Date))return;let g=p,v=this.locale,w=u(y),S=w.dayPeriod,T=f(y),I=tt.replacer,L={T:y.getTime(),m:w.minutes,mm:w.fullMinutes,h:w.hours12,hh:w.fullHours12,H:w.hours,HH:w.fullHours,aa:S,AA:S.toUpperCase(),E:v.daysShort[w.day],EEEE:v.days[w.day],d:w.date,dd:w.fullDate,M:w.month+1,MM:w.fullMonth,MMM:v.monthsShort[w.month],MMMM:v.months[w.month],yy:w.year.toString().slice(-2),yyyy:w.year,yyyy1:T[0],yyyy2:T[1]};for(let[P,N]of Object.entries(L))g=I(g,M(P),N);return g}down(y){this._handleUpDownActions(y,"down")}up(y){this._handleUpDownActions(y,"up")}selectDate(y){let p,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:v,parsedViewDate:w,selectedDates:S}=this,{updateTime:T}=g,{moveToOtherMonthsOnSelect:I,moveToOtherYearsOnSelect:L,multipleDates:P,range:N,autoClose:U,onBeforeSelect:K}=this.opts,st=S.length;if(Array.isArray(y))return y.forEach(at=>{this.selectDate(at,g)}),new Promise(at=>{setTimeout(at)});if((y=D(y))instanceof Date){if(K&&!K({date:y,datepicker:this}))return Promise.resolve();if(v===i.days&&y.getMonth()!==w.month&&I&&(p=new Date(y.getFullYear(),y.getMonth(),1)),v===i.years&&y.getFullYear()!==w.year&&L&&(p=new Date(y.getFullYear(),0,1)),p&&this.setViewDate(p),P&&!N){if(st===P)return;this._checkIfDateIsSelected(y)||S.push(y)}else if(N)switch(st){case 1:S.push(y),this.rangeDateTo||(this.rangeDateTo=y),b(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=y),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[y],this.rangeDateFrom=y,this.rangeDateTo="";break;default:this.selectedDates=[y],this.rangeDateFrom=y}else this.selectedDates=[y];return this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,silent:g==null?void 0:g.silent,date:y,updateTime:T}),this._updateLastSelectedDate(y),U&&!this.timepickerIsActive&&this.visible&&(P||N?N&&st===1&&this.hide():this.hide()),new Promise(at=>{setTimeout(at)})}}unselectDate(y){let p=this.selectedDates,g=this;if((y=D(y))instanceof Date)return p.some((v,w)=>{if(_(v,y))return p.splice(w,1),g.selectedDates.length?g._updateLastSelectedDate(g.selectedDates[g.selectedDates.length-1]):(g.rangeDateFrom="",g.rangeDateTo="",g._updateLastSelectedDate(!1)),this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,date:y}),!0})}replaceDate(y,p){let g=this.selectedDates.find(w=>_(w,y,this.currentView)),v=this.selectedDates.indexOf(g);v<0||_(this.selectedDates[v],p,this.currentView)||(this.selectedDates[v]=p,this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,date:p,updateTime:!0}),this._updateLastSelectedDate(p))}clear(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,silent:y.silent}),new Promise(p=>{setTimeout(p)})}show(){let{onShow:y,isMobile:p}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,y&&this._scheduleCallAfterTransition(y),p&&this._showMobileOverlay()}hide(){let{onHide:y,isMobile:p}=this.opts,g=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(v=>{!this.customHide&&(v&&g||!v&&!g)&&this._finishHide(),y&&y(v)}),p&&G.classList.remove("-active-")}_triggerOnSelect(){let y=[],p=[],{selectedDates:g,locale:v,opts:{onSelect:w,multipleDates:S,range:T}}=this,I=S||T,L=typeof v.dateFormat=="function";g.length&&(y=g.map(x),p=L?S?v.dateFormat(y):y.map(P=>v.dateFormat(P)):y.map(P=>this.formatDate(P,v.dateFormat))),w({date:I?y:y[0],formattedDate:I?p:p[0],datepicker:this})}_handleAlreadySelectedDates(y,p){const{range:g,toggleSelected:v}=this.opts;let w=typeof v=="function"?v({datepicker:this,date:p}):v;g&&(w||this.selectedDates.length!==2&&this.selectDate(p)),w?this.unselectDate(p):this._updateLastSelectedDate(y)}_handleUpDownActions(y,p){if(!((y=D(y||this.focusDate||this.viewDate))instanceof Date))return;let g=p==="up"?this.viewIndex+1:this.viewIndex-1;g>2&&(g=2),g<0&&(g=0),this.setViewDate(new Date(y.getFullYear(),y.getMonth(),1)),this.setCurrentView(this.viewIndexes[g])}_handleRangeOnFocus(){this.selectedDates.length===1&&(b(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.day;if(!((y=D(y))instanceof Date))return;let{year:g,month:v,date:w}=u(y),S=`[data-year="${g}"]`,T=`[data-month="${v}"]`,I={[i.day]:`${S}${T}[data-date="${w}"]`,[i.month]:`${S}${T}`,[i.year]:`${S}`};return this.views[this.currentView].$el.querySelector(I[p])}_showMobileOverlay(){G.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((y,p)=>parseFloat(p)+y,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return u(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return f(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===i.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===i.days}get $container(){return this.$customContainer||B}static replacer(y,p,g){return y.replace(p,function(v,w,S,T){return w+g+T})}}var bt;return ut(tt,"defaults",r),ut(tt,"version","3.4.0"),ut(tt,"defaultGlobalContainerId","air-datepicker-global-container"),bt=tt.prototype,Object.assign(bt,se),s.default}()})})(ST);var ET=ST.exports,Og={};Object.defineProperty(Og,"__esModule",{value:!0});var Pg=Og.default=void 0,K2={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",firstDay:0};Pg=Og.default=K2;const Y2={__name:"AirCalendar",props:{date:Date},emits:["dateInput"],setup(e,{emit:t}){const n=e,s=oe(null);let i=null;function r({date:o}){t("dateInput",o)}return Oa(()=>{i=new ET(s.value,{locale:Pg,startDate:n.date,onSelect:r})}),du(()=>{i&&i.destroy()}),(o,a)=>(q(),Z("div",{ref_key:"datepickerElement",ref:s},null,512))}};var X2=pe(Y2,[["__scopeId","data-v-06a1d228"]]);const J2={class:"dropdown"},Q2={__name:"DropDown",emits:["close"],setup(e,{emit:t}){return(n,s)=>(q(),_e(ap,{name:"dropdown-fade"},{default:Ys(()=>[z("div",J2,[c0(n.$slots,"body",{},void 0,!0)])]),_:3}))}};var Lg=pe(Q2,[["__scopeId","data-v-c93e4a36"]]);class Qy{constructor(t,n,s,i,r,o){this.id=t,this.name=n,this.typeId=s,this.selected=i,this.selectOptions=r,this.values=o}}class Z2{async getAllComponents(t){try{const n=`${pt.getAPIUrl()}/api/components`;return(await fetch(n,pt.GETRequestParams(t))).json()}catch(n){vt.handleGetAllError(t,de.COMPONENT,n)}}async getComponentById(t,n){try{const s=`${pt.getAPIUrl()}/api/components/${n}`;return(await fetch(s,pt.GETRequestParams(t))).json()}catch(s){vt.handleGetByIdError(t,de.COMPONENT,n,s)}}async addComponents(t,n){try{const s=`${pt.getAPIUrl()}/api/components`;return await fetch(s,pt.POSTRequestParams(t,n))}catch(s){vt.handleAddError(t,de.COMPONENT,n,s)}}async updateComponent(t,n){try{const s=`${pt.getAPIUrl()}/api/components/${n.id}`;return await fetch(s,pt.PUTRequestParams(t,n))}catch(s){vt.handleUpdateError(t,de.COMPONENT,n,s)}}async deleteComponents(t,n){try{const s=`${pt.getAPIUrl()}/api/components`;return await fetch(s,pt.DELETERequestParams(t,n))}catch(s){vt.handleDeleteError(t,de.COMPONENT,n,s)}}}class kc{constructor(){this.componentController=new Z2,this.userStore=gi()}async getAllComponents(){try{const t=await this.userStore.getAccessToken(),n=await this.componentController.getAllComponents(t);return n?JSON.parse(n):[]}catch(t){throw t}}async getComponentById(t){try{const n=await this.userStore.getAccessToken();return await this.componentController.getComponentById(n,t)}catch(n){throw n}}async addComponents(t){try{const n=await this.userStore.getAccessToken();return await this.componentController.addComponents(n,t)}catch(n){throw n}}async updateComponent(t){try{const n=await this.userStore.getAccessToken();await this.componentController.updateComponent(n,t);return}catch(n){throw n}}async deleteComponents(t){try{const n=await this.userStore.getAccessToken();return await this.componentController.deleteComponents(n,t)}catch(n){throw n}}}const lh=Qr("componentStore",{state:()=>({availableComponents:[],selectedComponents:[],newComponent:new Qy("","",-1,!1,[])}),actions:{async initializeComponentLists(){try{const t=await new kc().getAllComponents();this.availableComponents=t.filter(n=>!n.selected),this.selectedComponents=t.filter(n=>n.selected)}catch{vt.displayGenericError()}},async addComponents(e){try{await new kc().addComponents(e),await this.initializeComponentLists()}catch{vt.displayGenericError()}},async deleteComponents(e){try{const t=new kc,n=e.map(s=>s.id);await t.deleteComponents(e),this.availableComponents=await this.availableComponents.filter(s=>!n.includes(s.id))}catch{vt.displayGenericError()}},async toggleSelectedField(e,t){try{const n=new kc;if(e.selected=t,await n.updateComponent(e),t){const s=this.availableComponents.findIndex(i=>i===e);this.availableComponents.splice(s,1),this.selectedComponents.push(e)}else{const s=this.selectedComponents.findIndex(i=>i===e);this.selectedComponents.splice(s,1),this.availableComponents.push(e)}}catch{vt.displayGenericError()}},clearNewComponentForm(){this.newComponent=new Qy("","",-1,!1,[])}}});class tj{async getAllFoods(t){try{const n=`${pt.getAPIUrl()}/api/foods`;return(await fetch(n,pt.GETRequestParams(t))).json()}catch(n){vt.handleGetAllError(t,de.FOODITEM,n)}}async getFoodById(t,n){try{const s=`${pt.getAPIUrl()}/api/foods/${n}`;return(await fetch(s,pt.GETRequestParams(t))).json()}catch(s){vt.handleGetByIdError(t,de.FOODITEM,n,s)}}async addFoods(t,n){try{const s=`${pt.getAPIUrl()}/api/foods`;return await fetch(s,pt.POSTRequestParams(t,n))}catch(s){vt.handleAddError(t,de.FOODITEM,n,s)}}async deleteFoods(t,n){try{const s=`${pt.getAPIUrl()}/api/foods`;return await fetch(s,pt.DELETERequestParams(t,n))}catch(s){vt.handleDeleteError(t,de.FOODITEM,n,s)}}}class td{constructor(){this.foodController=new tj,this.userStore=gi()}async getAllFoods(){try{const t=await this.userStore.getAccessToken(),n=await this.foodController.getAllFoods(t);return n?JSON.parse(n):[]}catch(t){throw t}}async getFoodById(t){try{const n=await this.userStore.getAccessToken();return await this.foodController.getFoodById(n,t)}catch(n){throw n}}async addFoods(t){try{const n=await this.userStore.getAccessToken();return await this.foodController.addFoods(n,t)}catch(n){throw n}}async deleteFoods(t){try{const n=await this.userStore.getAccessToken();return await this.foodController.deleteFoods(n,t)}catch(n){throw n}}}const TT=Qr("foodStore",{state:()=>({foods:[]}),actions:{getExistingFood(e){return this.foods.find(t=>t.name===e)},async initializeFoodList(){try{const e=new td;this.foods=await e.getAllFoods()}catch{vt.displayGenericError()}},async addFoods(e){try{await new td().addFoods(e),await this.initializeFoodList()}catch{vt.displayGenericError()}},async deleteFoods(e){try{const t=new td,n=e.map(s=>s.id);await t.deleteFoods(e),this.foods=await this.foods.filter(s=>!n.includes(s.id))}catch{vt.displayGenericError()}}}}),ej={class:"container"},nj={class:"date-header-container"},sj=["aria-label"],ij={__name:"Home",setup(e){const t=ch(),n=lh(),s=TT();Aa(async()=>{await n.initializeComponentLists(),await t.initializeStore(a.value,n.selectedComponents),await s.initializeFoodList()});let i=oe(!1),r=new Date,o=oe(!1),a=Qt(()=>new Date().toLocaleDateString());Qt(()=>new Date);async function c(){i.value&&(await s.addFoods(t.selectedDateLog.foodItems),t.selectedDateLog.foodItems=t.selectedDateLog.foodItems.map(_=>s.getExistingFood(_.name)),t.addDateLogs(new Array(t.selectedDateLog))),i.value||(t.dateLogCopy=JSON.parse(JSON.stringify(t.selectedDateLog))),i.value=!i.value}async function l(){const _=new Date(t.selectedDateLog.date);_.setDate(_.getDate()+1),t.selectDay(_.toLocaleDateString("en-us",{timeZone:"UTC"}))}async function u(){const _=new Date(t.selectedDateLog.date);_.setDate(_.getDate()-1),t.selectDay(_.toLocaleDateString("en-us",{timeZone:"UTC"}))}async function h(){t.selectDay(r.toLocaleDateString("en-us",{timeZone:"UTC"}))}function d(_){r=new Date(_),h(),f()}function f(){o.value=!1}function m(){t.selectedDateLog=JSON.parse(JSON.stringify(t.dateLogCopy)),i.value=!1}return(_,b)=>{const E=Gn("ion-icon");return q(),Z("div",ej,[z("div",nj,[z("div",{id:"homeHeader",onClick:b[5]||(b[5]=cp(x=>f(),["self"])),role:"heading","aria-labelledby":"calendarLabel","aria-level":"1"},[z("div",null,[rt(i)?Rt("",!0):(q(),Z("a",{key:0,href:"#",onClick:b[0]||(b[0]=x=>u()),"aria-label":"Previous Day"},[dt(E,{name:"caret-back","aria-hidden":"true"})])),z("a",{href:"#",onClick:b[1]||(b[1]=x=>ne(o)?o.value=!0:o=!0)},[z("h1",{id:"calendarLabel","aria-live":"polite","aria-label":rt(t).dayTitle},re(rt(t).dayTitle),9,sj)]),rt(i)?Rt("",!0):(q(),Z("a",{key:1,href:"#",onClick:b[2]||(b[2]=x=>l()),"aria-label":"Next Day"},[dt(E,{name:"caret-forward","aria-hidden":"true"})]))]),z("div",null,[rt(i)?(q(),Z("button",{key:0,id:"closeEditButton",onClick:b[3]||(b[3]=x=>m())},"Close")):Rt("",!0),z("button",{id:"saveEditButton",onClick:b[4]||(b[4]=x=>c())},re(rt(i)?"Save":"Edit"),1)])]),rt(o)&&!rt(i)?(q(),_e(Lg,{key:0,class:"date-dropdown",role:"dialog","aria-modal":"true"},{body:Ys(()=>[dt(X2,{onDateInput:d})]),_:1})):Rt("",!0)]),dt(q2,{id:"homeBody",editMode:rt(i),onClick:b[6]||(b[6]=x=>f()),role:"main"},null,8,["editMode"])])}}};var rj=pe(ij,[["__scopeId","data-v-7838b597"]]);const oj={class:"container"},aj={__name:"UserProfile",props:{user:Object},setup(e){const t=gi();function n(){t.logoutUser()}return(s,i)=>(q(),Z("div",oj,[z("p",null,"Logged in as "+re(rt(Ee).currentUser.displayName),1),z("button",{onClick:i[0]||(i[0]=r=>n())},"Sign Out")]))}};var cj=pe(aj,[["__scopeId","data-v-1fe39051"]]);const tc=e=>(Xr("data-v-e2b0afde"),e=e(),Jr(),e),lj=tc(()=>z("h3",null,"Add New Component",-1)),uj={class:"flex-item"},hj=tc(()=>z("label",{for:"new-component-name"},"Name:",-1)),dj={class:"flex-item"},fj=tc(()=>z("label",{for:"new-component-type"},"Type:",-1)),pj=["value"],gj={key:0,class:"flex-item"},mj=tc(()=>z("label",null,"Options:",-1)),_j=["id","onUpdate:modelValue"],yj={class:"flex-item submit-container"},bj=tc(()=>z("button",{id:"save-add-component",type:"submit"},"Save",-1)),vj={__name:"AddComponent",emits:["closeAddComponentPanel"],setup(e,{emit:t}){const n=lh(),{newComponent:s,availableComponents:i,selectedComponents:r}=lp(n),o=oe(null),a=oe([]);function c(k){return C=>{C&&(a.value[k]=C)}}const l=[{label:"Slider",typeId:1},{label:"Single Select",typeId:2},{label:"Multi Select",typeId:3}];let u=Qt(()=>s.value.typeId===2||s.value.typeId===3),h=Qt(()=>s.value.selectOptions.filter(k=>k.text!=="").length);function d(){s.value.selectOptions.push({text:"",value:""}),s.value.selectOptions.push({text:"",value:""}),a.value.push(oe(null)),a.value.push(oe(null))}function f(){s.value.selectOptions.push({text:"",value:""}),a.value.push(oe(null))}async function m(){try{if(!_())return;s.value.selectOptions.map(k=>{k.value=k.text}),s.value.selectOptions=s.value.selectOptions.filter(k=>k.text!==""),await n.addComponents(new Array(s.value))}catch(k){console.log(k)}x()}function _(){if(s.value.name===null||s.value.name==="")return!1;if(i.value.find(C=>C.name===s.value.name)||r.value.find(C=>C.name===s.value.name))return E(o.value,"An existing component already has this name."),!1;if(s.value.typeId===null||s.value.typeId===-1)return!1;if(u.value){if(h.value<2)return E(a.value[1],"Please create at least two options."),!1;if(b())return E(a.value[0],"One or more options are duplicate"),!1}return!0}function b(){const k=new Set;for(const C of s.value.selectOptions){if(k.has(C.text))return!0;k.add(C.text)}return!1}function E(k,C){k.setCustomValidity(C),k.reportValidity(),setTimeout(()=>{k.setCustomValidity("")},2e3)}function x(){t("closeAddComponentPanel")}return Xs(u,(k,C)=>{k&&d()}),(k,C)=>{const R=Gn("ion-icon");return q(),Z("form",{id:"add-component-form",class:"add-component-container",onSubmit:C[4]||(C[4]=cp(A=>m(),["prevent"]))},[lj,z("div",uj,[hj,je(z("input",{class:"add-component-input",id:"new-component-name","onUpdate:modelValue":C[0]||(C[0]=A=>rt(s).name=A),ref_key:"nameInputRef",ref:o,required:"",minlength:"1",maxlength:"30",placeholder:"Enter a name"},null,512),[[ys,rt(s).name]])]),z("div",dj,[fj,je(z("select",{class:"add-component-dropdown",id:"new-component-type","onUpdate:modelValue":C[1]||(C[1]=A=>rt(s).typeId=A),required:""},[(q(),Z(Gt,null,Ge(l,A=>z("option",{value:A.typeId,key:A.typeId},re(A.label),9,pj)),64))],512),[[Wc,rt(s).typeId]])]),rt(u)?(q(),Z("div",gj,[mj,(q(!0),Z(Gt,null,Ge(rt(s).selectOptions,(A,D)=>(q(),Z("div",{key:A.value},[je(z("input",{class:"add-component-options-input",id:`new-component-options-${D}`,"onUpdate:modelValue":M=>A.text=M,ref_for:!0,ref:c(D)},null,8,_j),[[ys,A.text]])]))),128)),rt(s).selectOptions.length<5?(q(),Z("button",{key:0,onClick:C[2]||(C[2]=A=>f()),id:"add-new-option-button",type:"button"},[dt(R,{name:"add-circle-outline"})])):Rt("",!0)])):Rt("",!0),z("div",yj,[bj,z("button",{id:"cancel-add-component",type:"button",onClick:C[3]||(C[3]=A=>x())},"Cancel")])],32)}}};var wj=pe(vj,[["__scopeId","data-v-e2b0afde"]]);const xT=e=>(Xr("data-v-7b6122c9"),e=e(),Jr(),e),Sj={class:"flex-column component-container"},Ej={class:"add-component-container"},Tj=xT(()=>z("h2",null,"Available Components: ",-1)),xj={class:"component-display"},kj={class:"flex-column component-container"},Cj=xT(()=>z("h2",null,"Selected Components: ",-1)),Ij={class:"component-display"},Dj={__name:"Layout",setup(e){const t=ch(),n=lh(),{availableComponents:s,selectedComponents:i,newComponent:r}=lp(n);Aa(async()=>{await n.initializeComponentLists(),await t.initializeStore(a.value,n.selectedComponents)});const o=oe(!1);let a=Qt(()=>new Date().toLocaleDateString());async function c(h){const d=!h.selected;await n.toggleSelectedField(h,d),d?await t.addDateLogComponent(h):await t.removeDateLogComponent(h)}function l(){o.value=!o.value}function u(){n.clearNewComponentForm(),o.value=!1}return(h,d)=>(q(),Z("div",{class:"container",onClick:d[0]||(d[0]=cp(f=>u(),["self"]))},[z("div",Sj,[z("div",Ej,[Tj,z("button",{onClick:l},"Add Component"),o.value?(q(),_e(Lg,{key:0,class:"add-component-dropdown"},{body:Ys(()=>[dt(wj,{onCloseAddComponentPanel:u})]),_:1})):Rt("",!0)]),z("div",xj,[(q(!0),Z(Gt,null,Ge(rt(s),f=>(q(),_e(Tf,{key:f.id,component:f,disabled:!0,layout:!0,onToggleComponentSelection:m=>c(f),onDeleteComponent:m=>rt(n).deleteComponents([f])},null,8,["component","onToggleComponentSelection","onDeleteComponent"]))),128))])]),z("div",kj,[Cj,z("div",Ij,[(q(!0),Z(Gt,null,Ge(rt(i),f=>(q(),_e(Tf,{key:f.id,component:f,disabled:!0,layout:!0,onToggleComponentSelection:m=>c(f)},null,8,["component","onToggleComponentSelection"]))),128))])])]))}};var Rj=pe(Dj,[["__scopeId","data-v-7b6122c9"]]);const on=Object.freeze({AVERAGE:"AVERAGE",FOODVALUE:"FOOD VALUE",SVCWEIGHTBYFOOD:"SVC WEIGHT BY FOOD",MVCWEIGHTBYFOOD:"MVC WEIGHT BY FOOD"});class Mj{async getAllCharts(t){try{const n=`${pt.getAPIUrl()}/api/charts`;return(await fetch(n,pt.GETRequestParams(t))).json()}catch(n){vt.handleGetAllError(t,de.CHART,n)}}async getChartById(t,n){try{const s=`${pt.getAPIUrl()}/api/charts/${n}`;return(await fetch(s,pt.GETRequestParams(t))).json()}catch(s){vt.handleGetByIdError(t,de.CHART,n,s)}}async addCharts(t,n){try{const s=`${pt.getAPIUrl()}/api/charts`;return await fetch(s,pt.POSTRequestParams(t,n))}catch(s){vt.handleAddError(t,de.CHART,n,s)}}async updateChart(t,n){try{const s=`${pt.getAPIUrl()}/api/charts/${n.id}`;return await fetch(s,pt.PUTRequestParams(t,n))}catch(s){vt.handleUpdateError(t,de.CHART,n,s)}}async deleteCharts(t,n){try{const s=`${pt.getAPIUrl()}/api/charts`;return await fetch(s,pt.DELETERequestParams(t,n))}catch(s){vt.handleDeleteError(t,de.CHART,n,s)}}async createAverageChart(t,n){try{const s=`${pt.getAPIUrl()}/api/charts/average`;return(await fetch(s,pt.POSTRequestParams(t,n))).json()}catch(s){vt.handleChartError(t,on.AVERAGE,n,s)}}async createFoodValueChart(t,n){try{const s=`${pt.getAPIUrl()}/api/charts/food-value`;return(await fetch(s,pt.POSTRequestParams(t,n))).json()}catch(s){vt.handleChartError(t,on.FOODVALUE,n,s)}}async createSingleValueComponentWeightByFoodChart(t,n){try{const s=`${pt.getAPIUrl()}/api/charts/single-value-component-weight-by-food`;return(await fetch(s,pt.POSTRequestParams(t,n))).json()}catch(s){vt.handleChartError(t,on.SVCWEIGHTBYFOOD,n,s)}}async createMultiValueComponentWeightByFoodChart(t,n){try{const s=`${pt.getAPIUrl()}/api/charts/multi-value-component-weight-by-food`;return(await fetch(s,pt.POSTRequestParams(t,n))).json()}catch(s){vt.handleChartError(t,on.MVCWEIGHTBYFOOD,n,s)}}}class Ei{constructor(){this.chartController=new Mj,this.userStore=gi()}async getAllCharts(){try{const t=await this.userStore.getAccessToken(),n=await this.chartController.getAllCharts(t);return n?JSON.parse(n):[]}catch(t){throw t}}async getChartById(t){try{const n=await this.userStore.getAccessToken();return await this.chartController.getChartById(n,t)}catch(n){throw n}}async addCharts(t){try{const n=await this.userStore.getAccessToken();return await this.chartController.addCharts(n,t)}catch(n){throw n}}async updateChart(t){try{const n=await this.userStore.getAccessToken();await this.chartController.updateChart(n,t)}catch(n){throw n}}async deleteCharts(t){try{const n=await this.userStore.getAccessToken();return await this.chartController.deleteCharts(n,t)}catch(n){throw n}}async createAverageChart(t){try{const n=await this.userStore.getAccessToken(),s=await this.chartController.createAverageChart(n,t);return s?JSON.parse(s):null}catch(n){throw n}}async createFoodValueChart(t){try{const n=await this.userStore.getAccessToken(),s=await this.chartController.createFoodValueChart(n,t);return s?JSON.parse(s):null}catch(n){throw n}}async createSingleValueComponentWeightByFoodChart(t){try{const n=await this.userStore.getAccessToken(),s=await this.chartController.createSingleValueComponentWeightByFoodChart(n,t);return s?JSON.parse(s):null}catch(n){throw n}}async createMultiValueComponentWeightByFoodChart(t){try{const n=await this.userStore.getAccessToken(),s=await this.chartController.createMultiValueComponentWeightByFoodChart(n,t);return s?JSON.parse(s):null}catch(n){throw n}}}class xf{constructor(t,n,s,i,r,o,a,c,l,u){this.id=t,this.chartTitle=n,this.chartType=s,this.chartShape=i,this.chartData=r,this.chartOptions=o,this.selectedComponent=a,this.selectedFood=c,this.startDate=l,this.endDate=u}}class Aj{constructor(t){this.display=!0,this.text=t}}class Oj{constructor(t){this.title=new Aj(t)}}class Ng{constructor(t){this.plugins=new Oj(t)}}class go{constructor(t,n,s,i){this.name=t,this.isOpen=n,this.maxHeight=s,this.maxWidth=i}}const Li=Object.freeze({BAR:"bar",LINE:"line",PIE:"pie",DOUGHNUT:"doughnut",RADAR:"radar"}),Fg=Qr("chartStore",{state:()=>({charts:[],dateRange:[],newChartDetails:new xf(null,"","","",null,null,null,null,"",""),chartShapeParams:[]}),actions:{async createAverageChart(e){try{return await new Ei().createAverageChart(e)}catch{console.log("Show error")}},async createFoodValueChart(e){try{return await new Ei().createFoodValueChart(e)}catch{console.log("Show error")}},async createSingleValueComponentWeightByFoodChart(e){try{return await new Ei().createSingleValueComponentWeightByFoodChart(e)}catch{console.log("Show error")}},async createMultiValueComponentWeightByFoodChart(e){try{return await new Ei().createMultiValueComponentWeightByFoodChart(e)}catch{console.log("Show error")}},resetNewChartDetails(){const e="New Chart - "+this.charts.length,t=new Ng(e);this.newChartDetails=new xf(this.newChartDetails.id,e,null,this.newChartDetails.chartShape,null,t,null,null,"","")},async addCharts(){var e;try{const t=new Ei,n=[this.newChartDetails];await t.addCharts(n),(e=this.newChartDetails.id)!=null&&e.startsWith("chart")?await this.charts.push(this.newChartDetails):this.charts=this.charts.map(s=>s.id===this.newChartDetails.id?this.newChartDetails:s)}catch{console.log("Show error")}},async deleteCharts(e){try{const t=new Ei,n=e.map(s=>s.id);await t.deleteCharts(e),this.charts=await this.charts.filter(s=>!n.includes(s.id))}catch{console.log("Show error")}},async initializeCharts(){try{const e=new Ei;this.charts=[],this.charts.push(...await e.getAllCharts())}catch{console.log("Show error")}},async recalculateCharts(){try{const e=this.charts.map(async t=>{if(this.dateRange.length!==0&&this.dateRange.length!==2)return t;const n={...t,startDate:this.dateRange[0]?this.dateRange[0].toLocaleDateString():null,endDate:this.dateRange[1]?this.dateRange[1].toLocaleDateString():null};switch(n.chartType){case on.AVERAGE:return await this.createAverageChart(n);case on.FOODVALUE:return await this.createFoodValueChart(n);case on.SVCWEIGHTBYFOOD:return await this.createSingleValueComponentWeightByFoodChart(n);case on.MVCWEIGHTBYFOOD:return await this.createMultiValueComponentWeightByFoodChart(n);default:return t}});this.charts=await Promise.all(e)}catch{console.log("Show error")}},initializeChartShapeParams(){this.chartShapeParams=[],this.chartShapeParams.push(new go(Li.BAR,!0,"250px","400px")),this.chartShapeParams.push(new go(Li.LINE,!0,"250px","400px")),this.chartShapeParams.push(new go(Li.PIE,!0,"350px","300px")),this.chartShapeParams.push(new go(Li.DOUGHNUT,!0,"350px","300px")),this.chartShapeParams.push(new go(Li.RADAR,!0,"350px","300px"))}}});/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function ec(e){return e+.5|0}const Vs=(e,t,n)=>Math.max(Math.min(e,n),t);function Co(e){return Vs(ec(e*2.55),0,255)}function ni(e){return Vs(ec(e*255),0,255)}function is(e){return Vs(ec(e/2.55)/100,0,1)}function Zy(e){return Vs(ec(e*100),0,100)}const rn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},kf=[..."0123456789ABCDEF"],Pj=e=>kf[e&15],Lj=e=>kf[(e&240)>>4]+kf[e&15],Cc=e=>(e&240)>>4===(e&15),Nj=e=>Cc(e.r)&&Cc(e.g)&&Cc(e.b)&&Cc(e.a);function Fj(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&rn[e[1]]*17,g:255&rn[e[2]]*17,b:255&rn[e[3]]*17,a:t===5?rn[e[4]]*17:255}:(t===7||t===9)&&(n={r:rn[e[1]]<<4|rn[e[2]],g:rn[e[3]]<<4|rn[e[4]],b:rn[e[5]]<<4|rn[e[6]],a:t===9?rn[e[7]]<<4|rn[e[8]]:255})),n}const $j=(e,t)=>e<255?t(e):"";function Bj(e){var t=Nj(e)?Pj:Lj;return e?"#"+t(e.r)+t(e.g)+t(e.b)+$j(e.a,t):void 0}const Uj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kT(e,t,n){const s=t*Math.min(n,1-n),i=(r,o=(r+e/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Hj(e,t,n){const s=(i,r=(i+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function jj(e,t,n){const s=kT(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)s[i]*=1-t-n,s[i]+=t;return s}function Vj(e,t,n,s,i){return e===i?(t-n)/s+(t<n?6:0):t===i?(n-e)/s+2:(e-t)/s+4}function $g(e){const n=e.r/255,s=e.g/255,i=e.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let c,l,u;return r!==o&&(u=r-o,l=a>.5?u/(2-r-o):u/(r+o),c=Vj(n,s,i,u,r),c=c*60+.5),[c|0,l||0,a]}function Bg(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(ni)}function Ug(e,t,n){return Bg(kT,e,t,n)}function zj(e,t,n){return Bg(jj,e,t,n)}function Wj(e,t,n){return Bg(Hj,e,t,n)}function CT(e){return(e%360+360)%360}function qj(e){const t=Uj.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Co(+t[5]):ni(+t[5]));const i=CT(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=zj(i,r,o):t[1]==="hsv"?s=Wj(i,r,o):s=Ug(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function Gj(e,t){var n=$g(e);n[0]=CT(n[0]+t),n=Ug(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Kj(e){if(!e)return;const t=$g(e),n=t[0],s=Zy(t[1]),i=Zy(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${i}%, ${is(e.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const tb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},eb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Yj(){const e={},t=Object.keys(eb),n=Object.keys(tb);let s,i,r,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,tb[r]);r=parseInt(eb[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Ic;function Xj(e){Ic||(Ic=Yj(),Ic.transparent=[0,0,0,0]);const t=Ic[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Jj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Qj(e){const t=Jj.exec(e);let n=255,s,i,r;if(!!t){if(t[7]!==s){const o=+t[7];n=t[8]?Co(o):Vs(o*255,0,255)}return s=+t[1],i=+t[3],r=+t[5],s=255&(t[2]?Co(s):Vs(s,0,255)),i=255&(t[4]?Co(i):Vs(i,0,255)),r=255&(t[6]?Co(r):Vs(r,0,255)),{r:s,g:i,b:r,a:n}}}function Zj(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${is(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const ed=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ur=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function tV(e,t,n){const s=ur(is(e.r)),i=ur(is(e.g)),r=ur(is(e.b));return{r:ni(ed(s+n*(ur(is(t.r))-s))),g:ni(ed(i+n*(ur(is(t.g))-i))),b:ni(ed(r+n*(ur(is(t.b))-r))),a:e.a+n*(t.a-e.a)}}function Dc(e,t,n){if(e){let s=$g(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=Ug(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function IT(e,t){return e&&Object.assign(t||{},e)}function nb(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ni(e[3]))):(t=IT(e,{r:0,g:0,b:0,a:1}),t.a=ni(t.a)),t}function eV(e){return e.charAt(0)==="r"?Qj(e):qj(e)}class Sa{constructor(t){if(t instanceof Sa)return t;const n=typeof t;let s;n==="object"?s=nb(t):n==="string"&&(s=Fj(t)||Xj(t)||eV(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=IT(this._rgb);return t&&(t.a=is(t.a)),t}set rgb(t){this._rgb=nb(t)}rgbString(){return this._valid?Zj(this._rgb):void 0}hexString(){return this._valid?Bj(this._rgb):void 0}hslString(){return this._valid?Kj(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,i=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,c=s.a-i.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-l,s.r=255&l*s.r+r*i.r+.5,s.g=255&l*s.g+r*i.g+.5,s.b=255&l*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=tV(this._rgb,t._rgb,n)),this}clone(){return new Sa(this.rgb)}alpha(t){return this._rgb.a=ni(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=ec(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Dc(this._rgb,2,t),this}darken(t){return Dc(this._rgb,2,-t),this}saturate(t){return Dc(this._rgb,1,t),this}desaturate(t){return Dc(this._rgb,1,-t),this}rotate(t){return Gj(this._rgb,t),this}}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Jn(){}const nV=(()=>{let e=0;return()=>e++})();function Mt(e){return e===null||typeof e=="undefined"}function Yt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Et(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ae(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Xe(e,t){return ae(e)?e:t}function mt(e,t){return typeof e=="undefined"?t:e}const sV=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,DT=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function qt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Ut(e,t,n,s){let i,r,o;if(Yt(e))if(r=e.length,s)for(i=r-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<r;i++)t.call(n,e[i],i);else if(Et(e))for(o=Object.keys(e),r=o.length,i=0;i<r;i++)t.call(n,e[o[i]],o[i])}function Yl(e,t){let n,s,i,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(i=e[n],r=t[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Xl(e){if(Yt(e))return e.map(Xl);if(Et(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let i=0;for(;i<s;++i)t[n[i]]=Xl(e[n[i]]);return t}return e}function RT(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function iV(e,t,n,s){if(!RT(e))return;const i=t[e],r=n[e];Et(i)&&Et(r)?Ea(i,r,s):t[e]=Xl(r)}function Ea(e,t,n){const s=Yt(t)?t:[t],i=s.length;if(!Et(e))return e;n=n||{};const r=n.merger||iV;let o;for(let a=0;a<i;++a){if(o=s[a],!Et(o))continue;const c=Object.keys(o);for(let l=0,u=c.length;l<u;++l)r(c[l],e,o,n)}return e}function Go(e,t){return Ea(e,t,{merger:rV})}function rV(e,t,n){if(!RT(e))return;const s=t[e],i=n[e];Et(s)&&Et(i)?Go(s,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Xl(i))}const sb={"":e=>e,x:e=>e.x,y:e=>e.y};function oV(e){const t=e.split("."),n=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function aV(e){const t=oV(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function li(e,t){return(sb[t]||(sb[t]=aV(t)))(e)}function Hg(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ta=e=>typeof e!="undefined",ui=e=>typeof e=="function",ib=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function cV(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const te=Math.PI,Xt=2*te,lV=Xt+te,Jl=Number.POSITIVE_INFINITY,uV=te/180,ce=te/2,Ti=te/4,rb=te*2/3,zs=Math.log10,jn=Math.sign;function Ko(e,t,n){return Math.abs(e-t)<n}function ob(e){const t=Math.round(e);e=Ko(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(zs(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function hV(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((i,r)=>i-r).pop(),t}function Vr(e){return!isNaN(parseFloat(e))&&isFinite(e)}function dV(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function MT(e,t,n){let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function mn(e){return e*(te/180)}function jg(e){return e*(180/te)}function ab(e){if(!ae(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function AT(e,t){const n=t.x-e.x,s=t.y-e.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*te&&(r+=Xt),{angle:r,distance:i}}function Cf(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function fV(e,t){return(e-t+lV)%Xt-te}function Qe(e){return(e%Xt+Xt)%Xt}function xa(e,t,n,s){const i=Qe(e),r=Qe(t),o=Qe(n),a=Qe(r-i),c=Qe(o-i),l=Qe(i-r),u=Qe(i-o);return i===r||i===o||s&&r===o||a>c&&l<u}function we(e,t,n){return Math.max(t,Math.min(n,e))}function pV(e){return we(e,-32768,32767)}function fs(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function Vg(e,t,n){n=n||(o=>e[o]<t);let s=e.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const ps=(e,t,n,s)=>Vg(e,n,s?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),gV=(e,t,n)=>Vg(e,n,s=>e[s][t]>=n);function mV(e,t,n){let s=0,i=e.length;for(;s<i&&e[s]<t;)s++;for(;i>s&&e[i-1]>n;)i--;return s>0||i<e.length?e.slice(s,i):e}const OT=["push","pop","shift","splice","unshift"];function _V(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),OT.forEach(n=>{const s="_onData"+Hg(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function cb(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(OT.forEach(r=>{delete e[r]}),delete e._chartjs)}function PT(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const LT=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function NT(e,t){let n=[],s=!1;return function(...i){n=i,s||(s=!0,LT.call(window,()=>{s=!1,e.apply(t,n)}))}}function yV(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const zg=e=>e==="start"?"left":e==="end"?"right":"center",De=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,bV=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t;function FT(e,t,n){const s=t.length;let i=0,r=s;if(e._sorted){const{iScale:o,_parsed:a}=e,c=o.axis,{min:l,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(i=we(Math.min(ps(a,o.axis,l).lo,n?s:ps(t,c,o.getPixelForValue(l)).lo),0,s-1)),d?r=we(Math.max(ps(a,o.axis,u,!0).hi+1,n?0:ps(t,c,o.getPixelForValue(u),!0).hi+1),i,s)-i:r=s-i}return{start:i,count:r}}function $T(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=i,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Rc=e=>e===0||e===1,lb=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Xt/n)),ub=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Xt/n)+1,Yo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ce)+1,easeOutSine:e=>Math.sin(e*ce),easeInOutSine:e=>-.5*(Math.cos(te*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Rc(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Rc(e)?e:lb(e,.075,.3),easeOutElastic:e=>Rc(e)?e:ub(e,.075,.3),easeInOutElastic(e){return Rc(e)?e:e<.5?.5*lb(e*2,.1125,.45):.5+.5*ub(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Yo.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Yo.easeInBounce(e*2)*.5:Yo.easeOutBounce(e*2-1)*.5+.5};function Wg(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function hb(e){return Wg(e)?e:new Sa(e)}function nd(e){return Wg(e)?e:new Sa(e).saturate(.5).darken(.1).hexString()}const vV=["x","y","borderWidth","radius","tension"],wV=["color","borderColor","backgroundColor"];function SV(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:wV},numbers:{type:"number",properties:vV}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function EV(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const db=new Map;function TV(e,t){t=t||{};const n=e+JSON.stringify(t);let s=db.get(n);return s||(s=new Intl.NumberFormat(e,t),db.set(n,s)),s}function nc(e,t,n){return TV(t,n).format(e)}const BT={values(e){return Yt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let i,r=e;if(n.length>1){const l=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),r=xV(e,n)}const o=zs(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),nc(e,s,c)},logarithmic(e,t,n){if(e===0)return"0";const s=n[t].significand||e/Math.pow(10,Math.floor(zs(e)));return[1,2,3,5,10,15].includes(s)||t>.8*n.length?BT.numeric.call(this,e,t,n):""}};function xV(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var uh={formatters:BT};function kV(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:uh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Zi=Object.create(null),If=Object.create(null);function Xo(e,t){if(!t)return e;const n=t.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];e=e[r]||(e[r]=Object.create(null))}return e}function sd(e,t,n){return typeof t=="string"?Ea(Xo(e,t),n):Ea(Xo(e,""),t)}class CV{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>nd(i.backgroundColor),this.hoverBorderColor=(s,i)=>nd(i.borderColor),this.hoverColor=(s,i)=>nd(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return sd(this,t,n)}get(t){return Xo(this,t)}describe(t,n){return sd(If,t,n)}override(t,n){return sd(Zi,t,n)}route(t,n,s,i){const r=Xo(this,t),o=Xo(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],l=o[i];return Et(c)?Object.assign({},l,c):mt(c,l)},set(c){this[a]=c}}})}apply(t){t.forEach(n=>n(this))}}var le=new CV({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[SV,EV,kV]);function IV(e){return!e||Mt(e.size)||Mt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ql(e,t,n,s,i){let r=t[i];return r||(r=t[i]=e.measureText(i).width,n.push(i)),r>s&&(s=r),s}function DV(e,t,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(i=s.data={},r=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let o=0;const a=n.length;let c,l,u,h,d;for(c=0;c<a;c++)if(h=n[c],h!=null&&!Yt(h))o=Ql(e,i,r,o,h);else if(Yt(h))for(l=0,u=h.length;l<u;l++)d=h[l],d!=null&&!Yt(d)&&(o=Ql(e,i,r,o,d));e.restore();const f=r.length/2;if(f>n.length){for(c=0;c<f;c++)delete i[r[c]];r.splice(0,f)}return o}function xi(e,t,n){const s=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*s)/s+i}function fb(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Df(e,t,n,s){UT(e,t,n,s,null)}function UT(e,t,n,s,i){let r,o,a,c,l,u,h,d;const f=t.pointStyle,m=t.rotation,_=t.radius;let b=(m||0)*uV;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(b),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,s,i/2,_,0,0,Xt):e.arc(n,s,_,0,Xt),e.closePath();break;case"triangle":u=i?i/2:_,e.moveTo(n+Math.sin(b)*u,s-Math.cos(b)*_),b+=rb,e.lineTo(n+Math.sin(b)*u,s-Math.cos(b)*_),b+=rb,e.lineTo(n+Math.sin(b)*u,s-Math.cos(b)*_),e.closePath();break;case"rectRounded":l=_*.516,c=_-l,o=Math.cos(b+Ti)*c,h=Math.cos(b+Ti)*(i?i/2-l:c),a=Math.sin(b+Ti)*c,d=Math.sin(b+Ti)*(i?i/2-l:c),e.arc(n-h,s-a,l,b-te,b-ce),e.arc(n+d,s-o,l,b-ce,b),e.arc(n+h,s+a,l,b,b+ce),e.arc(n-d,s+o,l,b+ce,b+te),e.closePath();break;case"rect":if(!m){c=Math.SQRT1_2*_,u=i?i/2:c,e.rect(n-u,s-c,2*u,2*c);break}b+=Ti;case"rectRot":h=Math.cos(b)*(i?i/2:_),o=Math.cos(b)*_,a=Math.sin(b)*_,d=Math.sin(b)*(i?i/2:_),e.moveTo(n-h,s-a),e.lineTo(n+d,s-o),e.lineTo(n+h,s+a),e.lineTo(n-d,s+o),e.closePath();break;case"crossRot":b+=Ti;case"cross":h=Math.cos(b)*(i?i/2:_),o=Math.cos(b)*_,a=Math.sin(b)*_,d=Math.sin(b)*(i?i/2:_),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o);break;case"star":h=Math.cos(b)*(i?i/2:_),o=Math.cos(b)*_,a=Math.sin(b)*_,d=Math.sin(b)*(i?i/2:_),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o),b+=Ti,h=Math.cos(b)*(i?i/2:_),o=Math.cos(b)*_,a=Math.sin(b)*_,d=Math.sin(b)*(i?i/2:_),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o);break;case"line":o=i?i/2:Math.cos(b)*_,a=Math.sin(b)*_,e.moveTo(n-o,s-a),e.lineTo(n+o,s+a);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(b)*(i?i/2:_),s+Math.sin(b)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function gs(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function hh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function dh(e){e.restore()}function RV(e,t,n,s,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else i==="after"!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function MV(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function AV(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Mt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function OV(e,t,n,s,i){if(i.strikethrough||i.underline){const r=e.measureText(s),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,l=n+r.actualBoundingBoxDescent,u=i.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function PV(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function tr(e,t,n,s,i,r={}){const o=Yt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let c,l;for(e.save(),e.font=i.string,AV(e,r),c=0;c<o.length;++c)l=o[c],r.backdrop&&PV(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Mt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(l,n,s,r.maxWidth)),e.fillText(l,n,s,r.maxWidth),OV(e,n,s,l,r),s+=Number(i.lineHeight);e.restore()}function ka(e,t){const{x:n,y:s,w:i,h:r,radius:o}=t;e.arc(n+o.topLeft,s+o.topLeft,o.topLeft,-ce,te,!0),e.lineTo(n,s+r-o.bottomLeft),e.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,te,ce,!0),e.lineTo(n+i-o.bottomRight,s+r),e.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,ce,0,!0),e.lineTo(n+i,s+o.topRight),e.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-ce,!0),e.lineTo(n+o.topLeft,s)}const LV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,NV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function FV(e,t){const n=(""+e).match(LV);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const $V=e=>+e||0;function qg(e,t){const n={},s=Et(t),i=s?Object.keys(t):t,r=Et(e)?s?o=>mt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=$V(r(o));return n}function HT(e){return qg(e,{top:"y",right:"x",bottom:"y",left:"x"})}function qi(e){return qg(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Fe(e){const t=HT(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ye(e,t){e=e||{},t=t||le.font;let n=mt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=mt(e.style,t.style);s&&!(""+s).match(NV)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:mt(e.family,t.family),lineHeight:FV(mt(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:mt(e.weight,t.weight),string:""};return i.string=IV(i),i}function Io(e,t,n,s){let i=!0,r,o,a;for(r=0,o=e.length;r<o;++r)if(a=e[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),i=!1),n!==void 0&&Yt(a)&&(a=a[n%a.length],i=!1),a!==void 0))return s&&!i&&(s.cacheable=!1),a}function BV(e,t,n){const{min:s,max:i}=e,r=DT(t,(i-s)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function mi(e,t){return Object.assign(Object.create(e),t)}function Gg(e,t=[""],n,s,i=()=>e[0]){const r=n||e;typeof s=="undefined"&&(s=WT("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>Gg([a,...e],t,r,s)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete e[0][c],!0},get(a,c){return VT(a,c,()=>GV(c,t,e,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,c){return gb(a).includes(c)},ownKeys(a){return gb(a)},set(a,c,l){const u=a._storage||(a._storage=i());return a[c]=u[c]=l,delete a._keys,!0}})}function zr(e,t,n,s){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:jT(e,s),setContext:r=>zr(e,r,n,s),override:r=>zr(e.override(r),t,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return VT(r,o,()=>HV(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function jT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:s,isScriptable:ui(n)?n:()=>n,isIndexable:ui(s)?s:()=>s}}const UV=(e,t)=>e?e+Hg(t):t,Kg=(e,t)=>Et(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function VT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const s=n();return e[t]=s,s}function HV(e,t,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=e;let a=s[t];return ui(a)&&o.isScriptable(t)&&(a=jV(t,a,e,n)),Yt(a)&&a.length&&(a=VV(t,a,e,o.isIndexable)),Kg(t,a)&&(a=zr(a,i,r&&r[t],o)),a}function jV(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let c=t(r,o||s);return a.delete(e),Kg(e,c)&&(c=Yg(i._scopes,i,e,c)),c}function VV(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index!="undefined"&&s(e))return t[r.index%t.length];if(Et(t[0])){const c=t,l=i._scopes.filter(u=>u!==c);t=[];for(const u of c){const h=Yg(l,i,e,u);t.push(zr(h,r,o&&o[e],a))}}return t}function zT(e,t,n){return ui(e)?e(t,n):e}const zV=(e,t)=>e===!0?t:typeof e=="string"?li(t,e):void 0;function WV(e,t,n,s,i){for(const r of t){const o=zV(n,r);if(o){e.add(o);const a=zT(o._fallback,n,i);if(typeof a!="undefined"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s!="undefined"&&n!==s)return null}return!1}function Yg(e,t,n,s){const i=t._rootScopes,r=zT(t._fallback,n,s),o=[...e,...i],a=new Set;a.add(s);let c=pb(a,o,n,r||n,s);return c===null||typeof r!="undefined"&&r!==n&&(c=pb(a,o,r,c,s),c===null)?!1:Gg(Array.from(a),[""],i,r,()=>qV(t,n,s))}function pb(e,t,n,s,i){for(;n;)n=WV(e,t,n,s,i);return n}function qV(e,t,n){const s=e._getTarget();t in s||(s[t]={});const i=s[t];return Yt(i)&&Et(n)?n:i||{}}function GV(e,t,n,s){let i;for(const r of t)if(i=WT(UV(r,e),n),typeof i!="undefined")return Kg(e,i)?Yg(n,s,e,i):i}function WT(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s!="undefined")return s}}function gb(e){let t=e._keys;return t||(t=e._keys=KV(e._scopes)),t}function KV(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}function qT(e,t,n,s){const{iScale:i}=e,{key:r="r"}=this._parsing,o=new Array(s);let a,c,l,u;for(a=0,c=s;a<c;++a)l=a+n,u=t[l],o[a]={r:i.parse(li(u,r),l)};return o}const YV=Number.EPSILON||1e-14,Wr=(e,t)=>t<e.length&&!e[t].skip&&e[t],GT=e=>e==="x"?"y":"x";function XV(e,t,n,s){const i=e.skip?t:e,r=t,o=n.skip?t:n,a=Cf(r,i),c=Cf(o,r);let l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;const h=s*l,d=s*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+d*(o.x-i.x),y:r.y+d*(o.y-i.y)}}}function JV(e,t,n){const s=e.length;let i,r,o,a,c,l=Wr(e,0);for(let u=0;u<s-1;++u)if(c=l,l=Wr(e,u+1),!(!c||!l)){if(Ko(t[u],0,YV)){n[u]=n[u+1]=0;continue}i=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*t[u],n[u+1]=r*o*t[u])}}function QV(e,t,n="x"){const s=GT(n),i=e.length;let r,o,a,c=Wr(e,0);for(let l=0;l<i;++l){if(o=a,a=c,c=Wr(e,l+1),!a)continue;const u=a[n],h=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=h-r*t[l]),c&&(r=(c[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=h+r*t[l])}}function ZV(e,t="x"){const n=GT(t),s=e.length,i=Array(s).fill(0),r=Array(s);let o,a,c,l=Wr(e,0);for(o=0;o<s;++o)if(a=c,c=l,l=Wr(e,o+1),!!c){if(l){const u=l[t]-c[t];i[o]=u!==0?(l[n]-c[n])/u:0}r[o]=a?l?jn(i[o-1])!==jn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}JV(e,i,r),QV(e,r,t)}function Mc(e,t,n){return Math.max(Math.min(e,n),t)}function tz(e,t){let n,s,i,r,o,a=gs(e[0],t);for(n=0,s=e.length;n<s;++n)o=r,r=a,a=n<s-1&&gs(e[n+1],t),r&&(i=e[n],o&&(i.cp1x=Mc(i.cp1x,t.left,t.right),i.cp1y=Mc(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Mc(i.cp2x,t.left,t.right),i.cp2y=Mc(i.cp2y,t.top,t.bottom)))}function ez(e,t,n,s,i){let r,o,a,c;if(t.spanGaps&&(e=e.filter(l=>!l.skip)),t.cubicInterpolationMode==="monotone")ZV(e,i);else{let l=s?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],c=XV(l,a,e[Math.min(r+1,o-(s?0:1))%o],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}t.capBezierPoints&&tz(e,n)}function KT(){return typeof window!="undefined"&&typeof document!="undefined"}function Xg(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Zl(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const fh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function nz(e,t){return fh(e).getPropertyValue(t)}const sz=["top","right","bottom","left"];function Gi(e,t,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=sz[i];s[r]=parseFloat(e[t+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const iz=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function rz(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:i,offsetY:r}=s;let o=!1,a,c;if(iz(i,r,e.target))a=i,c=r;else{const l=t.getBoundingClientRect();a=s.clientX-l.left,c=s.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function Ri(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,i=fh(n),r=i.boxSizing==="border-box",o=Gi(i,"padding"),a=Gi(i,"border","width"),{x:c,y:l,box:u}=rz(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:m}=t;return r&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((c-h)/f*n.width/s),y:Math.round((l-d)/m*n.height/s)}}function oz(e,t,n){let s,i;if(t===void 0||n===void 0){const r=Xg(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=fh(r),c=Gi(a,"border","width"),l=Gi(a,"padding");t=o.width-l.width-c.width,n=o.height-l.height-c.height,s=Zl(a.maxWidth,r,"clientWidth"),i=Zl(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:s||Jl,maxHeight:i||Jl}}const Ac=e=>Math.round(e*10)/10;function az(e,t,n,s){const i=fh(e),r=Gi(i,"margin"),o=Zl(i.maxWidth,e,"clientWidth")||Jl,a=Zl(i.maxHeight,e,"clientHeight")||Jl,c=oz(e,t,n);let{width:l,height:u}=c;if(i.boxSizing==="content-box"){const d=Gi(i,"border","width"),f=Gi(i,"padding");l-=f.width+d.width,u-=f.height+d.height}return l=Math.max(0,l-r.width),u=Math.max(0,s?l/s:u-r.height),l=Ac(Math.min(l,o,c.maxWidth)),u=Ac(Math.min(u,a,c.maxHeight)),l&&!u&&(u=Ac(l/2)),(t!==void 0||n!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,l=Ac(Math.floor(u*s))),{width:l,height:u}}function mb(e,t,n){const s=t||1,i=Math.floor(e.height*s),r=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(e.currentDevicePixelRatio=s,o.height=i,o.width=r,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const cz=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function _b(e,t){const n=nz(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Mi(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function lz(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:s==="middle"?n<.5?e.y:t.y:s==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function uz(e,t,n,s){const i={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=Mi(e,i,n),a=Mi(i,r,n),c=Mi(r,t,n),l=Mi(o,a,n),u=Mi(a,c,n);return Mi(l,u,n)}const hz=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},dz=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ir(e,t,n){return e?hz(t,n):dz()}function YT(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function XT(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function JT(e){return e==="angle"?{between:xa,compare:fV,normalize:Qe}:{between:fs,compare:(t,n)=>t-n,normalize:t=>t}}function yb({start:e,end:t,count:n,loop:s,style:i}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n===0,style:i}}function fz(e,t,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=JT(s),c=t.length;let{start:l,end:u,loop:h}=e,d,f;if(h){for(l+=c,u+=c,d=0,f=c;d<f&&o(a(t[l%c][s]),i,r);++d)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:h,style:e.style}}function QT(e,t,n){if(!n)return[e];const{property:s,start:i,end:r}=n,o=t.length,{compare:a,between:c,normalize:l}=JT(s),{start:u,end:h,loop:d,style:f}=fz(e,t,n),m=[];let _=!1,b=null,E,x,k;const C=()=>c(i,k,E)&&a(i,k)!==0,R=()=>a(r,E)===0||c(r,k,E),A=()=>_||C(),D=()=>!_||R();for(let M=u,H=u;M<=h;++M)x=t[M%o],!x.skip&&(E=l(x[s]),E!==k&&(_=c(E,i,r),b===null&&A()&&(b=a(E,i)===0?M:H),b!==null&&D()&&(m.push(yb({start:b,end:M,loop:d,count:o,style:f})),b=null),H=M,k=E));return b!==null&&m.push(yb({start:b,end:h,loop:d,count:o,style:f})),m}function ZT(e,t){const n=[],s=e.segments;for(let i=0;i<s.length;i++){const r=QT(s[i],e.points,t);r.length&&n.push(...r)}return n}function pz(e,t,n,s){let i=0,r=t-1;if(n&&!s)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(r+=i);r>i&&e[r%t].skip;)r--;return r%=t,{start:i,end:r}}function gz(e,t,n,s){const i=e.length,r=[];let o=t,a=e[t],c;for(c=t+1;c<=n;++c){const l=e[c%i];l.skip||l.stop?a.skip||(s=!1,r.push({start:t%i,end:(c-1)%i,loop:s}),t=o=l.stop?c:null):(o=c,a.skip&&(t=c)),a=l}return o!==null&&r.push({start:t%i,end:o%i,loop:s}),r}function mz(e,t){const n=e.points,s=e.options.spanGaps,i=n.length;if(!i)return[];const r=!!e._loop,{start:o,end:a}=pz(n,i,r,s);if(s===!0)return bb(e,[{start:o,end:a,loop:r}],n,t);const c=a<o?a+i:a,l=!!e._fullLoop&&o===0&&a===i-1;return bb(e,gz(n,o,c,l),n,t)}function bb(e,t,n,s){return!s||!s.setContext||!n?t:_z(e,t,n,s)}function _z(e,t,n,s){const i=e._chart.getContext(),r=vb(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,c=n.length,l=[];let u=r,h=t[0].start,d=h;function f(m,_,b,E){const x=a?-1:1;if(m!==_){for(m+=c;n[m%c].skip;)m-=x;for(;n[_%c].skip;)_+=x;m%c!==_%c&&(l.push({start:m%c,end:_%c,loop:b,style:E}),u=E,h=_%c)}}for(const m of t){h=a?h:m.start;let _=n[h%c],b;for(d=h+1;d<=m.end;d++){const E=n[d%c];b=vb(s.setContext(mi(i,{type:"segment",p0:_,p1:E,p0DataIndex:(d-1)%c,p1DataIndex:d%c,datasetIndex:o}))),yz(b,u)&&f(h,d-1,m.loop,u),_=E,u=b}h<d-1&&f(h,d-1,m.loop,u)}return l}function vb(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function yz(e,t){if(!t)return!1;const n=[],s=function(i,r){return Wg(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,s)!==JSON.stringify(t,s)}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class bz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=LT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),r.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);!n||(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ts=new bz;const wb="transparent",vz={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=hb(e||wb),i=s.valid&&hb(t||wb);return i&&i.valid?i.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class wz{constructor(t,n,s,i){const r=n[s];i=Io([t.to,i,r,t.from]);const o=Io([t.from,r,i]);this._active=!0,this._fn=t.fn||vz[t.type||typeof o],this._easing=Yo[t.easing]||Yo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Io([t.to,n,i,t.from]),this._from=Io([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,a,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class tx{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Et(t))return;const n=Object.keys(le.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!Et(r))return;const o={};for(const a of n)o[a]=r[a];(Yt(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,n){const s=n.options,i=Ez(t,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&Sz(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,n){const s=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(t,n));continue}const u=n[l];let h=r[l];const d=s.get(l);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){t[l]=u;continue}r[l]=h=new wz(d,t,l,u),i.push(h)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return ts.add(this._chart,s),!0}}function Sz(e,t){const n=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const r=e[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function Ez(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Sb(e,t){const n=e&&e.options||{},s=n.reverse,i=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:s?r:i,end:s?i:r}}function Tz(e,t,n){if(n===!1)return!1;const s=Sb(e,n),i=Sb(t,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function xz(e){let t,n,s,i;return Et(e)?(t=e.top,n=e.right,s=e.bottom,i=e.left):t=n=s=i=e,{top:t,right:n,bottom:s,left:i,disabled:e===!1}}function ex(e,t){const n=[],s=e._getSortedDatasetMetas(t);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function Eb(e,t,n,s={}){const i=e.keys,r=s.mode==="single";let o,a,c,l;if(t!==null){for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(s.all)continue;break}l=e.values[c],ae(l)&&(r||t===0||jn(t)===jn(l))&&(t+=l)}return t}}function kz(e){const t=Object.keys(e),n=new Array(t.length);let s,i,r;for(s=0,i=t.length;s<i;++s)r=t[s],n[s]={x:r,y:e[r]};return n}function Tb(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Cz(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Iz(e){const{min:t,max:n,minDefined:s,maxDefined:i}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Dz(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function xb(e,t,n,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const r=e[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function kb(e,t){const{chart:n,_cachedMeta:s}=e,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,c=r.axis,l=o.axis,u=Cz(r,o,s),h=t.length;let d;for(let f=0;f<h;++f){const m=t[f],{[c]:_,[l]:b}=m,E=m._stacks||(m._stacks={});d=E[l]=Dz(i,u,_),d[a]=b,d._top=xb(d,o,!0,s.type),d._bottom=xb(d,o,!1,s.type);const x=d._visualValues||(d._visualValues={});x[a]=b}}function id(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function Rz(e,t){return mi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Mz(e,t,n){return mi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function mo(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(!!s){t=t||e._parsed;for(const i of t){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const rd=e=>e==="reset"||e==="none",Cb=(e,t)=>t?e:Object.assign({},e),Az=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:ex(n,!0),values:null};class bn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Tb(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&mo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,d,f,m)=>h==="x"?d:h==="r"?m:f,r=n.xAxisID=mt(s.xAxisID,id(t,"x")),o=n.yAxisID=mt(s.yAxisID,id(t,"y")),a=n.rAxisID=mt(s.rAxisID,id(t,"r")),c=n.indexAxis,l=n.iAxisID=i(c,r,o,a),u=n.vAxisID=i(c,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(l),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&cb(this._data,this),t._stacked&&mo(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(Et(n))this._data=kz(n);else if(s!==n){if(s){cb(s,this);const i=this._cachedMeta;mo(i),i._parsed=[]}n&&Object.isExtensible(n)&&_V(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=Tb(n.vScale,n),n.stack!==s.stack&&(i=!0,mo(n),n.stack=s.stack),this._resyncElements(t),(i||r!==n._stacked)&&kb(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let c=t===0&&n===i.length?!0:s._sorted,l=t>0&&s._parsed[t-1],u,h,d;if(this._parsing===!1)s._parsed=i,s._sorted=!0,d=i;else{Yt(i[t])?d=this.parseArrayData(s,i,t,n):Et(i[t])?d=this.parseObjectData(s,i,t,n):d=this.parsePrimitiveData(s,i,t,n);const f=()=>h[a]===null||l&&h[a]<l[a];for(u=0;u<n;++u)s._parsed[u+t]=h=d[u],c&&(f()&&(c=!1),l=h);s._sorted=c}o&&kb(this,d)}parsePrimitiveData(t,n,s,i){const{iScale:r,vScale:o}=t,a=r.axis,c=o.axis,l=r.getLabels(),u=r===o,h=new Array(i);let d,f,m;for(d=0,f=i;d<f;++d)m=d+s,h[d]={[a]:u||r.parse(l[m],m),[c]:o.parse(n[m],m)};return h}parseArrayData(t,n,s,i){const{xScale:r,yScale:o}=t,a=new Array(i);let c,l,u,h;for(c=0,l=i;c<l;++c)u=c+s,h=n[u],a[c]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,s,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,l=new Array(i);let u,h,d,f;for(u=0,h=i;u<h;++u)d=u+s,f=n[d],l[u]={x:r.parse(li(f,a),d),y:o.parse(li(f,c),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const i=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:ex(i,!0),values:n._stacks[t.axis]._visualValues};return Eb(a,o,r.index,{mode:s})}updateRangeFromParsed(t,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=Eb(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&t===s.iScale,o=i.length,a=this._getOtherScale(t),c=Az(n,s,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Iz(a);let d,f;function m(){f=i[d];const _=f[a.axis];return!ae(f[t.axis])||u>_||h<_}for(d=0;d<o&&!(!m()&&(this.updateRangeFromParsed(l,t,f,c),r));++d);if(r){for(d=o-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(l,t,f,c);break}}return l}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][t.axis],ae(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=xz(mt(this.options.clip,Tz(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||i.length-a,l=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,r,a,c),u=a;u<a+c;++u){const h=i[u];h.hidden||(h.active&&l?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=Mz(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=Rz(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],c=this.enableOptionSharing&&Ta(s);if(a)return Cb(a,c);const l=this.chart.config,u=l.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],d=l.getOptionScopes(this.getDataset(),u),f=Object.keys(le.elements[t]),m=()=>this.getContext(s,i,n),_=l.resolveNamedOptions(d,f,m,h);return _.$shared&&(_.$shared=c,r[o]=Object.freeze(Cb(_,c))),_}_resolveAnimations(t,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let c;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(d,this.getContext(t,s,n))}const l=new tx(i,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(l)),l}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||rd(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(t,n,s,i){rd(i)?Object.assign(t,s):this._resolveAnimations(n,i).update(t,s)}updateSharedOptions(t,n,s){t&&!rd(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,i){t.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[a,c,l]of this._syncList)this[a](c,l);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,n,s=!0){const i=this._cachedMeta,r=i.data,o=t+n;let a;const c=l=>{for(l.length+=n,a=l.length-1;a>=o;a--)l[a]=l[a-n]};for(c(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,n),s&&this.updateElements(r,t,n,"reset")}updateElements(t,n,s,i){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,n);s._stacked&&mo(s,i)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,i]=t;this[n](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Y(bn,"defaults",{}),Y(bn,"datasetElementType",null),Y(bn,"dataElementType",null);function Oz(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=PT(s.sort((i,r)=>i-r))}return e._cache.$bar}function Pz(e){const t=e.iScale,n=Oz(t,e.type);let s=t._length,i,r,o,a;const c=()=>{o===32767||o===-32768||(Ta(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=t.getPixelForValue(n[i]),c();for(a=void 0,i=0,r=t.ticks.length;i<r;++i)o=t.getPixelForTick(i),c();return s}function Lz(e,t,n,s){const i=n.barThickness;let r,o;return Mt(i)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:t.pixels[e]-r/2}}function Nz(e,t,n,s){const i=t.pixels,r=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const c=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const l=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/s,ratio:n.barPercentage,start:l}}function Fz(e,t,n,s){const i=n.parse(e[0],s),r=n.parse(e[1],s),o=Math.min(i,r),a=Math.max(i,r);let c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),t[n.axis]=l,t._custom={barStart:c,barEnd:l,start:i,end:r,min:o,max:a}}function nx(e,t,n,s){return Yt(e)?Fz(e,t,n,s):t[n.axis]=n.parse(e,s),t}function Ib(e,t,n,s){const i=e.iScale,r=e.vScale,o=i.getLabels(),a=i===r,c=[];let l,u,h,d;for(l=n,u=n+s;l<u;++l)d=t[l],h={},h[i.axis]=a||i.parse(o[l],l),c.push(nx(d,h,r,l));return c}function od(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function $z(e,t,n){return e!==0?jn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function Bz(e){let t,n,s,i,r;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:t,top:i,bottom:r}}function Uz(e,t,n,s){let i=t.borderSkipped;const r={};if(!i){e.borderSkipped=r;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:l,bottom:u}=Bz(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?i=l:(n._bottom||0)===s?i=u:(r[Db(u,o,a,c)]=!0,i=l)),r[Db(i,o,a,c)]=!0,e.borderSkipped=r}function Db(e,t,n,s){return s?(e=Hz(e,t,n),e=Rb(e,n,t)):e=Rb(e,t,n),e}function Hz(e,t,n){return e===t?n:e===n?t:e}function Rb(e,t,n){return e==="start"?t:e==="end"?n:e}function jz(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class tl extends bn{parsePrimitiveData(t,n,s,i){return Ib(t,n,s,i)}parseArrayData(t,n,s,i){return Ib(t,n,s,i)}parseObjectData(t,n,s,i){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,l=r.axis==="x"?a:c,u=o.axis==="x"?a:c,h=[];let d,f,m,_;for(d=s,f=s+i;d<f;++d)_=n[d],m={},m[r.axis]=r.parse(li(_,l),d),h.push(nx(li(_,u),m,o,d));return h}updateRangeFromParsed(t,n,s,i){super.updateRangeFromParsed(t,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(t),o=r._custom,a=od(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),l=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,i);for(let f=n;f<n+s;f++){const m=this.getParsed(f),_=r||Mt(m[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),b=this._calculateBarIndexPixels(f,u),E=(m._stacks||{})[a.axis],x={horizontal:l,base:_.base,enableBorderRadius:!E||od(m._custom)||o===E._top||o===E._bottom,x:l?_.head:b.center,y:l?b.center:_.head,height:l?b.size:Math.abs(_.size),width:l?Math.abs(_.size):b.size};d&&(x.options=h||this.resolveDataElementOptions(f,t[f].active?"active":i));const k=x.options||t[f].options;Uz(x,k,E,o),jz(x,k,u.ratio),this.updateElement(t[f],f,x,i)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),r=s.options.stacked,o=[],a=c=>{const l=c.controller.getParsed(n),u=l&&l[c.vScale.axis];if(Mt(u)||isNaN(u))return!0};for(const c of i)if(!(n!==void 0&&a(c))&&((r===!1||o.indexOf(c.stack)===-1||r===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,s){const i=this._getStacks(t,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=t.barThickness;return{min:a||Pz(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(t),l=c._custom,u=od(l);let h=c[n.axis],d=0,f=s?this.applyStack(n,c,s):h,m,_;f!==h&&(d=f-h,f=h),u&&(h=l.barStart,f=l.barEnd-l.barStart,h!==0&&jn(h)!==jn(l.barEnd)&&(d=0),d+=h);const b=!Mt(r)&&!u?r:d;let E=n.getPixelForValue(b);if(this.chart.getDataVisibility(t)?m=n.getPixelForValue(d+f):m=E,_=m-E,Math.abs(_)<o){_=$z(_,n,a)*o,h===a&&(E-=_/2);const x=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),C=Math.min(x,k),R=Math.max(x,k);E=Math.max(Math.min(E,R),C),m=E+_,s&&!u&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(m)-n.getValueForPixel(E))}if(E===n.getPixelForValue(a)){const x=jn(_)*n.getLineWidthForValue(a)/2;E+=x,_-=x}return{size:_,base:E,head:m,center:m+_/2}}_calculateBarIndexPixels(t,n){const s=n.scale,i=this.options,r=i.skipNull,o=mt(i.maxBarThickness,1/0);let a,c;if(n.grouped){const l=r?this._getStackCount(t):n.stackCount,u=i.barThickness==="flex"?Nz(t,n,i,l):Lz(t,n,i,l),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=u.start+u.chunk*h+u.chunk/2,c=Math.min(o,u.chunk*u.ratio)}else a=s.getPixelForValue(this.getParsed(t)[s.axis],t),c=Math.min(o,n.min*n.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&s[r].draw(this._ctx)}}Y(tl,"id","bar"),Y(tl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Y(tl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class el extends bn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,s,i){const r=super.parsePrimitiveData(t,n,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(t,n,s,i){const r=super.parseArrayData(t,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=mt(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(t,n,s,i){const r=super.parseObjectData(t,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=mt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let s=t.length-1;s>=0;--s)n=Math.max(n,t[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),c=r.getLabelForValue(o.y),l=o._custom;return{label:s[t]||"",value:"("+a+", "+c+(l?", "+l:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:c,includeOptions:l}=this._getSharedOptions(n,i),u=o.axis,h=a.axis;for(let d=n;d<n+s;d++){const f=t[d],m=!r&&this.getParsed(d),_={},b=_[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(m[u]),E=_[h]=r?a.getBasePixel():a.getPixelForValue(m[h]);_.skip=isNaN(b)||isNaN(E),l&&(_.options=c||this.resolveDataElementOptions(d,f.active?"active":i),r&&(_.options.radius=0)),this.updateElement(f,d,_,i)}}resolveDataElementOptions(t,n){const s=this.getParsed(t);let i=super.resolveDataElementOptions(t,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return n!=="active"&&(i.radius=0),i.radius+=mt(s&&s._custom,r),i}}Y(el,"id","bubble"),Y(el,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Y(el,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Vz(e,t,n){let s=1,i=1,r=0,o=0;if(t<Xt){const a=e,c=a+t,l=Math.cos(a),u=Math.sin(a),h=Math.cos(c),d=Math.sin(c),f=(k,C,R)=>xa(k,a,c,!0)?1:Math.max(C,C*n,R,R*n),m=(k,C,R)=>xa(k,a,c,!0)?-1:Math.min(C,C*n,R,R*n),_=f(0,l,h),b=f(ce,u,d),E=m(te,l,h),x=m(te+ce,u,d);s=(_-E)/2,i=(b-x)/2,r=-(_+E)/2,o=-(b+x)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class Hi extends bn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=c=>+s[c];if(Et(s[t])){const{key:c="value"}=this._parsing;r=l=>+li(s[l],c)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return mn(this.options.rotation-90)}_getCircumference(){return mn(this.options.circumference)}_getRotationExtents(){let t=Xt,n=-Xt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(sV(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:m,offsetY:_}=Vz(h,u,c),b=(s.width-o)/d,E=(s.height-o)/f,x=Math.max(Math.min(b,E)/2,0),k=DT(this.options.radius,x),C=Math.max(k*c,0),R=(k-C)/this._getVisibleDatasetWeightTotal();this.offsetX=m*k,this.offsetY=_*k,i.total=this.calculateTotal(),this.outerRadius=k-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*l,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/Xt)}updateElements(t,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,l=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&l.animateScale,f=d?0:this.innerRadius,m=d?0:this.outerRadius,{sharedOptions:_,includeOptions:b}=this._getSharedOptions(n,i);let E=this._getRotation(),x;for(x=0;x<n;++x)E+=this._circumference(x,r);for(x=n;x<n+s;++x){const k=this._circumference(x,r),C=t[x],R={x:u+this.offsetX,y:h+this.offsetY,startAngle:E,endAngle:E+k,circumference:k,outerRadius:m,innerRadius:f};b&&(R.options=_||this.resolveDataElementOptions(x,C.active?"active":i)),E+=k,this.updateElement(C,x,R,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,i;for(i=0;i<n.length;i++){const r=t._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Xt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=nc(n._parsed[t],s.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const s=this.chart;let i,r,o,a,c;if(!t){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,r=t.length;i<r;++i)c=a.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,i=t.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(mt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Y(Hi,"id","doughnut"),Y(Hi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Y(Hi,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Y(Hi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return n.labels.map((r,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class nl extends bn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:c}=FT(n,i,o);this._drawStart=a,this._drawCount=c,$T(n)&&(a=0,c=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:l},t),this.updateElements(i,a,c,t)}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:l}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),d=o.axis,f=a.axis,{spanGaps:m,segment:_}=this.options,b=Vr(m)?m:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||r||i==="none",x=n+s,k=t.length;let C=n>0&&this.getParsed(n-1);for(let R=0;R<k;++R){const A=t[R],D=E?A:{};if(R<n||R>=x){D.skip=!0;continue}const M=this.getParsed(R),H=Mt(M[f]),F=D[d]=o.getPixelForValue(M[d],R),j=D[f]=r||H?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,M,c):M[f],R);D.skip=isNaN(F)||isNaN(j)||H,D.stop=R>0&&Math.abs(M[d]-C[d])>b,_&&(D.parsed=M,D.raw=l.data[R]),h&&(D.options=u||this.resolveDataElementOptions(R,A.active?"active":i)),E||this.updateElement(A,R,D,i),C=M}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Y(nl,"id","line"),Y(nl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Y(nl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Jo extends bn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=nc(n._parsed[t].r,s.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,n,s,i){return qT.bind(this)(t,n,s,i)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,s=t.options,i=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,s,i){const r=i==="reset",o=this.chart,c=o.options.animation,l=this._cachedMeta.rScale,u=l.xCenter,h=l.yCenter,d=l.getIndexAngle(0)-.5*te;let f=d,m;const _=360/this.countVisibleElements();for(m=0;m<n;++m)f+=this._computeAngle(m,i,_);for(m=n;m<n+s;m++){const b=t[m];let E=f,x=f+this._computeAngle(m,i,_),k=o.getDataVisibility(m)?l.getDistanceFromCenterForValue(this.getParsed(m).r):0;f=x,r&&(c.animateScale&&(k=0),c.animateRotate&&(E=x=d));const C={x:u,y:h,innerRadius:0,outerRadius:k,startAngle:E,endAngle:x,options:this.resolveDataElementOptions(m,b.active?"active":i)};this.updateElement(b,m,C,i)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(t,n,s){return this.chart.getDataVisibility(t)?mn(this.resolveDataElementOptions(t,n).angle||s):0}}Y(Jo,"id","polarArea"),Y(Jo,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Y(Jo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=t.legend.options;return n.labels.map((r,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Rf extends Hi{}Y(Rf,"id","pie"),Y(Rf,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class sl extends bn{getLabelAndValue(t){const n=this._cachedMeta.vScale,s=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(t,n,s,i){return qT.bind(this)(t,n,s,i)}update(t){const n=this._cachedMeta,s=n.dataset,i=n.data||[],r=n.iScale.getLabels();if(s.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,n,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+s;a++){const c=t[a],l=this.resolveDataElementOptions(a,c.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:l};this.updateElement(c,a,f,i)}}}Y(sl,"id","radar"),Y(sl,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Y(sl,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class il extends bn{getLabelAndValue(t){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(t),a=i.getLabelForValue(o.x),c=r.getLabelForValue(o.y);return{label:s[t]||"",value:"("+a+", "+c+")"}}update(t){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:r,count:o}=FT(n,s,i);if(this._drawStart=r,this._drawCount=o,$T(n)&&(r=0,o=s.length),this.options.showLine){const{dataset:a,_dataset:c}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!c._decimated,a.points=s;const l=this.resolveDatasetElementOptions(t);l.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:l},t)}this.updateElements(s,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:l}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),h=this.getSharedOptions(u),d=this.includeOptions(i,h),f=o.axis,m=a.axis,{spanGaps:_,segment:b}=this.options,E=Vr(_)?_:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||r||i==="none";let k=n>0&&this.getParsed(n-1);for(let C=n;C<n+s;++C){const R=t[C],A=this.getParsed(C),D=x?R:{},M=Mt(A[m]),H=D[f]=o.getPixelForValue(A[f],C),F=D[m]=r||M?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,A,c):A[m],C);D.skip=isNaN(H)||isNaN(F)||M,D.stop=C>0&&Math.abs(A[f]-k[f])>E,b&&(D.parsed=A,D.raw=l.data[C]),d&&(D.options=h||this.resolveDataElementOptions(C,R.active?"active":i)),x||this.updateElement(R,C,D,i),k=A}this.updateSharedOptions(h,i,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let c=n.length-1;c>=0;--c)a=Math.max(a,n[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}const s=t.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}}Y(il,"id","scatter"),Y(il,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Y(il,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var zz=Object.freeze({__proto__:null,BarController:tl,BubbleController:el,DoughnutController:Hi,LineController:nl,PieController:Rf,PolarAreaController:Jo,RadarController:sl,ScatterController:il});function ki(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jg{constructor(t){Y(this,"options");this.options=t||{}}static override(t){Object.assign(Jg.prototype,t)}init(){}formats(){return ki()}parse(){return ki()}format(){return ki()}add(){return ki()}diff(){return ki()}startOf(){return ki()}endOf(){return ki()}}var Wz={_date:Jg};function qz(e,t,n,s){const{controller:i,data:r,_sorted:o}=e,a=i._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?gV:ps;if(s){if(i._sharedOptions){const l=r[0],u=typeof l.getRange=="function"&&l.getRange(t);if(u){const h=c(r,t,n-u),d=c(r,t,n+u);return{lo:h.lo,hi:d.hi}}}}else return c(r,t,n)}return{lo:0,hi:r.length-1}}function sc(e,t,n,s,i){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,c=r.length;a<c;++a){const{index:l,data:u}=r[a],{lo:h,hi:d}=qz(r[a],t,o,i);for(let f=h;f<=d;++f){const m=u[f];m.skip||s(m,l,f)}}}function Gz(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,i){const r=t?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function ad(e,t,n,s,i){const r=[];return!i&&!e.isPointInArea(t)||sc(e,n,t,function(a,c,l){!i&&!gs(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&r.push({element:a,datasetIndex:c,index:l})},!0),r}function Kz(e,t,n,s){let i=[];function r(o,a,c){const{startAngle:l,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=AT(o,{x:t.x,y:t.y});xa(h,l,u)&&i.push({element:o,datasetIndex:a,index:c})}return sc(e,n,t,r),i}function Yz(e,t,n,s,i,r){let o=[];const a=Gz(n);let c=Number.POSITIVE_INFINITY;function l(u,h,d){const f=u.inRange(t.x,t.y,i);if(s&&!f)return;const m=u.getCenterPoint(i);if(!(!!r||e.isPointInArea(m))&&!f)return;const b=a(t,m);b<c?(o=[{element:u,datasetIndex:h,index:d}],c=b):b===c&&o.push({element:u,datasetIndex:h,index:d})}return sc(e,n,t,l),o}function cd(e,t,n,s,i,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!s?Kz(e,t,n,i):Yz(e,t,n,s,i,r)}function Mb(e,t,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return sc(e,n,t,(c,l,u)=>{c[o](t[n],i)&&(r.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(t.x,t.y,i))}),s&&!a?[]:r}var Xz={evaluateInteractionItems:sc,modes:{index(e,t,n,s){const i=Ri(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?ad(e,i,r,s,o):cd(e,i,r,!1,s,o),c=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(l=>{const u=a[0].index,h=l.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:u})}),c):[]},dataset(e,t,n,s){const i=Ri(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?ad(e,i,r,s,o):cd(e,i,r,!1,s,o);if(a.length>0){const c=a[0].datasetIndex,l=e.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(e,t,n,s){const i=Ri(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return ad(e,i,r,s,o)},nearest(e,t,n,s){const i=Ri(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return cd(e,i,r,n.intersect,s,o)},x(e,t,n,s){const i=Ri(t,e);return Mb(e,i,"x",n.intersect,s)},y(e,t,n,s){const i=Ri(t,e);return Mb(e,i,"y",n.intersect,s)}}};const sx=["left","top","right","bottom"];function _o(e,t){return e.filter(n=>n.pos===t)}function Ab(e,t){return e.filter(n=>sx.indexOf(n.pos)===-1&&n.box.axis===t)}function yo(e,t){return e.sort((n,s)=>{const i=t?s:n,r=t?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function Jz(e){const t=[];let n,s,i,r,o,a;for(n=0,s=(e||[]).length;n<s;++n)i=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return t}function Qz(e){const t={};for(const n of e){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!sx.includes(i))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function Zz(e,t){const n=Qz(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:c}=a.box,l=n[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*s:c&&t.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:c&&t.availableHeight)}return n}function tW(e){const t=Jz(e),n=yo(t.filter(l=>l.box.fullSize),!0),s=yo(_o(t,"left"),!0),i=yo(_o(t,"right")),r=yo(_o(t,"top"),!0),o=yo(_o(t,"bottom")),a=Ab(t,"x"),c=Ab(t,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:_o(t,"chartArea"),vertical:s.concat(i).concat(c),horizontal:r.concat(o).concat(a)}}function Ob(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function ix(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function eW(e,t,n,s){const{pos:i,box:r}=n,o=e.maxPadding;if(!Et(i)){n.size&&(e[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,e[i]+=n.size}r.getPadding&&ix(o,r.getPadding());const a=Math.max(0,t.outerWidth-Ob(o,e,"left","right")),c=Math.max(0,t.outerHeight-Ob(o,e,"top","bottom")),l=a!==e.w,u=c!==e.h;return e.w=a,e.h=c,n.horizontal?{same:l,other:u}:{same:u,other:l}}function nW(e){const t=e.maxPadding;function n(s){const i=Math.max(t[s]-e[s],0);return e[s]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function sW(e,t){const n=t.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return s(e?["left","right"]:["top","bottom"])}function Do(e,t,n,s){const i=[];let r,o,a,c,l,u;for(r=0,o=e.length,l=0;r<o;++r){a=e[r],c=a.box,c.update(a.width||t.w,a.height||t.h,sW(a.horizontal,t));const{same:h,other:d}=eW(t,n,a,s);l|=h&&i.length,u=u||d,c.fullSize||i.push(a)}return l&&Do(i,t,n,s)||u}function Oc(e,t,n,s,i){e.top=n,e.left=t,e.right=t+s,e.bottom=n+i,e.width=s,e.height=i}function Pb(e,t,n,s){const i=n.padding;let{x:r,y:o}=t;for(const a of e){const c=a.box,l=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){const h=t.w*u,d=l.size||c.height;Ta(l.start)&&(o=l.start),c.fullSize?Oc(c,i.left,o,n.outerWidth-i.right-i.left,d):Oc(c,t.left+l.placed,o,h,d),l.start=o,l.placed+=h,o=c.bottom}else{const h=t.h*u,d=l.size||c.width;Ta(l.start)&&(r=l.start),c.fullSize?Oc(c,r,i.top,d,n.outerHeight-i.bottom-i.top):Oc(c,r,t.top+l.placed,d,h),l.start=r,l.placed+=h,r=c.right}}t.x=r,t.y=o}var Ae={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const i=Fe(e.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=tW(e.boxes),c=a.vertical,l=a.horizontal;Ut(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const u=c.reduce((_,b)=>b.box.options&&b.box.options.display===!1?_:_+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);ix(d,Fe(s));const f=Object.assign({maxPadding:d,w:r,h:o,x:i.left,y:i.top},i),m=Zz(c.concat(l),h);Do(a.fullSize,f,h,m),Do(c,f,h,m),Do(l,f,h,m)&&Do(c,f,h,m),nW(f),Pb(a.leftAndTop,f,h,m),f.x+=f.w,f.y+=f.h,Pb(a.rightAndBottom,f,h,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ut(a.chartArea,_=>{const b=_.box;Object.assign(b,e.chartArea),b.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class rx{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,i){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(t){return!0}updateConfig(t){}}class iW extends rx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const rl="$chartjs",rW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lb=e=>e===null||e==="";function oW(e,t){const n=e.style,s=e.getAttribute("height"),i=e.getAttribute("width");if(e[rl]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Lb(i)){const r=_b(e,"width");r!==void 0&&(e.width=r)}if(Lb(s))if(e.style.height==="")e.height=e.width/(t||2);else{const r=_b(e,"height");r!==void 0&&(e.height=r)}return e}const ox=cz?{passive:!0}:!1;function aW(e,t,n){e.addEventListener(t,n,ox)}function cW(e,t,n){e.canvas.removeEventListener(t,n,ox)}function lW(e,t){const n=rW[e.type]||e.type,{x:s,y:i}=Ri(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:i!==void 0?i:null}}function tu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function uW(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||tu(a.addedNodes,s),o=o&&!tu(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function hW(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||tu(a.removedNodes,s),o=o&&!tu(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ca=new Map;let Nb=0;function ax(){const e=window.devicePixelRatio;e!==Nb&&(Nb=e,Ca.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function dW(e,t){Ca.size||window.addEventListener("resize",ax),Ca.set(e,t)}function fW(e){Ca.delete(e),Ca.size||window.removeEventListener("resize",ax)}function pW(e,t,n){const s=e.canvas,i=s&&Xg(s);if(!i)return;const r=NT((a,c)=>{const l=i.clientWidth;n(a,c),l<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||r(l,u)});return o.observe(i),dW(e,r),o}function ld(e,t,n){n&&n.disconnect(),t==="resize"&&fW(e)}function gW(e,t,n){const s=e.canvas,i=NT(r=>{e.ctx!==null&&n(lW(r,e))},e);return aW(s,t,i),i}class mW extends rx{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(oW(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[rl])return!1;const s=n[rl].initial;["height","width"].forEach(r=>{const o=s[r];Mt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[rl],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:uW,detach:hW,resize:pW}[n]||gW;i[n]=o(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),i=s[n];if(!i)return;({attach:ld,detach:ld,resize:ld}[n]||cW)(t,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,i){return az(t,n,s,i)}isAttached(t){const n=Xg(t);return!!(n&&n.isConnected)}}function _W(e){return!KT()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?iW:mW}class Sn{constructor(){Y(this,"x");Y(this,"y");Y(this,"active",!1);Y(this,"options");Y(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Vr(this.x)&&Vr(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const i={};return t.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}Y(Sn,"defaults",{}),Y(Sn,"defaultRoutes");function yW(e,t){const n=e.options.ticks,s=bW(e),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?wW(t):[],o=r.length,a=r[0],c=r[o-1],l=[];if(o>i)return SW(t,l,r,o/i),l;const u=vW(r,t,i);if(o>0){let h,d;const f=o>1?Math.round((c-a)/(o-1)):null;for(Pc(t,l,u,Mt(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Pc(t,l,u,r[h],r[h+1]);return Pc(t,l,u,c,Mt(f)?t.length:c+f),l}return Pc(t,l,u),l}function bW(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(s,i))}function vW(e,t,n){const s=EW(e),i=t.length/n;if(!s)return Math.max(i,1);const r=hV(s);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>i)return c}return Math.max(i,1)}function wW(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function SW(e,t,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===r&&(t.push(e[o]),i++,r=n[i*s])}function Pc(e,t,n,s,i){const r=mt(s,0),o=Math.min(mt(i,e.length),e.length);let a=0,c,l,u;for(n=Math.ceil(n),i&&(c=i-s,n=c/Math.floor(c/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(l=Math.max(r,0);l<o;l++)l===u&&(t.push(e[l]),a++,u=Math.round(r+a*n))}function EW(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const TW=e=>e==="left"?"right":e==="right"?"left":e,Fb=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,$b=(e,t)=>Math.min(t||e,e);function Bb(e,t){const n=[],s=e.length/t,i=e.length;let r=0;for(;r<i;r+=s)n.push(e[Math.floor(r)]);return n}function xW(e,t,n){const s=e.ticks.length,i=Math.min(t,s-1),r=e._startPixel,o=e._endPixel,a=1e-6;let c=e.getPixelForTick(i),l;if(!(n&&(s===1?l=Math.max(c-r,o-c):t===0?l=(e.getPixelForTick(1)-c)/2:l=(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<r-a||c>o+a)))return c}function kW(e,t){Ut(e,n=>{const s=n.gc,i=s.length/2;let r;if(i>t){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function bo(e){return e.drawTicks?e.tickLength:0}function Ub(e,t){if(!e.display)return 0;const n=ye(e.font,t),s=Fe(e.padding);return(Yt(e.text)?e.text.length:1)*n.lineHeight+s.height}function CW(e,t){return mi(e,{scale:t,type:"scale"})}function IW(e,t,n){return mi(e,{tick:n,index:t,type:"tick"})}function DW(e,t,n){let s=zg(e);return(n&&t!=="right"||!n&&t==="right")&&(s=TW(s)),s}function RW(e,t,n,s){const{top:i,left:r,bottom:o,right:a,chart:c}=e,{chartArea:l,scales:u}=c;let h=0,d,f,m;const _=o-i,b=a-r;if(e.isHorizontal()){if(f=De(s,r,a),Et(n)){const E=Object.keys(n)[0],x=n[E];m=u[E].getPixelForValue(x)+_-t}else n==="center"?m=(l.bottom+l.top)/2+_-t:m=Fb(e,n,t);d=a-r}else{if(Et(n)){const E=Object.keys(n)[0],x=n[E];f=u[E].getPixelForValue(x)-b+t}else n==="center"?f=(l.left+l.right)/2-b+t:f=Fb(e,n,t);m=De(s,o,i),h=n==="left"?-ce:ce}return{titleX:f,titleY:m,maxWidth:d,rotation:h}}class rr extends Sn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return t=Xe(t,Number.POSITIVE_INFINITY),n=Xe(n,Number.NEGATIVE_INFINITY),s=Xe(s,Number.POSITIVE_INFINITY),i=Xe(i,Number.NEGATIVE_INFINITY),{min:Xe(t,s),max:Xe(n,i),minDefined:ae(t),maxDefined:ae(n)}}getMinMax(t){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Xe(n,Xe(s,n)),max:Xe(s,Xe(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){qt(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=BV(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?Bb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=yW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){qt(this.options.afterUpdate,[this])}beforeSetDimensions(){qt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){qt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),qt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){qt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s],r.label=qt(n.callback,[r.value,s,t],this)}afterTickToLabelConversion(){qt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){qt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=$b(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,c,l;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=we(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/s:f/(s-1),h+6>a&&(a=f/(s-(t.offset?.5:1)),c=this.maxHeight-bo(t.grid)-n.padding-Ub(t.title,this.chart.options.font),l=Math.sqrt(h*h+d*d),o=jg(Math.min(Math.asin(we((u.highest.height+6)/a,-1,1)),Math.asin(we(c/l,-1,1))-Math.asin(we(d/l,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){qt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){qt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=Ub(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=bo(r)+c):(t.height=this.maxHeight,t.width=bo(r)+c),s.display&&this.ticks.length){const{first:l,last:u,widest:h,highest:d}=this._getLabelSizes(),f=s.padding*2,m=mn(this.labelRotation),_=Math.cos(m),b=Math.sin(m);if(a){const E=s.mirror?0:b*h.width+_*d.height;t.height=Math.min(this.maxHeight,t.height+E+f)}else{const E=s.mirror?0:_*h.width+b*d.height;t.width=Math.min(this.maxWidth,t.width+E+f)}this._calculatePadding(l,u,b,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;c?l?(d=i*t.width,f=s*n.height):(d=s*t.height,f=i*n.width):r==="start"?f=n.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){qt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)Mt(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Bb(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(n/$b(n,s));let l=0,u=0,h,d,f,m,_,b,E,x,k,C,R;for(h=0;h<n;h+=c){if(m=t[h].label,_=this._resolveTickFontOptions(h),i.font=b=_.string,E=r[b]=r[b]||{data:{},gc:[]},x=_.lineHeight,k=C=0,!Mt(m)&&!Yt(m))k=Ql(i,E.data,E.gc,k,m),C=x;else if(Yt(m))for(d=0,f=m.length;d<f;++d)R=m[d],!Mt(R)&&!Yt(R)&&(k=Ql(i,E.data,E.gc,k,R),C+=x);o.push(k),a.push(C),l=Math.max(k,l),u=Math.max(C,u)}kW(r,n);const A=o.indexOf(l),D=a.indexOf(u),M=H=>({width:o[H]||0,height:a[H]||0});return{first:M(0),last:M(n-1),widest:M(A),highest:M(D),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return pV(this._alignToPixels?xi(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=IW(this.getContext(),t,s))}return this.$context||(this.$context=CW(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=mn(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*s>a*i?a/s:c/i:c*i<a*s?c/s:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,c=r.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),d=bo(r),f=[],m=a.setContext(this.getContext()),_=m.display?m.width:0,b=_/2,E=function(X){return xi(s,X,_)};let x,k,C,R,A,D,M,H,F,j,$,J;if(o==="top")x=E(this.bottom),D=this.bottom-d,H=x-b,j=E(t.top)+b,J=t.bottom;else if(o==="bottom")x=E(this.top),j=t.top,J=E(t.bottom)-b,D=x+b,H=this.top+d;else if(o==="left")x=E(this.right),A=this.right-d,M=x-b,F=E(t.left)+b,$=t.right;else if(o==="right")x=E(this.left),F=t.left,$=E(t.right)-b,A=x+b,M=this.left+d;else if(n==="x"){if(o==="center")x=E((t.top+t.bottom)/2+.5);else if(Et(o)){const X=Object.keys(o)[0],it=o[X];x=E(this.chart.scales[X].getPixelForValue(it))}j=t.top,J=t.bottom,D=x+b,H=D+d}else if(n==="y"){if(o==="center")x=E((t.left+t.right)/2);else if(Et(o)){const X=Object.keys(o)[0],it=o[X];x=E(this.chart.scales[X].getPixelForValue(it))}A=x-b,M=A-d,F=t.left,$=t.right}const et=mt(i.ticks.maxTicksLimit,h),Q=Math.max(1,Math.ceil(h/et));for(k=0;k<h;k+=Q){const X=this.getContext(k),it=r.setContext(X),nt=a.setContext(X),lt=it.lineWidth,Ft=it.color,Ot=nt.dash||[],Pt=nt.dashOffset,se=it.tickWidth,ut=it.tickColor,B=it.tickBorderDash||[],G=it.tickBorderDashOffset;C=xW(this,k,c),C!==void 0&&(R=xi(s,C,lt),l?A=M=F=$=R:D=H=j=J=R,f.push({tx1:A,ty1:D,tx2:M,ty2:H,x1:F,y1:j,x2:$,y2:J,width:lt,color:Ft,borderDash:Ot,borderDashOffset:Pt,tickWidth:se,tickColor:ut,tickBorderDash:B,tickBorderDashOffset:G}))}return this._ticksLength=h,this._borderValue=x,f}_computeLabelItems(t){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:h}=r,d=bo(s.grid),f=d+u,m=h?-u:f,_=-mn(this.labelRotation),b=[];let E,x,k,C,R,A,D,M,H,F,j,$,J="middle";if(i==="top")A=this.bottom-m,D=this._getXAxisLabelAlignment();else if(i==="bottom")A=this.top+m,D=this._getXAxisLabelAlignment();else if(i==="left"){const Q=this._getYAxisLabelAlignment(d);D=Q.textAlign,R=Q.x}else if(i==="right"){const Q=this._getYAxisLabelAlignment(d);D=Q.textAlign,R=Q.x}else if(n==="x"){if(i==="center")A=(t.top+t.bottom)/2+f;else if(Et(i)){const Q=Object.keys(i)[0],X=i[Q];A=this.chart.scales[Q].getPixelForValue(X)+f}D=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")R=(t.left+t.right)/2-f;else if(Et(i)){const Q=Object.keys(i)[0],X=i[Q];R=this.chart.scales[Q].getPixelForValue(X)}D=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(c==="start"?J="top":c==="end"&&(J="bottom"));const et=this._getLabelSizes();for(E=0,x=a.length;E<x;++E){k=a[E],C=k.label;const Q=r.setContext(this.getContext(E));M=this.getPixelForTick(E)+r.labelOffset,H=this._resolveTickFontOptions(E),F=H.lineHeight,j=Yt(C)?C.length:1;const X=j/2,it=Q.color,nt=Q.textStrokeColor,lt=Q.textStrokeWidth;let Ft=D;o?(R=M,D==="inner"&&(E===x-1?Ft=this.options.reverse?"left":"right":E===0?Ft=this.options.reverse?"right":"left":Ft="center"),i==="top"?l==="near"||_!==0?$=-j*F+F/2:l==="center"?$=-et.highest.height/2-X*F+F:$=-et.highest.height+F/2:l==="near"||_!==0?$=F/2:l==="center"?$=et.highest.height/2-X*F:$=et.highest.height-j*F,h&&($*=-1),_!==0&&!Q.showLabelBackdrop&&(R+=F/2*Math.sin(_))):(A=M,$=(1-j)*F/2);let Ot;if(Q.showLabelBackdrop){const Pt=Fe(Q.backdropPadding),se=et.heights[E],ut=et.widths[E];let B=$-Pt.top,G=0-Pt.left;switch(J){case"middle":B-=se/2;break;case"bottom":B-=se;break}switch(D){case"center":G-=ut/2;break;case"right":G-=ut;break}Ot={left:G,top:B,width:ut+Pt.width,height:se+Pt.height,color:Q.backdropColor}}b.push({label:C,font:H,textOffset:$,options:{rotation:_,color:it,strokeColor:nt,strokeWidth:lt,textAlign:Ft,textBaseline:J,translation:[R,A],backdrop:Ot}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-mn(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,c=o.widest.width;let l,u;return n==="left"?i?(u=this.right+r,s==="near"?l="left":s==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,s==="near"?l="right":s==="center"?(l="center",u-=c/2):(l="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?l="right":s==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,s==="near"?l="left":s==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,i,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(c,l,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(l.x,l.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const c=i[r];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,u,h,d;this.isHorizontal()?(l=xi(t,this.left,o)-o/2,u=xi(t,this.right,a)+a/2,h=d=c):(h=xi(t,this.top,o)-o/2,d=xi(t,this.bottom,a)+a/2,l=u=c),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(l,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&hh(s,i);const r=this.getLabelItems(t);for(const o of r){const a=o.options,c=o.font,l=o.label,u=o.textOffset;tr(s,l,0,u,c,a)}i&&dh(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=ye(s.font),o=Fe(s.padding),a=s.align;let c=r.lineHeight/2;n==="bottom"||n==="center"||Et(n)?(c+=o.bottom,Yt(s.text)&&(c+=r.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:l,titleY:u,maxWidth:h,rotation:d}=RW(this,c,n,a);tr(t,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:d,textAlign:DW(a,n,i),textBaseline:"middle",translation:[l,u]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=mt(t.grid&&t.grid.z,-1),i=mt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==rr.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ye(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Lc{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;OW(n)&&(s=this.register(n));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,MW(t,o,s),this.override&&le.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,i=this.scope;s in n&&delete n[s],i&&s in le[i]&&(delete le[i][s],this.override&&delete Zi[s])}}function MW(e,t,n){const s=Ea(Object.create(null),[n?le.get(n):{},le.get(t),e.defaults]);le.set(t,s),e.defaultRoutes&&AW(t,e.defaultRoutes),e.descriptors&&le.describe(t,e.descriptors)}function AW(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),i=s.pop(),r=[e].concat(s).join("."),o=t[n].split("."),a=o.pop(),c=o.join(".");le.route(r,i,c,a)})}function OW(e){return"id"in e&&"defaults"in e}class PW{constructor(){this.controllers=new Lc(bn,"datasets",!0),this.elements=new Lc(Sn,"elements"),this.plugins=new Lc(Object,"plugins"),this.scales=new Lc(rr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):Ut(i,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,s){const i=Hg(t);qt(s["before"+i],[],s),n[t](s),qt(s["after"+i],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var Dn=new PW;class LW{constructor(){this._init=[]}notify(t,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,n,s);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,s,i){i=i||{};for(const r of t){const o=r.plugin,a=o[s],c=[n,i,r.options];if(qt(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Mt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,i=mt(s.options&&s.options.plugins,{}),r=NW(s);return i===!1&&!n?[]:$W(t,r,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,s),t,"stop"),this._notify(i(s,n),t,"start")}}function NW(e){const t={},n=[],s=Object.keys(Dn.plugins.items);for(let r=0;r<s.length;r++)n.push(Dn.getPlugin(s[r]));const i=e.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function FW(e,t){return!t&&e===!1?null:e===!0?{}:e}function $W(e,{plugins:t,localIds:n},s,i){const r=[],o=e.getContext();for(const a of t){const c=a.id,l=FW(s[c],i);l!==null&&r.push({plugin:a,options:BW(e.config,{plugin:a,local:n[c]},l,o)})}return r}function BW(e,{plugin:t,local:n},s,i){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(s,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mf(e,t){const n=le.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function UW(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function HW(e,t){return e===t?"_index_":"_value_"}function Hb(e){if(e==="x"||e==="y"||e==="r")return e}function jW(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Af(e,...t){if(Hb(e))return e;for(const n of t){const s=n.axis||jW(n.position)||e.length>1&&Hb(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function jb(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function VW(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return jb(e,"x",n[0])||jb(e,"y",n[0])}return{}}function zW(e,t){const n=Zi[e.type]||{scales:{}},s=t.scales||{},i=Mf(e.type,t),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!Et(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Af(o,a,VW(o,e),le.scales[a.type]),l=HW(c,i),u=n.scales||{};r[o]=Go(Object.create(null),[{axis:c},a,u[c],u[l]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,c=o.indexAxis||Mf(a,t),u=(Zi[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=UW(h,c),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),Go(r[f],[{axis:d},s[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Go(a,[le.scales[a.type],le.scale])}),r}function cx(e){const t=e.options||(e.options={});t.plugins=mt(t.plugins,{}),t.scales=zW(e,t)}function lx(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function WW(e){return e=e||{},e.data=lx(e.data),cx(e),e}const Vb=new Map,ux=new Set;function Nc(e,t){let n=Vb.get(e);return n||(n=t(),Vb.set(e,n),ux.add(n)),n}const vo=(e,t,n)=>{const s=li(t,n);s!==void 0&&e.add(s)};class qW{constructor(t){this._config=WW(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=lx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),cx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Nc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Nc(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Nc(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Nc(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let i=s.get(t);return(!i||n)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,n,s){const{options:i,type:r}=this,o=this._cachedScopes(t,s),a=o.get(n);if(a)return a;const c=new Set;n.forEach(u=>{t&&(c.add(t),u.forEach(h=>vo(c,t,h))),u.forEach(h=>vo(c,i,h)),u.forEach(h=>vo(c,Zi[r]||{},h)),u.forEach(h=>vo(c,le,h)),u.forEach(h=>vo(c,If,h))});const l=Array.from(c);return l.length===0&&l.push(Object.create(null)),ux.has(n)&&o.set(n,l),l}chartOptionScopes(){const{options:t,type:n}=this;return[t,Zi[n]||{},le.datasets[n]||{},{type:n},le,If]}resolveNamedOptions(t,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=zb(this._resolverCache,t,i);let c=o;if(KW(o,n)){r.$shared=!1,s=ui(s)?s():s;const l=this.createResolver(t,s,a);c=zr(o,s,l)}for(const l of n)r[l]=c[l];return r}createResolver(t,n,s=[""],i){const{resolver:r}=zb(this._resolverCache,t,s);return Et(n)?zr(r,n,void 0,i):r}}function zb(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const i=n.join();let r=s.get(i);return r||(r={resolver:Gg(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const GW=e=>Et(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||ui(e[n]),!1);function KW(e,t){const{isScriptable:n,isIndexable:s}=jT(e);for(const i of t){const r=n(i),o=s(i),a=(o||r)&&e[i];if(r&&(ui(a)||GW(a))||o&&Yt(a))return!0}return!1}var YW="4.3.0";const XW=["top","bottom","left","right","chartArea"];function Wb(e,t){return e==="top"||e==="bottom"||XW.indexOf(e)===-1&&t==="x"}function qb(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function Gb(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),qt(n&&n.onComplete,[e],t)}function JW(e){const t=e.chart,n=t.options.animation;qt(n&&n.onProgress,[e],t)}function hx(e){return KT()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ol={},Kb=e=>{const t=hx(e);return Object.values(ol).filter(n=>n.canvas===t).pop()};function QW(e,t,n){const s=Object.keys(e);for(const i of s){const r=+i;if(r>=t){const o=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=o)}}}function ZW(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}function t5(e){const{xScale:t,yScale:n}=e;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}class rs{static register(...t){Dn.add(...t),Yb()}static unregister(...t){Dn.remove(...t),Yb()}constructor(t,n){const s=this.config=new qW(n),i=hx(t),r=Kb(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||_W(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),c=a&&a.canvas,l=c&&c.height,u=c&&c.width;if(this.id=nV(),this.ctx=a,this.canvas=c,this.width=u,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new LW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=yV(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],ol[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ts.listen(this,"complete",Gb),ts.listen(this,"progress",JW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return Mt(t)?n&&r?r:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Dn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():mb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fb(this.canvas,this.ctx),this}stop(){return ts.stop(this),this}resize(t,n){ts.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,mb(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),qt(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ut(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],c=Af(o,a),l=c==="r",u=c==="x";return{options:a,dposition:l?"chartArea":u?"bottom":"left",dtype:l?"radialLinear":u?"category":"linear"}}))),Ut(r,o=>{const a=o.options,c=a.id,l=Af(c,a),u=mt(a.type,o.dtype);(a.position===void 0||Wb(a.position,l)!==Wb(o.dposition))&&(a.position=o.dposition),i[c]=!0;let h=null;if(c in s&&s[c].type===u)h=s[c];else{const d=Dn.getScale(u);h=new d({id:c,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,t)}),Ut(i,(o,a)=>{o||delete s[a]}),Ut(s,o=>{Ae.configure(this,o,o.options),Ae.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(qb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Mf(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=Dn.getController(a),{datasetElementType:l,dataElementType:u}=le.datasets[a];Object.assign(c,{dataElementType:Dn.getElement(u),datasetElementType:l&&Dn.getElement(l)}),o.controller=new c(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Ut(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,u=this.data.datasets.length;l<u;l++){const{controller:h}=this.getDatasetMeta(l),d=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||Ut(r,l=>{l.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(qb("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ut(this.scales,t=>{Ae.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!ib(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;QW(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!ib(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ae.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Ut(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,ui(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ts.has(this)?this.attached&&!ts.running(this)&&ts.start(this):(this.draw(),Gb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resize(s,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s=t._clip,i=!s.disabled,r=t5(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&hh(n,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),t.controller.draw(),i&&dh(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return gs(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,i){const r=Xz.modes[n];return typeof r=="function"?r(this,t,s,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=mi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);Ta(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),ts.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),fb(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ol[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Ut(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(c,l)=>{n.addEventListener(this,c,l),t[c]=l},i=(c,l)=>{t[c]&&(n.removeEventListener(this,c,l),delete t[c])},r=(c,l)=>{this.canvas&&this.resize(c,l)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ut(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ut(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const i=s?"set":"remove";let r,o,a,c;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=t.length;a<c;++a){o=t[a];const l=o&&this.getDatasetMeta(o.datasetIndex).controller;l&&l[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Yl(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const i=this.options.hover,r=(c,l)=>c.filter(u=>!l.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,t),a=s?t:r(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(t,i,s,o),c=cV(t),l=ZW(t,this._lastEvent,s,c);s&&(this._lastEvent=null,qt(r.onHover,[t,a,this],this),c&&qt(r.onClick,[t,a,this],this));const u=!Yl(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=l,u}_getActiveElements(t,n,s,i){if(t.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}Y(rs,"defaults",le),Y(rs,"instances",ol),Y(rs,"overrides",Zi),Y(rs,"registry",Dn),Y(rs,"version",YW),Y(rs,"getChart",Kb);function Yb(){return Ut(rs.instances,e=>e._plugins.invalidate())}function e5(e,t,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:c}=t;let l=i/a;e.beginPath(),e.arc(r,o,a,s-l,n+l),c>i?(l=i/c,e.arc(r,o,c,n+l,s-l,!0)):e.arc(r,o,i,n+ce,s-ce),e.closePath(),e.clip()}function n5(e){return qg(e,["outerStart","outerEnd","innerStart","innerEnd"])}function s5(e,t,n,s){const i=n5(e.options.borderRadius),r=(n-t)/2,o=Math.min(r,s*t/2),a=c=>{const l=(n-Math.min(r,c))*s/2;return we(c,0,Math.min(r,l))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:we(i.innerStart,0,o),innerEnd:we(i.innerEnd,0,o)}}function hr(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function eu(e,t,n,s,i,r){const{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=t,h=Math.max(t.outerRadius+s+n-l,0),d=u>0?u+s+n+l:0;let f=0;const m=i-c;if(s){const Q=u>0?u-s:0,X=h>0?h-s:0,it=(Q+X)/2,nt=it!==0?m*it/(it+s):m;f=(m-nt)/2}const _=Math.max(.001,m*h-n/te)/h,b=(m-_)/2,E=c+b+f,x=i-b-f,{outerStart:k,outerEnd:C,innerStart:R,innerEnd:A}=s5(t,d,h,x-E),D=h-k,M=h-C,H=E+k/D,F=x-C/M,j=d+R,$=d+A,J=E+R/j,et=x-A/$;if(e.beginPath(),r){const Q=(H+F)/2;if(e.arc(o,a,h,H,Q),e.arc(o,a,h,Q,F),C>0){const lt=hr(M,F,o,a);e.arc(lt.x,lt.y,C,F,x+ce)}const X=hr($,x,o,a);if(e.lineTo(X.x,X.y),A>0){const lt=hr($,et,o,a);e.arc(lt.x,lt.y,A,x+ce,et+Math.PI)}const it=(x-A/d+(E+R/d))/2;if(e.arc(o,a,d,x-A/d,it,!0),e.arc(o,a,d,it,E+R/d,!0),R>0){const lt=hr(j,J,o,a);e.arc(lt.x,lt.y,R,J+Math.PI,E-ce)}const nt=hr(D,E,o,a);if(e.lineTo(nt.x,nt.y),k>0){const lt=hr(D,H,o,a);e.arc(lt.x,lt.y,k,E-ce,H)}}else{e.moveTo(o,a);const Q=Math.cos(H)*h+o,X=Math.sin(H)*h+a;e.lineTo(Q,X);const it=Math.cos(F)*h+o,nt=Math.sin(F)*h+a;e.lineTo(it,nt)}e.closePath()}function i5(e,t,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=t;let c=t.endAngle;if(r){eu(e,t,n,s,c,i);for(let l=0;l<r;++l)e.fill();isNaN(a)||(c=o+(a%Xt||Xt))}return eu(e,t,n,s,c,i),e.fill(),c}function r5(e,t,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=c,f=c.borderAlign==="inner";if(!l)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=l*2,e.lineJoin=u||"round"):(e.lineWidth=l,e.lineJoin=u||"bevel");let m=t.endAngle;if(r){eu(e,t,n,s,m,i);for(let _=0;_<r;++_)e.stroke();isNaN(a)||(m=o+(a%Xt||Xt))}f&&e5(e,t,m),r||(eu(e,t,n,s,m,i),e.stroke())}class Ro extends Sn{constructor(n){super();Y(this,"circumference");Y(this,"endAngle");Y(this,"fullCircles");Y(this,"innerRadius");Y(this,"outerRadius");Y(this,"pixelMargin");Y(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=AT(r,{x:n,y:s}),{startAngle:c,endAngle:l,innerRadius:u,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,_=mt(d,l-c)>=Xt||xa(o,c,l),b=fs(a,u+f,h+f);return _&&b}getCenterPoint(n){const{x:s,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:l,spacing:u}=this.options,h=(r+o)/2,d=(a+c+u+l)/2;return{x:s+Math.cos(h)*d,y:i+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,r=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>Xt?Math.floor(i/Xt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*r,Math.sin(c)*r);const l=1-Math.sin(Math.min(te,i||0)),u=r*l;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,i5(n,this,u,o,a),r5(n,this,u,o,a),n.restore()}}Y(Ro,"id","arc"),Y(Ro,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Y(Ro,"defaultRoutes",{backgroundColor:"backgroundColor"}),Y(Ro,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function dx(e,t,n=t){e.lineCap=mt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(mt(n.borderDash,t.borderDash)),e.lineDashOffset=mt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=mt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=mt(n.borderWidth,t.borderWidth),e.strokeStyle=mt(n.borderColor,t.borderColor)}function o5(e,t,n){e.lineTo(n.x,n.y)}function a5(e){return e.stepped?RV:e.tension||e.cubicInterpolationMode==="monotone"?MV:o5}function fx(e,t,n={}){const s=e.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=t,c=Math.max(i,o),l=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:c,loop:t.loop,ilen:l<c&&!u?s+l-c:l-c}}function c5(e,t,n,s){const{points:i,options:r}=t,{count:o,start:a,loop:c,ilen:l}=fx(i,n,s),u=a5(r);let{move:h=!0,reverse:d}=s||{},f,m,_;for(f=0;f<=l;++f)m=i[(a+(d?l-f:f))%o],!m.skip&&(h?(e.moveTo(m.x,m.y),h=!1):u(e,_,m,d,r.stepped),_=m);return c&&(m=i[(a+(d?l:0))%o],u(e,_,m,d,r.stepped)),!!c}function l5(e,t,n,s){const i=t.points,{count:r,start:o,ilen:a}=fx(i,n,s),{move:c=!0,reverse:l}=s||{};let u=0,h=0,d,f,m,_,b,E;const x=C=>(o+(l?a-C:C))%r,k=()=>{_!==b&&(e.lineTo(u,b),e.lineTo(u,_),e.lineTo(u,E))};for(c&&(f=i[x(0)],e.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=i[x(d)],f.skip)continue;const C=f.x,R=f.y,A=C|0;A===m?(R<_?_=R:R>b&&(b=R),u=(h*u+C)/++h):(k(),e.lineTo(C,R),m=A,h=0,_=b=R),E=R}k()}function Of(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?l5:c5}function u5(e){return e.stepped?lz:e.tension||e.cubicInterpolationMode==="monotone"?uz:Mi}function h5(e,t,n,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,s)&&i.closePath()),dx(e,t.options),e.stroke(i)}function d5(e,t,n,s){const{segments:i,options:r}=t,o=Of(t);for(const a of i)dx(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}const f5=typeof Path2D=="function";function p5(e,t,n,s){f5&&!t.options.segment?h5(e,t,n,s):d5(e,t,n,s)}class Ws extends Sn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;ez(this._points,s,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=mz(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,i=t[n],r=this.points,o=ZT(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],c=u5(s);let l,u;for(l=0,u=o.length;l<u;++l){const{start:h,end:d}=o[l],f=r[h],m=r[d];if(f===m){a.push(f);continue}const _=Math.abs((i-f[n])/(m[n]-f[n])),b=c(f,m,_,s.stepped);b[n]=t[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(t,n,s){return Of(this)(t,this,n,s)}path(t,n,s){const i=this.segments,r=Of(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(t,this,a,{start:n,end:n+s-1});return!!o}draw(t,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),p5(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Y(Ws,"id","line"),Y(Ws,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Y(Ws,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Y(Ws,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Xb(e,t,n,s){const i=e.options,{[n]:r}=e.getProps([n],s);return Math.abs(t-r)<i.radius+i.hitRadius}class al extends Sn{constructor(n){super();Y(this,"parsed");Y(this,"skip");Y(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,s){return Xb(this,n,"x",s)}inYRange(n,s){return Xb(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!gs(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Df(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Y(al,"id","point"),Y(al,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Y(al,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function px(e,t){const{x:n,y:s,base:i,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,c,l,u,h;return e.horizontal?(h=o/2,a=Math.min(n,i),c=Math.max(n,i),l=s-h,u=s+h):(h=r/2,a=n-h,c=n+h,l=Math.min(s,i),u=Math.max(s,i)),{left:a,top:l,right:c,bottom:u}}function qs(e,t,n,s){return e?0:we(t,n,s)}function g5(e,t,n){const s=e.options.borderWidth,i=e.borderSkipped,r=HT(s);return{t:qs(i.top,r.top,0,n),r:qs(i.right,r.right,0,t),b:qs(i.bottom,r.bottom,0,n),l:qs(i.left,r.left,0,t)}}function m5(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,r=qi(i),o=Math.min(t,n),a=e.borderSkipped,c=s||Et(i);return{topLeft:qs(!c||a.top||a.left,r.topLeft,0,o),topRight:qs(!c||a.top||a.right,r.topRight,0,o),bottomLeft:qs(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:qs(!c||a.bottom||a.right,r.bottomRight,0,o)}}function _5(e){const t=px(e),n=t.right-t.left,s=t.bottom-t.top,i=g5(e,n/2,s/2),r=m5(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function ud(e,t,n,s){const i=t===null,r=n===null,a=e&&!(i&&r)&&px(e,s);return a&&(i||fs(t,a.left,a.right))&&(r||fs(n,a.top,a.bottom))}function y5(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function b5(e,t){e.rect(t.x,t.y,t.w,t.h)}function hd(e,t,n={}){const s=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-s,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+s,y:e.y+i,w:e.w+r,h:e.h+o,radius:e.radius}}class cl extends Sn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=_5(this),a=y5(o.radius)?ka:b5;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,hd(o,n,r)),t.clip(),a(t,hd(r,-n,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,hd(r,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,s){return ud(this,t,n,s)}inXRange(t,n){return ud(this,t,null,n)}inYRange(t,n){return ud(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Y(cl,"id","bar"),Y(cl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Y(cl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var v5=Object.freeze({__proto__:null,ArcElement:Ro,BarElement:cl,LineElement:Ws,PointElement:al});const Pf=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Jb=Pf.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function gx(e){return Pf[e%Pf.length]}function mx(e){return Jb[e%Jb.length]}function w5(e,t){return e.borderColor=gx(t),e.backgroundColor=mx(t),++t}function S5(e,t){return e.backgroundColor=e.data.map(()=>gx(t++)),t}function E5(e,t){return e.backgroundColor=e.data.map(()=>mx(t++)),t}function T5(e){let t=0;return(n,s)=>{const i=e.getDatasetMeta(s).controller;i instanceof Hi?t=S5(n,t):i instanceof Jo?t=E5(n,t):i&&(t=w5(n,t))}}function Qb(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function x5(e){return e&&(e.borderColor||e.backgroundColor)}var _x={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:s},options:i}=e.config,{elements:r}=i;if(!n.forceOverride&&(Qb(s)||x5(i)||r&&Qb(r)))return;const o=T5(e);s.forEach(o)}};function k5(e,t,n,s,i){const r=i.samples||s;if(r>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(r-2);let c=0;const l=t+n-1;let u=t,h,d,f,m,_;for(o[c++]=e[u],h=0;h<r-2;h++){let b=0,E=0,x;const k=Math.floor((h+1)*a)+1+t,C=Math.min(Math.floor((h+2)*a)+1,n)+t,R=C-k;for(x=k;x<C;x++)b+=e[x].x,E+=e[x].y;b/=R,E/=R;const A=Math.floor(h*a)+1+t,D=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:M,y:H}=e[u];for(f=m=-1,x=A;x<D;x++)m=.5*Math.abs((M-b)*(e[x].y-H)-(M-e[x].x)*(E-H)),m>f&&(f=m,d=e[x],_=x);o[c++]=d,u=_}return o[c++]=e[l],o}function C5(e,t,n,s){let i=0,r=0,o,a,c,l,u,h,d,f,m,_;const b=[],E=t+n-1,x=e[t].x,C=e[E].x-x;for(o=t;o<t+n;++o){a=e[o],c=(a.x-x)/C*s,l=a.y;const R=c|0;if(R===u)l<m?(m=l,h=o):l>_&&(_=l,d=o),i=(r*i+a.x)/++r;else{const A=o-1;if(!Mt(h)&&!Mt(d)){const D=Math.min(h,d),M=Math.max(h,d);D!==f&&D!==A&&b.push({...e[D],x:i}),M!==f&&M!==A&&b.push({...e[M],x:i})}o>0&&A!==f&&b.push(e[A]),b.push(a),u=R,r=0,m=_=l,h=d=f=o}}return b}function yx(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Zb(e){e.data.datasets.forEach(t=>{yx(t)})}function I5(e,t){const n=t.length;let s=0,i;const{iScale:r}=e,{min:o,max:a,minDefined:c,maxDefined:l}=r.getUserBounds();return c&&(s=we(ps(t,r.axis,o).lo,0,n-1)),l?i=we(ps(t,r.axis,a).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var D5={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){Zb(e);return}const s=e.width;e.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,c=e.getDatasetMeta(r),l=o||i.data;if(Io([a,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const u=e.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:d}=I5(c,l);const f=n.threshold||4*s;if(d<=f){yx(i);return}Mt(o)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let m;switch(n.algorithm){case"lttb":m=k5(l,h,d,s,n);break;case"min-max":m=C5(l,h,d,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=m})},destroy(e){Zb(e)}};function R5(e,t,n){const s=e.segments,i=e.points,r=t.points,o=[];for(const a of s){let{start:c,end:l}=a;l=Qg(c,l,i);const u=Lf(n,i[c],i[l],a.loop);if(!t.segments){o.push({source:a,target:u,start:i[c],end:i[l]});continue}const h=ZT(t,u);for(const d of h){const f=Lf(n,r[d.start],r[d.end],d.loop),m=QT(a,i,f);for(const _ of m)o.push({source:_,target:d,start:{[n]:tv(u,f,"start",Math.max)},end:{[n]:tv(u,f,"end",Math.min)}})}}return o}function Lf(e,t,n,s){if(s)return;let i=t[e],r=n[e];return e==="angle"&&(i=Qe(i),r=Qe(r)),{property:e,start:i,end:r}}function M5(e,t){const{x:n=null,y:s=null}=e||{},i=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Qg(o,a,i);const c=i[o],l=i[a];s!==null?(r.push({x:c.x,y:s}),r.push({x:l.x,y:s})):n!==null&&(r.push({x:n,y:c.y}),r.push({x:n,y:l.y}))}),r}function Qg(e,t,n){for(;t>e;t--){const s=n[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function tv(e,t,n,s){return e&&t?s(e[n],t[n]):e?e[n]:t?t[n]:0}function bx(e,t){let n=[],s=!1;return Yt(e)?(s=!0,n=e):n=M5(e,t),n.length?new Ws({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function ev(e){return e&&e.fill!==!1}function A5(e,t,n){let i=e[t].fill;const r=[t];let o;if(!n)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!ae(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function O5(e,t,n){const s=F5(e);if(Et(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return ae(i)&&Math.floor(i)===i?P5(s[0],t,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function P5(e,t,n,s){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=s?!1:n}function L5(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Et(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function N5(e,t,n){let s;return e==="start"?s=n:e==="end"?s=t.options.reverse?t.min:t.max:Et(e)?s=e.value:s=t.getBaseValue(),s}function F5(e){const t=e.options,n=t.fill;let s=mt(n&&n.target,n);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function $5(e){const{scale:t,index:n,line:s}=e,i=[],r=s.segments,o=s.points,a=B5(t,n);a.push(bx({x:null,y:t.bottom},s));for(let c=0;c<r.length;c++){const l=r[c];for(let u=l.start;u<=l.end;u++)U5(i,o[u],a)}return new Ws({points:i,options:{}})}function B5(e,t){const n=[],s=e.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function U5(e,t,n){const s=[];for(let i=0;i<n.length;i++){const r=n[i],{first:o,last:a,point:c}=H5(r,t,"x");if(!(!c||o&&a)){if(o)s.unshift(c);else if(e.push(c),!a)break}}e.push(...s)}function H5(e,t,n){const s=e.interpolate(t,n);if(!s)return{};const i=s[n],r=e.segments,o=e.points;let a=!1,c=!1;for(let l=0;l<r.length;l++){const u=r[l],h=o[u.start][n],d=o[u.end][n];if(fs(i,h,d)){a=i===h,c=i===d;break}}return{first:a,last:c,point:s}}class vx{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,s){const{x:i,y:r,radius:o}=this;return n=n||{start:0,end:Xt},t.arc(i,r,o,n.end,n.start,!0),!s.bounds}interpolate(t){const{x:n,y:s,radius:i}=this,r=t.angle;return{x:n+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function j5(e){const{chart:t,fill:n,line:s}=e;if(ae(n))return V5(t,n);if(n==="stack")return $5(e);if(n==="shape")return!0;const i=z5(e);return i instanceof vx?i:bx(i,s)}function V5(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function z5(e){return(e.scale||{}).getPointPositionForValue?q5(e):W5(e)}function W5(e){const{scale:t={},fill:n}=e,s=L5(n,t);if(ae(s)){const i=t.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function q5(e){const{scale:t,fill:n}=e,s=t.options,i=t.getLabels().length,r=s.reverse?t.max:t.min,o=N5(n,t,r),a=[];if(s.grid.circular){const c=t.getPointPositionForValue(0,r);return new vx({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)a.push(t.getPointPositionForValue(c,o));return a}function dd(e,t,n){const s=j5(t),{line:i,scale:r,axis:o}=t,a=i.options,c=a.fill,l=a.backgroundColor,{above:u=l,below:h=l}=c||{};s&&i.points.length&&(hh(e,n),G5(e,{line:i,target:s,above:u,below:h,area:n,scale:r,axis:o}),dh(e))}function G5(e,t){const{line:n,target:s,above:i,below:r,area:o,scale:a}=t,c=n._loop?"angle":t.axis;e.save(),c==="x"&&r!==i&&(nv(e,s,o.top),sv(e,{line:n,target:s,color:i,scale:a,property:c}),e.restore(),e.save(),nv(e,s,o.bottom)),sv(e,{line:n,target:s,color:r,scale:a,property:c}),e.restore()}function nv(e,t,n){const{segments:s,points:i}=t;let r=!0,o=!1;e.beginPath();for(const a of s){const{start:c,end:l}=a,u=i[c],h=i[Qg(c,l,i)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function sv(e,t){const{line:n,target:s,property:i,color:r,scale:o}=t,a=R5(n,s,i);for(const{source:c,target:l,start:u,end:h}of a){const{style:{backgroundColor:d=r}={}}=c,f=s!==!0;e.save(),e.fillStyle=d,K5(e,o,f&&Lf(i,u,h)),e.beginPath();const m=!!n.pathSegment(e,c);let _;if(f){m?e.closePath():iv(e,s,h,i);const b=!!s.pathSegment(e,l,{move:m,reverse:!0});_=m&&b,_||iv(e,s,u,i)}e.closePath(),e.fill(_?"evenodd":"nonzero"),e.restore()}}function K5(e,t,n){const{top:s,bottom:i}=t.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(e.beginPath(),e.rect(o,s,a-o,i-s),e.clip())}function iv(e,t,n,s){const i=t.interpolate(n,s);i&&e.lineTo(i.x,i.y)}var Y5={id:"filler",afterDatasetsUpdate(e,t,n){const s=(e.data.datasets||[]).length,i=[];let r,o,a,c;for(o=0;o<s;++o)r=e.getDatasetMeta(o),a=r.dataset,c=null,a&&a.options&&a instanceof Ws&&(c={visible:e.isDatasetVisible(o),index:o,fill:O5(a,o,s),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=c,i.push(c);for(o=0;o<s;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=A5(i,o,n.propagate))},beforeDraw(e,t,n){const s=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;!a||(a.line.updateControlPoints(r,a.axis),s&&a.fill&&dd(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;ev(r)&&dd(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const s=t.meta.$filler;!ev(s)||n.drawTime!=="beforeDatasetDraw"||dd(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const rv=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},X5=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class ov extends Sn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=qt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=ye(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=rv(s,r);let l,u;n.font=i.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(o,r,a,c)+10):(u=this.maxHeight,l=this._fitCols(o,i,a,c)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=i+a;let h=t;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((m,_)=>{const b=s+n/2+r.measureText(m.text).width;(_===0||l[l.length-1]+b+2*a>o)&&(h+=u,l[l.length-(_>0?0:1)]=0,f+=u,d++),c[_]={left:0,top:f,row:d,width:b,height:i},l[l.length-1]+=b+a}),h}_fitCols(t,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=o-t;let h=a,d=0,f=0,m=0,_=0;return this.legendItems.forEach((b,E)=>{const{itemWidth:x,itemHeight:k}=J5(s,n,r,b,i);E>0&&f+k+2*a>u&&(h+=d+a,l.push({width:d,height:f}),m+=d+a,_++,d=f=0),c[E]={left:m,top:f,col:_,width:x,height:k},d=Math.max(d,x),f+=k+a}),h+=d,l.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Ir(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=De(s,this.left+i,this.right-this.lineWidths[a]);for(const l of n)a!==l.row&&(a=l.row,c=De(s,this.left+i,this.right-this.lineWidths[a])),l.top+=this.top+t+i,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+i}else{let a=0,c=De(s,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const l of n)l.col!==a&&(a=l.col,c=De(s,this.top+t+i,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+i,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;hh(t,this),this._draw(),dh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=t,a=le.color,c=Ir(t.rtl,this.left,this.width),l=ye(o.font),{padding:u}=o,h=l.size,d=h/2;let f;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:m,boxHeight:_,itemHeight:b}=rv(o,h),E=function(A,D,M){if(isNaN(m)||m<=0||isNaN(_)||_<0)return;i.save();const H=mt(M.lineWidth,1);if(i.fillStyle=mt(M.fillStyle,a),i.lineCap=mt(M.lineCap,"butt"),i.lineDashOffset=mt(M.lineDashOffset,0),i.lineJoin=mt(M.lineJoin,"miter"),i.lineWidth=H,i.strokeStyle=mt(M.strokeStyle,a),i.setLineDash(mt(M.lineDash,[])),o.usePointStyle){const F={radius:_*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:H},j=c.xPlus(A,m/2),$=D+d;UT(i,F,j,$,o.pointStyleWidth&&m)}else{const F=D+Math.max((h-_)/2,0),j=c.leftForLtr(A,m),$=qi(M.borderRadius);i.beginPath(),Object.values($).some(J=>J!==0)?ka(i,{x:j,y:F,w:m,h:_,radius:$}):i.rect(j,F,m,_),i.fill(),H!==0&&i.stroke()}i.restore()},x=function(A,D,M){tr(i,M.text,A,D+b/2,l,{strikethrough:M.hidden,textAlign:c.textAlign(M.textAlign)})},k=this.isHorizontal(),C=this._computeTitleHeight();k?f={x:De(r,this.left+u,this.right-s[0]),y:this.top+u+C,line:0}:f={x:this.left+u,y:De(r,this.top+C+u,this.bottom-n[0].height),line:0},YT(this.ctx,t.textDirection);const R=b+u;this.legendItems.forEach((A,D)=>{i.strokeStyle=A.fontColor,i.fillStyle=A.fontColor;const M=i.measureText(A.text).width,H=c.textAlign(A.textAlign||(A.textAlign=o.textAlign)),F=m+d+M;let j=f.x,$=f.y;c.setWidth(this.width),k?D>0&&j+F+u>this.right&&($=f.y+=R,f.line++,j=f.x=De(r,this.left+u,this.right-s[f.line])):D>0&&$+R>this.bottom&&(j=f.x=j+n[f.line].width+u,f.line++,$=f.y=De(r,this.top+C+u,this.bottom-n[f.line].height));const J=c.x(j);if(E(J,$,A),j=bV(H,j+m+d,k?j+F:this.right,t.rtl),x(c.x(j),$,A),k)f.x+=F+u;else if(typeof A.text!="string"){const et=l.lineHeight;f.y+=wx(A,et)}else f.y+=R}),XT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=ye(n.font),i=Fe(n.padding);if(!n.display)return;const r=Ir(t.rtl,this.left,this.width),o=this.ctx,a=n.position,c=s.size/2,l=i.top+c;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+l,h=De(t.align,h,this.right-d);else{const m=this.columnSizes.reduce((_,b)=>Math.max(_,b.height),0);u=l+De(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const f=De(a,h,h+d);o.textAlign=r.textAlign(zg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,tr(o,n.text,f,u,s)}_computeTitleHeight(){const t=this.options.title,n=ye(t.font),s=Fe(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,i,r;if(fs(t,this.left,this.right)&&fs(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],fs(t,i.left,i.left+i.width)&&fs(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!t3(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=X5(i,s);i&&!r&&qt(n.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!r&&qt(n.onHover,[t,s,this],this)}else s&&qt(n.onClick,[t,s,this],this)}}function J5(e,t,n,s,i){const r=Q5(s,e,t,n),o=Z5(i,s,t.lineHeight);return{itemWidth:r,itemHeight:o}}function Q5(e,t,n,s){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+s.measureText(i).width}function Z5(e,t,n){let s=e;return typeof t.text!="string"&&(s=wx(t,n)),s}function wx(e,t){const n=e.text?e.text.length+.5:0;return t*n}function t3(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var e3={id:"legend",_element:ov,start(e,t,n){const s=e.legend=new ov({ctx:e.ctx,options:n,chart:e});Ae.configure(e,s,n),Ae.addBox(e,s)},stop(e){Ae.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;Ae.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const l=c.controller.getStyle(n?0:void 0),u=Fe(l.borderWidth);return{text:t[c.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:s||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Zg extends Sn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Yt(s.text)?s.text.length:1;this._padding=Fe(s.padding);const r=i*ye(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let c=0,l,u,h;return this.isHorizontal()?(u=De(a,s,r),h=n+t,l=r-s):(o.position==="left"?(u=s+t,h=De(a,i,n),c=te*-.5):(u=r-t,h=De(a,n,i),c=te*.5),l=i-n),{titleX:u,titleY:h,maxWidth:l,rotation:c}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=ye(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(r);tr(t,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:l,textAlign:zg(n.align),textBaseline:"middle",translation:[o,a]})}}function n3(e,t){const n=new Zg({ctx:e.ctx,options:t,chart:e});Ae.configure(e,n,t),Ae.addBox(e,n),e.titleBlock=n}var s3={id:"title",_element:Zg,start(e,t,n){n3(e,n)},stop(e){const t=e.titleBlock;Ae.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;Ae.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fc=new WeakMap;var i3={id:"subtitle",start(e,t,n){const s=new Zg({ctx:e.ctx,options:n,chart:e});Ae.configure(e,s,n),Ae.addBox(e,s),Fc.set(e,s)},stop(e){Ae.removeBox(e,Fc.get(e)),Fc.delete(e)},beforeUpdate(e,t,n){const s=Fc.get(e);Ae.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mo={average(e){if(!e.length)return!1;let t,n,s=0,i=0,r=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();s+=a.x,i+=a.y,++r}}return{x:s/r,y:i/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const c=e[r].element;if(c&&c.hasValue()){const l=c.getCenterPoint(),u=Cf(t,l);u<i&&(i=u,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function Cn(e,t){return t&&(Yt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function es(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function r3(e,t){const{element:n,datasetIndex:s,index:i}=t,r=e.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:e,label:o,parsed:r.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function av(e,t){const n=e.chart.ctx,{body:s,footer:i,title:r}=e,{boxWidth:o,boxHeight:a}=t,c=ye(t.bodyFont),l=ye(t.titleFont),u=ye(t.footerFont),h=r.length,d=i.length,f=s.length,m=Fe(t.padding);let _=m.height,b=0,E=s.reduce((C,R)=>C+R.before.length+R.lines.length+R.after.length,0);if(E+=e.beforeBody.length+e.afterBody.length,h&&(_+=h*l.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),E){const C=t.displayColors?Math.max(a,c.lineHeight):c.lineHeight;_+=f*C+(E-f)*c.lineHeight+(E-1)*t.bodySpacing}d&&(_+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let x=0;const k=function(C){b=Math.max(b,n.measureText(C).width+x)};return n.save(),n.font=l.string,Ut(e.title,k),n.font=c.string,Ut(e.beforeBody.concat(e.afterBody),k),x=t.displayColors?o+2+t.boxPadding:0,Ut(s,C=>{Ut(C.before,k),Ut(C.lines,k),Ut(C.after,k)}),x=0,n.font=u.string,Ut(e.footer,k),n.restore(),b+=m.width,{width:b,height:_}}function o3(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function a3(e,t,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(e==="left"&&i+r+o>t.width||e==="right"&&i-r-o<0)return!0}function c3(e,t,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:c}}=e;let l="center";return s==="center"?l=i<=(a+c)/2?"left":"right":i<=r/2?l="left":i>=o-r/2&&(l="right"),a3(l,e,t,n)&&(l="center"),l}function cv(e,t,n){const s=n.yAlign||t.yAlign||o3(e,n);return{xAlign:n.xAlign||t.xAlign||c3(e,t,n,s),yAlign:s}}function l3(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function u3(e,t,n){let{y:s,height:i}=e;return t==="top"?s+=n:t==="bottom"?s-=i+n:s-=i/2,s}function lv(e,t,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:c}=n,l=i+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=qi(o);let m=l3(t,a);const _=u3(t,c,l);return c==="center"?a==="left"?m+=l:a==="right"&&(m-=l):a==="left"?m-=Math.max(u,d)+i:a==="right"&&(m+=Math.max(h,f)+i),{x:we(m,0,s.width-t.width),y:we(_,0,s.height-t.height)}}function $c(e,t,n){const s=Fe(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function uv(e){return Cn([],es(e))}function h3(e,t,n){return mi(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function hv(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Sx={beforeTitle:Jn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Jn,beforeBody:Jn,beforeLabel:Jn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Mt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Jn,afterBody:Jn,beforeFooter:Jn,footer:Jn,afterFooter:Jn};function ze(e,t,n,s){const i=e[t].call(n,s);return typeof i=="undefined"?Sx[t].call(n,s):i}class Nf extends Sn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new tx(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=h3(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,i=ze(s,"beforeTitle",this,t),r=ze(s,"title",this,t),o=ze(s,"afterTitle",this,t);let a=[];return a=Cn(a,es(i)),a=Cn(a,es(r)),a=Cn(a,es(o)),a}getBeforeBody(t,n){return uv(ze(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,i=[];return Ut(t,r=>{const o={before:[],lines:[],after:[]},a=hv(s,r);Cn(o.before,es(ze(a,"beforeLabel",this,r))),Cn(o.lines,ze(a,"label",this,r)),Cn(o.after,es(ze(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,n){return uv(ze(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,i=ze(s,"beforeFooter",this,t),r=ze(s,"footer",this,t),o=ze(s,"afterFooter",this,t);let a=[];return a=Cn(a,es(i)),a=Cn(a,es(r)),a=Cn(a,es(o)),a}_createItems(t){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],c,l;for(c=0,l=n.length;c<l;++c)a.push(r3(this.chart,n[c]));return t.filter&&(a=a.filter((u,h,d)=>t.filter(u,h,d,s))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,s))),Ut(a,u=>{const h=hv(t.callbacks,u);i.push(ze(h,"labelColor",this,u)),r.push(ze(h,"labelPointStyle",this,u)),o.push(ze(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Mo[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=av(this,s),l=Object.assign({},a,c),u=cv(this.chart,s,l),h=lv(s,l,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,i){const r=this.getCaretPosition(t,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:c,topRight:l,bottomLeft:u,bottomRight:h}=qi(a),{x:d,y:f}=t,{width:m,height:_}=n;let b,E,x,k,C,R;return r==="center"?(C=f+_/2,i==="left"?(b=d,E=b-o,k=C+o,R=C-o):(b=d+m,E=b+o,k=C-o,R=C+o),x=b):(i==="left"?E=d+Math.max(c,u)+o:i==="right"?E=d+m-Math.max(l,h)-o:E=this.caretX,r==="top"?(k=f,C=k-o,b=E-o,x=E+o):(k=f+_,C=k+o,b=E+o,x=E-o),R=k),{x1:b,x2:E,x3:x,y1:k,y2:C,y3:R}}drawTitle(t,n,s){const i=this.title,r=i.length;let o,a,c;if(r){const l=Ir(s.rtl,this.x,this.width);for(t.x=$c(this,s.titleAlign,s),n.textAlign=l.textAlign(s.titleAlign),n.textBaseline="middle",o=ye(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<r;++c)n.fillText(i[c],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,c+1===r&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:l}=r,u=ye(r.bodyFont),h=$c(this,"left",r),d=i.x(h),f=c<u.lineHeight?(u.lineHeight-c)/2:0,m=n.y+f;if(r.usePointStyle){const _={radius:Math.min(l,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(d,l)+l/2,E=m+c/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Df(t,_,b,E),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Df(t,_,b,E)}else{t.lineWidth=Et(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(d,l),b=i.leftForLtr(i.xPlus(d,1),l-2),E=qi(o.borderRadius);Object.values(E).some(x=>x!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,ka(t,{x:_,y:m,w:l,h:c,radius:E}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),ka(t,{x:b,y:m+1,w:l-2,h:c-2,radius:E}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(_,m,l,c),t.strokeRect(_,m,l,c),t.fillStyle=o.backgroundColor,t.fillRect(b,m+1,l-2,c-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:l,boxPadding:u}=s,h=ye(s.bodyFont);let d=h.lineHeight,f=0;const m=Ir(s.rtl,this.x,this.width),_=function(M){n.fillText(M,m.x(t.x+f),t.y+d/2),t.y+=d+r},b=m.textAlign(o);let E,x,k,C,R,A,D;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=$c(this,b,s),n.fillStyle=s.bodyColor,Ut(this.beforeBody,_),f=a&&b!=="right"?o==="center"?l/2+u:l+2+u:0,C=0,A=i.length;C<A;++C){for(E=i[C],x=this.labelTextColors[C],n.fillStyle=x,Ut(E.before,_),k=E.lines,a&&k.length&&(this._drawColorBox(n,t,C,m,s),d=Math.max(h.lineHeight,c)),R=0,D=k.length;R<D;++R)_(k[R]),d=h.lineHeight;Ut(E.after,_)}f=0,d=h.lineHeight,Ut(this.afterBody,_),t.y-=r}drawFooter(t,n,s){const i=this.footer,r=i.length;let o,a;if(r){const c=Ir(s.rtl,this.x,this.width);for(t.x=$c(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=ye(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=t,{width:l,height:u}=s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:m}=qi(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,c),o==="top"&&this.drawCaret(t,n,s,i),n.lineTo(a+l-d,c),n.quadraticCurveTo(a+l,c,a+l,c+d),o==="center"&&r==="right"&&this.drawCaret(t,n,s,i),n.lineTo(a+l,c+u-m),n.quadraticCurveTo(a+l,c+u,a+l-m,c+u),o==="bottom"&&this.drawCaret(t,n,s,i),n.lineTo(a+f,c+u),n.quadraticCurveTo(a,c+u,a,c+u-f),o==="center"&&r==="left"&&this.drawCaret(t,n,s,i),n.lineTo(a,c+h),n.quadraticCurveTo(a,c,a+h,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Mo[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=av(this,t),c=Object.assign({},o,this._size),l=cv(n,t,c),u=lv(t,c,l,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Fe(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,i,n),YT(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),XT(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,i=t.map(({datasetIndex:a,index:c})=>{const l=this.chart.getDatasetMeta(a);if(!l)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:l.data[c],index:c}}),r=!Yl(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,s),a=this._positionChanged(o,t),c=n||!Yl(o,r)||a;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),c}_getActiveElements(t,n,s,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return n;const o=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:s,caretY:i,options:r}=this,o=Mo[r.position].call(this,t,n);return o!==!1&&(s!==o.x||i!==o.y)}}Y(Nf,"positioners",Mo);var d3={id:"tooltip",_element:Nf,positioners:Mo,afterInit(e,t,n){n&&(e.tooltip=new Nf({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Sx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},f3=Object.freeze({__proto__:null,Colors:_x,Decimation:D5,Filler:Y5,Legend:e3,SubTitle:i3,Title:s3,Tooltip:d3});const p3=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function g3(e,t,n,s){const i=e.indexOf(t);if(i===-1)return p3(e,t,n,s);const r=e.lastIndexOf(t);return i!==r?n:i}const m3=(e,t)=>e===null?null:we(Math.round(e),0,t);function dv(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ff extends rr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Mt(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:g3(s,t,mt(n,t),this._addedLabels),m3(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return dv.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Y(Ff,"id","category"),Y(Ff,"defaults",{ticks:{callback:dv}});function _3(e,t){const n=[],{bounds:i,step:r,min:o,max:a,precision:c,count:l,maxTicks:u,maxDigits:h,includeBounds:d}=e,f=r||1,m=u-1,{min:_,max:b}=t,E=!Mt(o),x=!Mt(a),k=!Mt(l),C=(b-_)/(h+1);let R=ob((b-_)/m/f)*f,A,D,M,H;if(R<1e-14&&!E&&!x)return[{value:_},{value:b}];H=Math.ceil(b/R)-Math.floor(_/R),H>m&&(R=ob(H*R/m/f)*f),Mt(c)||(A=Math.pow(10,c),R=Math.ceil(R*A)/A),i==="ticks"?(D=Math.floor(_/R)*R,M=Math.ceil(b/R)*R):(D=_,M=b),E&&x&&r&&dV((a-o)/r,R/1e3)?(H=Math.round(Math.min((a-o)/R,u)),R=(a-o)/H,D=o,M=a):k?(D=E?o:D,M=x?a:M,H=l-1,R=(M-D)/H):(H=(M-D)/R,Ko(H,Math.round(H),R/1e3)?H=Math.round(H):H=Math.ceil(H));const F=Math.max(ab(R),ab(D));A=Math.pow(10,Mt(c)?F:c),D=Math.round(D*A)/A,M=Math.round(M*A)/A;let j=0;for(E&&(d&&D!==o?(n.push({value:o}),D<o&&j++,Ko(Math.round((D+j*R)*A)/A,o,fv(o,C,e))&&j++):D<o&&j++);j<H;++j){const $=Math.round((D+j*R)*A)/A;if(x&&$>a)break;n.push({value:$})}return x&&d&&M!==a?n.length&&Ko(n[n.length-1].value,a,fv(a,C,e))?n[n.length-1].value=a:n.push({value:a}):(!x||M===a)&&n.push({value:M}),n}function fv(e,t,{horizontal:n,minRotation:s}){const i=mn(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class nu extends rr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Mt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=c=>i=n?i:c,a=c=>r=s?r:c;if(t){const c=jn(i),l=jn(r);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);a(r+c),t||o(i-c)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=_3(i,r);return t.bounds==="ticks"&&MT(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-n)/Math.max(t.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return nc(t,this.chart.options.locale,this.options.ticks.format)}}class $f extends nu{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ae(t)?t:0,this.max=ae(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=mn(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Y($f,"id","linear"),Y($f,"defaults",{ticks:{callback:uh.formatters.numeric}});const Ia=e=>Math.floor(zs(e)),Ci=(e,t)=>Math.pow(10,Ia(e)+t);function pv(e){return e/Math.pow(10,Ia(e))===1}function gv(e,t,n){const s=Math.pow(10,n),i=Math.floor(e/s);return Math.ceil(t/s)-i}function y3(e,t){const n=t-e;let s=Ia(n);for(;gv(e,t,s)>10;)s++;for(;gv(e,t,s)<10;)s--;return Math.min(s,Ia(e))}function b3(e,{min:t,max:n}){t=Xe(e.min,t);const s=[],i=Ia(t);let r=y3(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),c=i>r?Math.pow(10,i):0,l=Math.round((t-c)*o)/o,u=Math.floor((t-c)/a/10)*a*10;let h=Math.floor((l-u)/Math.pow(10,r)),d=Xe(e.min,Math.round((c+u+h*Math.pow(10,r))*o)/o);for(;d<n;)s.push({value:d,major:pv(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),d=Math.round((c+u+h*Math.pow(10,r))*o)/o;const f=Xe(e.max,d);return s.push({value:f,major:pv(f),significand:h}),s}class Bf extends rr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const s=nu.prototype.parse.apply(this,[t,n]);if(s===0){this._zero=!0;return}return ae(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ae(t)?Math.max(0,t):null,this.max=ae(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ae(this._userMin)&&(this.min=t===Ci(this.min,0)?Ci(this.min,-1):Ci(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=t?s:a,o=a=>i=n?i:a;s===i&&(s<=0?(r(1),o(10)):(r(Ci(s,-1)),o(Ci(i,1)))),s<=0&&r(Ci(i,-1)),i<=0&&o(Ci(s,1)),this.min=s,this.max=i}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},s=b3(n,this);return t.bounds==="ticks"&&MT(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(t){return t===void 0?"0":nc(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=zs(t),this._valueRange=zs(this.max)-zs(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(zs(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Y(Bf,"id","logarithmic"),Y(Bf,"defaults",{ticks:{callback:uh.formatters.logarithmic,major:{enabled:!0}}});function Uf(e){const t=e.ticks;if(t.display&&e.display){const n=Fe(t.backdropPadding);return mt(t.font&&t.font.size,le.font.size)+n.height}return 0}function v3(e,t,n){return n=Yt(n)?n:[n],{w:DV(e,t.string,n),h:n.length*t.lineHeight}}function mv(e,t,n,s,i){return e===s||e===i?{start:t-n/2,end:t+n/2}:e<s||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function w3(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),s=[],i=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?te/r:0;for(let c=0;c<r;c++){const l=o.setContext(e.getPointLabelContext(c));i[c]=l.padding;const u=e.getPointPosition(c,e.drawingArea+i[c],a),h=ye(l.font),d=v3(e.ctx,h,e._pointLabels[c]);s[c]=d;const f=Qe(e.getIndexAngle(c)+a),m=Math.round(jg(f)),_=mv(m,u.x,d.w,0,180),b=mv(m,u.y,d.h,90,270);S3(n,t,f,_,b)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=x3(e,s,i)}function S3(e,t,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,c=0;s.start<t.l?(a=(t.l-s.start)/r,e.l=Math.min(e.l,t.l-a)):s.end>t.r&&(a=(s.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(c=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-c)):i.end>t.b&&(c=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+c))}function E3(e,t,n){const s=e.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=n,c=e.getPointPosition(t,s+i+o,r),l=Math.round(jg(Qe(c.angle+ce))),u=I3(c.y,a.h,l),h=k3(l),d=C3(c.x,a.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function T3(e,t){if(!t)return!0;const{left:n,top:s,right:i,bottom:r}=e;return!(gs({x:n,y:s},t)||gs({x:n,y:r},t)||gs({x:i,y:s},t)||gs({x:i,y:r},t))}function x3(e,t,n){const s=[],i=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,c={extra:Uf(r)/2,additionalAngle:o?te/i:0};let l;for(let u=0;u<i;u++){c.padding=n[u],c.size=t[u];const h=E3(e,u,c);s.push(h),a==="auto"&&(h.visible=T3(h,l),h.visible&&(l=h))}return s}function k3(e){return e===0||e===180?"center":e<180?"left":"right"}function C3(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function I3(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function D3(e,t,n){const{left:s,top:i,right:r,bottom:o}=n,{backdropColor:a}=t;if(!Mt(a)){const c=qi(t.borderRadius),l=Fe(t.backdropPadding);e.fillStyle=a;const u=s-l.left,h=i-l.top,d=r-s+l.width,f=o-i+l.height;Object.values(c).some(m=>m!==0)?(e.beginPath(),ka(e,{x:u,y:h,w:d,h:f,radius:c}),e.fill()):e.fillRect(u,h,d,f)}}function R3(e,t){const{ctx:n,options:{pointLabels:s}}=e;for(let i=t-1;i>=0;i--){const r=e._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(e.getPointLabelContext(i));D3(n,o,r);const a=ye(o.font),{x:c,y:l,textAlign:u}=r;tr(n,e._pointLabels[i],c,l+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function Ex(e,t,n,s){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Xt);else{let r=e.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=e.getPointPosition(o,t),i.lineTo(r.x,r.y)}}function M3(e,t,n,s,i){const r=e.ctx,o=t.circular,{color:a,lineWidth:c}=t;!o&&!s||!a||!c||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=c,r.setLineDash(i.dash),r.lineDashOffset=i.dashOffset,r.beginPath(),Ex(e,n,o,s),r.closePath(),r.stroke(),r.restore())}function A3(e,t,n){return mi(e,{label:n,index:t,type:"pointLabel"})}class Ao extends nu{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Fe(Uf(this.options)/2),n=this.width=this.maxWidth-t.width,s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+s/2+t.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=ae(t)&&!isNaN(t)?t:0,this.max=ae(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Uf(this.options))}generateTickLabels(t){nu.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,s)=>{const i=qt(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;t.display&&t.pointLabels.display?w3(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,s,i){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,s,i))}getIndexAngle(t){const n=Xt/(this._pointLabels.length||1),s=this.options.startAngle||0;return Qe(t*n+mn(s))}getDistanceFromCenterForValue(t){if(Mt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Mt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const s=n[t];return A3(this.getContext(),t,s)}}getPointPosition(t,n,s=0){const i=this.getIndexAngle(t)-ce+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[t];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const s=this.ctx;s.save(),s.beginPath(),Ex(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:s,grid:i,border:r}=n,o=this._pointLabels.length;let a,c,l;if(n.pointLabels.display&&R3(this,o),i.display&&this.ticks.forEach((u,h)=>{if(h!==0){c=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=i.setContext(d),m=r.setContext(d);M3(this,f,c,o,m)}}),s.display){for(t.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(t.lineWidth=d,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&!n.reverse)return;const l=s.setContext(this.getContext(c)),u=ye(l.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=l.backdropColor;const h=Fe(l.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}tr(t,a.label,0,-r,u,{color:l.color})}),t.restore()}drawTitle(){}}Y(Ao,"id","radialLinear"),Y(Ao,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:uh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Y(Ao,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Y(Ao,"descriptors",{angleLines:{_fallback:"grid"}});const ph={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qe=Object.keys(ph);function O3(e,t){return e-t}function _v(e,t){if(Mt(t))return null;const n=e._adapter,{parser:s,round:i,isoWeekday:r}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),ae(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Vr(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function yv(e,t,n,s){const i=qe.length;for(let r=qe.indexOf(e);r<i-1;++r){const o=ph[qe[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=s)return qe[r]}return qe[i-1]}function P3(e,t,n,s,i){for(let r=qe.length-1;r>=qe.indexOf(n);r--){const o=qe[r];if(ph[o].common&&e._adapter.diff(i,s,o)>=t-1)return o}return qe[n?qe.indexOf(n):0]}function L3(e){for(let t=qe.indexOf(e)+1,n=qe.length;t<n;++t)if(ph[qe[t]].common)return qe[t]}function bv(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:i}=Vg(n,t),r=n[s]>=t?n[s]:n[i];e[r]=!0}}function N3(e,t,n,s){const i=e._adapter,r=+i.startOf(t[0].value,s),o=t[t.length-1].value;let a,c;for(a=r;a<=o;a=+i.add(a,1,s))c=n[a],c>=0&&(t[c].major=!0);return t}function vv(e,t,n){const s=[],i={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:N3(e,s,i,n)}class Da extends rr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),i=this._adapter=new Wz._date(t.adapters.date);i.init(n),Go(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:_v(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(l){!o&&!isNaN(l.min)&&(i=Math.min(i,l.min)),!a&&!isNaN(l.max)&&(r=Math.max(r,l.max))}(!o||!a)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=ae(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=ae(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=mV(i,r,o);return this._unit=n.unit||(s.autoSkip?yv(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):P3(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:L3(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),vv(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=we(n,0,o),s=we(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||yv(r.minUnit,n,s,this._getLabelCapacity(n)),a=mt(i.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,l=Vr(c)||c===!0,u={};let h=n,d,f;if(l&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,l?"day":o),t.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<s;d=+t.add(d,a,o),f++)bv(u,d,m);return(d===s||i.bounds==="ticks"||f===1)&&bv(u,d,m),Object.keys(u).sort((_,b)=>_-b).map(_=>+_)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return qt(o,[t,n,s],this);const a=r.time.displayFormats,c=this._unit,l=this._majorUnit,u=c&&a[c],h=l&&a[l],d=s[n],f=l&&h&&d&&d.major;return this._adapter.format(t,i||(f?h:u))}generateTickLabels(t){let n,s,i;for(n=0,s=t.length;n<s;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,i=mn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(t,0,vv(this,[t],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)t.push(_v(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return PT(t.sort(O3))}}Y(Da,"id","time"),Y(Da,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Bc(e,t,n){let s=0,i=e.length-1,r,o,a,c;n?(t>=e[s].pos&&t<=e[i].pos&&({lo:s,hi:i}=ps(e,"pos",t)),{pos:r,time:a}=e[s],{pos:o,time:c}=e[i]):(t>=e[s].time&&t<=e[i].time&&({lo:s,hi:i}=ps(e,"time",t)),{time:r,pos:a}=e[s],{time:o,pos:c}=e[i]);const l=o-r;return l?a+(c-a)*(t-r)/l:a}class Hf extends Da{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Bc(n,this.min),this._tableRange=Bc(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,i=[],r=[];let o,a,c,l,u;for(o=0,a=t.length;o<a;++o)l=t[o],l>=n&&l<=s&&i.push(l);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],c=i[o-1],l=i[o],Math.round((u+c)/2)!==l&&r.push({time:l,pos:o/(a-1)});return r}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Bc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Bc(this._table,s*this._tableRange+this._minPos,!0)}}Y(Hf,"id","timeseries"),Y(Hf,"defaults",Da.defaults);var F3=Object.freeze({__proto__:null,CategoryScale:Ff,LinearScale:$f,LogarithmicScale:Bf,RadialLinearScale:Ao,TimeScale:Da,TimeSeriesScale:Hf});const $3=[zz,v5,f3,F3];rs.register(...$3);var wv=rs;const B3={class:"container remove-all-margin-padding"},U3=["id"],H3={__name:"Chart",props:{chartDetails:Object},setup(e){const t=e;let n=null;function s(){const i=document.getElementById(t.chartDetails.id);wv.register(_x),n=new wv(i,{type:t.chartDetails.chartShape,data:t.chartDetails.chartData,options:t.chartDetails.chartOptions})}return Oa(()=>{s()}),Xs(()=>t.chartDetails.chartOptions,()=>{n.destroy(),s()}),(i,r)=>(q(),Z("div",B3,[z("canvas",{id:e.chartDetails.id,class:"canvas-height"},null,8,U3)]))}};var Tx=pe(H3,[["__scopeId","data-v-2806eca0"]]);const j3={class:"chart-grid-container"},V3=["onClick"],z3={class:"toggle-icon"},W3={key:0,class:"chart-container"},q3={class:"edit-icon"},G3={class:"trash-icon"},K3={__name:"ChartGrid",setup(e){const t=Fg();Qt(()=>t.charts);function n(a){t.newChartDetails=a,ms.push({name:"chart-builder"})}function s(a){const c=[a];t.deleteCharts(c)}function i(a){return t.chartShapeParams.find(c=>c.name===a).maxHeight}function r(a){return t.chartShapeParams.find(c=>c.name===a).maxWidth}function o(a){return t.charts.filter(c=>c.chartShape===a)}return(a,c)=>{const l=Gn("ion-icon");return q(),Z("div",j3,[(q(!0),Z(Gt,null,Ge(rt(t).chartShapeParams,u=>(q(),Z("div",{class:"type-layer",key:u.name},[z("div",{class:"type-label-dropdown",onClick:h=>u.isOpen=!u.isOpen},[z("h3",null,re(u.name.toLocaleUpperCase()),1),z("span",z3,[u.isOpen?(q(),_e(l,{key:0,name:"caret-down-outline"})):(q(),_e(l,{key:1,name:"caret-forward-outline"}))])],8,V3),u.isOpen?(q(),Z("div",W3,[(q(!0),Z(Gt,null,Ge(o(u.name),h=>(q(),Z("div",{class:"chart-slot",key:h.id,style:Ra({"max-height":i(h.chartShape),"max-width":r(h.chartShape)})},[z("span",q3,[dt(l,{name:"pencil",class:"bi",onClick:d=>n(h)},null,8,["onClick"])]),z("span",G3,[dt(l,{name:"trash-outline",class:"bi",onClick:d=>s(h)},null,8,["onClick"])]),dt(Tx,{"chart-details":h},null,8,["chart-details"])],4))),128))])):Rt("",!0)]))),128))])}}},Y3={__name:"AirDateRange",props:{date:Date},emits:["dateInput"],setup(e,{emit:t}){const n=oe(null);let s=null;function i({date:r}){t("dateInput",r)}return Oa(()=>{s=new ET(n.value,{range:!0,locale:Pg,multipleDatesSeparator:" - ",onSelect:i})}),du(()=>{s&&s.destroy()}),(r,o)=>(q(),Z("div",{ref_key:"datepickerElement",ref:n},null,512))}};var X3=pe(Y3,[["__scopeId","data-v-16b9bc1d"]]);const J3={class:"container"},Q3={class:"chart-header"},Z3={class:"date-picker-container"},tq={__name:"Summary",setup(e){const t=Fg(),n=oe(!1),s=oe(!1);Aa(async()=>{t.initializeChartShapeParams(),await t.initializeCharts(),n.value=!1});let i=Qt(()=>{if(t.dateRange.length===0)return"All Time";const u=new Date(t.dateRange[0]).toLocaleDateString();if(t.dateRange.length===1)return`${u} - `;const h=new Date(t.dateRange[1]).toLocaleDateString();return`${u} - ${h}`});Qt(()=>endDate!==""||endDate!==void 0?new Date(endDate):new Date("2970-01-01T00:00:00")),Qt(()=>startDate!==""||startDate!==void 0?new Date(startDate):new Date("1970-01-01T00:00:00"));async function r(){o(),await ms.push({name:"chart-builder"})}function o(){const u="chart_"+(t.charts.length+1),h="New Chart - "+(t.charts.length+1);t.newChartDetails=new xf(u,h,null,Li.BAR,null,new Ng(h),null,null,"","")}function a(){t.dateRange.length!==1&&(s.value=!s.value)}async function c(){t.dateRange=[],s.value=!1,await t.recalculateCharts()}async function l(u){t.dateRange=u,u.length===2&&(s.value=!1,await t.recalculateCharts())}return(u,h)=>{const d=Gn("ion-icon");return q(),Z("div",J3,[z("div",Q3,[z("div",Z3,[z("button",{id:"chart-date-picker",onClick:h[0]||(h[0]=f=>a())},[dt(d,{name:"calendar-outline"}),z("span",null,re(rt(i)),1)]),s.value?(q(),Z("button",{key:0,id:"clear-date-selection",onClick:h[1]||(h[1]=f=>c())},[dt(d,{name:"close"})])):Rt("",!0),s.value?(q(),_e(Lg,{key:1,class:"date-dropdown",role:"dialog","aria-modal":"true"},{body:Ys(()=>[dt(X3,{onDateInput:l})]),_:1})):Rt("",!0)]),n.value?Rt("",!0):(q(),Z("button",{key:0,id:"open-chart-builder-button",onClick:h[2]||(h[2]=f=>r())},"Add Chart"))]),dt(K3)])}}};var eq=pe(tq,[["__scopeId","data-v-2ac318e5"]]);const gh=e=>(Xr("data-v-6a783e46"),e=e(),Jr(),e),nq={class:"form-container"},sq={class:"form-column"},iq={class:"form-column-item"},rq=gh(()=>z("label",{for:"new-chart-title"},"Chart Title:",-1)),oq={class:"form-input-container"},aq={class:"form-column-item"},cq=gh(()=>z("label",{for:"new-chart-type"},"Chart Shape:",-1)),lq={class:"form-input-container"},uq=["value"],hq={class:"form-column-item"},dq=gh(()=>z("label",{for:"new-chart-component"},"Chart Component:",-1)),fq={class:"form-input-container"},pq=["value"],gq={class:"form-column-item"},mq=gh(()=>z("label",{for:"new-chart-food-select"},"Target Food:",-1)),_q={class:"form-input-container"},yq=["value"],bq={class:"form-column-item form-button-container"},vq={__name:"ChartBuilder",setup(e){const t=lh(),n=TT(),s=Fg();oe(!0),Aa(async()=>{await t.initializeComponentLists(),await n.initializeFoodList()}),Qt(()=>s.charts.length-1);function i(){s.newChartDetails.chartOptions=new Ng(s.newChartDetails.chartTitle),s.newChartDetails.chartOptions.scales=s.newChartDetails.chartOptions?{}:null}async function r(){if(s.newChartDetails.selectedComponent!==null){switch(s.newChartDetails.selectedComponent.typeId){case 1:{s.newChartDetails.selectedFood===null?(s.newChartDetails.chartType=on.AVERAGE,s.newChartDetails=await s.createAverageChart(s.newChartDetails)):(s.newChartDetails.chartType=on.FOODVALUE,s.newChartDetails=await s.createFoodValueChart(s.newChartDetails));break}case 2:{s.newChartDetails.chartType=on.SVCWEIGHTBYFOOD,s.newChartDetails=await s.createSingleValueComponentWeightByFoodChart(s.newChartDetails);break}case 3:{s.newChartDetails.chartType=on.MVCWEIGHTBYFOOD,s.newChartDetails=await s.createMultiValueComponentWeightByFoodChart(s.newChartDetails);break}}s.newChartDetails.chartOptions.scales=s.newChartDetails.chartOptions?{}:null}}async function o(){await s.addCharts(),this.closeChartBuilder()}async function a(){await ms.push({name:"summary"})}function c(){s.newChartDetails.chartTitle="",i()}function l(){s.newChartDetails.chartShape=Li.BAR,r()}function u(){s.newChartDetails.selectedComponent="",r()}function h(){s.newChartDetails.selectedFood="",r()}return(d,f)=>{const m=Gn("ion-icon");return q(),Z("div",nq,[z("div",sq,[z("div",iq,[rq,z("div",oq,[je(z("input",{class:"add-chart-input",id:"new-chart-title","onUpdate:modelValue":f[0]||(f[0]=_=>rt(s).newChartDetails.chartTitle=_),onBlur:i},null,544),[[ys,rt(s).newChartDetails.chartTitle]]),dt(m,{name:"close",onClick:f[1]||(f[1]=_=>c())})])]),z("div",aq,[cq,z("div",lq,[je(z("select",{class:"add-chart-dropdown",id:"new-chart-type","onUpdate:modelValue":f[2]||(f[2]=_=>rt(s).newChartDetails.chartShape=_),onChange:i},[(q(!0),Z(Gt,null,Ge(rt(s).chartShapeParams,_=>(q(),Z("option",{key:_,value:_.name},re(_.name),9,uq))),128))],544),[[Wc,rt(s).newChartDetails.chartShape]]),dt(m,{name:"close",onClick:f[3]||(f[3]=_=>l())})])]),z("div",hq,[dq,z("div",fq,[je(z("select",{class:"add-chart-dropdown",id:"new-chart-component","onUpdate:modelValue":f[4]||(f[4]=_=>rt(s).newChartDetails.selectedComponent=_),onChange:r},[(q(!0),Z(Gt,null,Ge(rt(t).selectedComponents,_=>(q(),Z("option",{key:_.id,value:_},re(_.name),9,pq))),128))],544),[[Wc,rt(s).newChartDetails.selectedComponent]]),dt(m,{name:"close",onClick:f[5]||(f[5]=_=>u())})])]),z("div",gq,[mq,z("div",_q,[je(z("select",{class:"add-chart-dropdown",id:"new-chart-food-select","onUpdate:modelValue":f[6]||(f[6]=_=>rt(s).newChartDetails.selectedFood=_),onChange:r},[(q(!0),Z(Gt,null,Ge(rt(n).foods,_=>(q(),Z("option",{key:_.id,value:_},re(_.name),9,yq))),128))],544),[[Wc,rt(s).newChartDetails.selectedFood]]),dt(m,{name:"close",onClick:f[7]||(f[7]=_=>h())})])]),z("div",bq,[z("button",{id:"closeEditButton",onClick:f[8]||(f[8]=_=>a())},"Close"),z("button",{id:"saveEditButton",onClick:f[9]||(f[9]=_=>o())},"Save")])]),dt(Tx,{"chart-details":rt(s).newChartDetails},null,8,["chart-details"])])}}};var wq=pe(vq,[["__scopeId","data-v-6a783e46"]]);const Sq=[{path:"/",name:"home",component:rj,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:lT},{path:"/profile",name:"profile",component:cj,meta:{requiresAuth:!0}},{path:"/layout",name:"layout",component:Rj,meta:{requiresAuth:!0}},{path:"/summary",name:"summary",component:eq,meta:{requiresAuth:!0}},{path:"/chart-builder",name:"chart-builder",component:wq,meta:{requiresAuth:!0}}],ms=zH({history:oH(),routes:Sq}),Eq=e=>(Xr("data-v-154238a9"),e=e(),Jr(),e),Tq={id:"logoButton"},xq=Eq(()=>z("b",null,"LOGO",-1)),kq=[xq],Cq={id:"logsButton"},Iq={key:0},Dq={key:0},Rq={key:0},Mq={__name:"Navbar",setup(e){const t=gi();function n(){ms.push({name:"profile"})}function s(){ms.push({name:"home"})}function i(){ms.push({name:"layout"})}function r(){ms.push({name:"summary"})}return(o,a)=>(q(),Z("nav",null,[z("ul",null,[z("li",Tq,[z("a",{onClick:a[0]||(a[0]=c=>s()),class:"title"},kq)]),z("li",Cq,[z("a",{onClick:a[1]||(a[1]=c=>s())},"Logs")]),z("li",{id:"layoutButton",onClick:a[2]||(a[2]=c=>i())},[rt(t).isLoggedIn?(q(),Z("a",Iq,"Layout")):Rt("",!0)]),z("li",{id:"summaryButton",onClick:a[3]||(a[3]=c=>r())},[rt(t).isLoggedIn?(q(),Z("a",Dq,"Summary")):Rt("",!0)]),z("li",{id:"settingsButton",onClick:a[4]||(a[4]=c=>n())},[rt(t).isLoggedIn?(q(),Z("a",Rq,"Settings")):Rt("",!0)])])]))}};var Aq=pe(Mq,[["__scopeId","data-v-154238a9"]]);const Oq={},Pq={id:"cooking"},Lq=wC('<div id="area" data-v-01fc1372><div id="sides" data-v-01fc1372><div id="pan" data-v-01fc1372></div><div id="handle" data-v-01fc1372></div></div><div id="pancake" data-v-01fc1372><div id="pastry" data-v-01fc1372></div></div></div>',1);function Nq(e,t){return q(),Z("div",Pq,[(q(),Z(Gt,null,Ge(5,n=>z("div",{class:"bubble",key:n})),64)),Lq])}var Fq=pe(Oq,[["render",Nq],["__scopeId","data-v-01fc1372"]]);const $q={__name:"Toast",props:{message:String,type:{type:String,default:"error"}},emits:["toastClose"],setup(e,{emit:t}){const n=e;let s=oe(!1);function i(){s.value=!0,setTimeout(()=>{s.value=!1,t("toastClose")},3e3)}return Xs(()=>n.message,(r,o)=>{r!==o&&r!==null&&r!==void 0&&i()}),(r,o)=>rt(s)?(q(),Z("div",{key:0,class:Vn(["toast",{visible:rt(s),[e.type]:!0}])},re(e.message),3)):Rt("",!0)}},Bq={__name:"ErrorToast",setup(e){const t=Ms();let{errorMessage:n}=lp(t);return(s,i)=>{var r;return q(),_e($q,{message:(r=rt(n))==null?void 0:r.message,onToastClose:rt(t).resetErrorMessage},null,8,["message","onToastClose"])}}},Uq={key:0},Hq={class:"display-box"},jq={key:2,class:"center"},Vq={__name:"App",setup(e){const t=gi();return t.initalizeAuthListener(),(n,s)=>{const i=Gn("router-view");return q(),Z("div",null,[dt(Bq,{id:"error-notification","aria-label":"error-notification"}),!rt(t).isLoading&&rt(t).isLoggedIn?(q(),Z("div",Uq,[dt(Aq),z("div",Hq,[dt(i)])])):rt(t).isLoading?(q(),Z("div",jq,[dt(Fq)])):(q(),_e(lT,{key:1}))])}}},zq=pI(),ic=hI(Vq);tL({app:ic,dsn:"https://71e2c0a7e3d6ef6c95f5113886a86033@o4506306172420096.ingest.sentry.io/4506306184806400",integrations:[new kA({routingInstrumentation:eL(ms)}),new Uu],beforeSend(e){var t;return((t=e.tags)==null?void 0:t.itemType)===de.COMPONENT&&e.exception&&e.exception.values&&e.exception.values.length&&(e.message=`Component Error - ${e.exception.values[0].value}`),e},tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1});ic.use(ms);ic.use(zq);ic.config.compilerOptions.isCustomElement=e=>e.startsWith("ion-");ic.mount("#app")});export default Wq();
